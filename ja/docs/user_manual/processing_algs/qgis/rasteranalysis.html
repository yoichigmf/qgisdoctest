<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>28.1.15. ラスタ解析 &mdash; QGIS Documentation  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/user_manual/processing_algs/qgis/rasteranalysis.html"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="../../../../_static/translations.js?v=4dbe4bdc"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../../genindex.html" />
    <link rel="search" title="検索" href="../../../../search.html" />
    <link rel="next" title="28.1.16. ラスタ作成" href="rastercreation.html" />
    <link rel="prev" title="28.1.14. Point Cloud Extraction" href="pointcloudextraction.html" />
  <meta name="description" content="QGIS 3.34 documentation: 28.1.15. ラスタ解析">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ユーザ向け</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">QGIS Desktopユーザーガイド／マニュアル (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../preamble/preamble.html">1. はじめに</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/foreword.html">2. 序文</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/conventions.html">3. 記述ルール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/features.html">4. 機能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/getting_started.html">5. 最初のステップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/project_files.html">6. プロジェクトファイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/qgis_gui.html">7. QGISのユーザインタフェース</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/browser.html">8. ブラウザパネル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/qgis_configuration.html">9. QGISの設定</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_projections/working_with_projections.html">10. 投影法の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../map_views/index.html">11. 地図の可視化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/general_tools.html">12. 一般ツール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../expressions/index.html">13. 式でレベルアップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../style_library/index.html">14. スタイルライブラリ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../managing_data_source/index.html">15. データソースの管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_vector/index.html">16. ベクタデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_raster/index.html">17. ラスタデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_mesh/mesh.html">18. メッシュデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_vector_tiles/vector_tiles.html">19. ベクタタイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_point_clouds/point_clouds.html">20. 点群の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_3d_tiles/3d_tiles.html">21. 3Dタイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../print_composer/index.html">22. 地図のレイアウト</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_ogc/ogc_client_support.html">23. OGC / ISOプロトコルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_gps/index.html">24. GPSデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auth_system/index.html">25. 認証システム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grass_integration/grass_integration.html">26. GRASS GIS の統合</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../processing/index.html">27. QGIS プロセシングフレームワーク</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">28. プロセシングプロバイダとアルゴリズム</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">28.1. QGISアルゴリズムプロバイダー</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="3dtiles.html">28.1.1. 3D Tiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="cartography.html">28.1.2. 地図製作</a></li>
<li class="toctree-l4"><a class="reference internal" href="database.html">28.1.3. データベース</a></li>
<li class="toctree-l4"><a class="reference internal" href="filetools.html">28.1.4. ファイルツール</a></li>
<li class="toctree-l4"><a class="reference internal" href="gps.html">28.1.5. GPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="interpolation.html">28.1.6. 内挿</a></li>
<li class="toctree-l4"><a class="reference internal" href="layertools.html">28.1.7. レイヤツール</a></li>
<li class="toctree-l4"><a class="reference internal" href="mesh.html">28.1.8. メッシュ</a></li>
<li class="toctree-l4"><a class="reference internal" href="modelertools.html">28.1.9. モデラーツール</a></li>
<li class="toctree-l4"><a class="reference internal" href="networkanalysis.html">28.1.10. ネットワーク解析</a></li>
<li class="toctree-l4"><a class="reference internal" href="plots.html">28.1.11. プロット</a></li>
<li class="toctree-l4"><a class="reference internal" href="pointcloudconversion.html">28.1.12. Point Cloud Conversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="pointclouddatamanagement.html">28.1.13. 点群データ管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="pointcloudextraction.html">28.1.14. Point Cloud Extraction</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">28.1.15. ラスタ解析</a></li>
<li class="toctree-l4"><a class="reference internal" href="rastercreation.html">28.1.16. ラスタ作成</a></li>
<li class="toctree-l4"><a class="reference internal" href="rasterterrainanalysis.html">28.1.17. ラスタ地形解析</a></li>
<li class="toctree-l4"><a class="reference internal" href="rastertools.html">28.1.18. ラスタツール</a></li>
<li class="toctree-l4"><a class="reference internal" href="vectoranalysis.html">28.1.19. ベクタ解析</a></li>
<li class="toctree-l4"><a class="reference internal" href="vectorcreation.html">28.1.20. ベクタ作成</a></li>
<li class="toctree-l4"><a class="reference internal" href="vectorgeneral.html">28.1.21. ベクタ一般</a></li>
<li class="toctree-l4"><a class="reference internal" href="vectorgeometry.html">28.1.22. ベクタジオメトリ</a></li>
<li class="toctree-l4"><a class="reference internal" href="vectoroverlay.html">28.1.23. ベクタオーバーレイ</a></li>
<li class="toctree-l4"><a class="reference internal" href="vectorselection.html">28.1.24. ベクタ選択</a></li>
<li class="toctree-l4"><a class="reference internal" href="vectortable.html">28.1.25. ベクタテーブル</a></li>
<li class="toctree-l4"><a class="reference internal" href="vectortiles.html">28.1.26. ベクタタイル</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../gdal/index.html">28.2. GDAL アルゴリズムプロバイダ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../otb.html">28.3. OTBアプリケーションプロバイダ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html">29. プラグイン</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/help_and_support.html">30. ヘルプとサポート</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/contributors.html">31. 協力者</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/index.html">32. 付録</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../literature_web/literature_and_web_references.html">33. 文献とWeb参照</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../server_manual/index.html">QGIS Serverガイド／マニュアル (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../training_manual/index.html">トレーニングマニュアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gentle_gis_introduction/index.html">やさしい GIS 入門</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ドキュメント執筆者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation_guidelines/index.html">ドキュメント作成のガイドライン</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">開発者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../pyqgis_developer_cookbook/index.html">PyQGISクックブック (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/index.html">開発者ガイド</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">QGISユーザガイド</a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">28. </span>プロセシングプロバイダとアルゴリズム</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">28.1. </span>QGISアルゴリズムプロバイダー</a></li>
      <li class="breadcrumb-item active"><span class="section-number">28.1.15. </span>ラスタ解析</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/user_manual/processing_algs/qgis/rasteranalysis.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="pointcloudextraction.html" class="btn btn-neutral float-left" title="28.1.14. Point Cloud Extraction" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rastercreation.html" class="btn btn-neutral float-right" title="28.1.16. ラスタ作成" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div><div class="admonition important">
<p class="admonition-title">重要</p>
<p>翻訳は <a class="reference external" href="https://qgis.org/en/site/getinvolved/translate.html#becoming-a-translator">あなたが参加できる</a> コミュニティの取り組みです。このページは現在 97.11% 翻訳されています。</p>
</div>
</div></blockquote>
<section id="raster-analysis">
<h1><span class="section-number">28.1.15. </span>ラスタ解析<a class="headerlink" href="#raster-analysis" title="Link to this heading"></a></h1>
<nav class="contents toc-columns local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#cell-stack-percent-rank-from-value" id="id133">ラスタ値のパーセントランク</a></p></li>
<li><p><a class="reference internal" href="#cell-stack-percentile" id="id134">セルスタックの百分位数</a></p></li>
<li><p><a class="reference internal" href="#cell-stack-percentrank-from-raster-layer" id="id135">セルスタック：ラスタ値のパーセントランク</a></p></li>
<li><p><a class="reference internal" href="#cell-statistics" id="id136">セル統計量</a></p></li>
<li><p><a class="reference internal" href="#equal-to-frequency" id="id137">ラスタスタックの値の一致頻度</a></p></li>
<li><p><a class="reference internal" href="#fuzzify-raster-gaussian-membership" id="id138">ラスタのファジー化（gaussian membership）</a></p></li>
<li><p><a class="reference internal" href="#fuzzify-raster-large-membership" id="id139">ラスタのファジー化（large membership）</a></p></li>
<li><p><a class="reference internal" href="#fuzzify-raster-linear-membership" id="id140">ラスタのファジー化（linear membership）</a></p></li>
<li><p><a class="reference internal" href="#fuzzify-raster-near-membership" id="id141">ラスタのファジー化（near membership）</a></p></li>
<li><p><a class="reference internal" href="#fuzzify-raster-power-membership" id="id142">ラスタのファジー化（power membership）</a></p></li>
<li><p><a class="reference internal" href="#fuzzify-raster-small-membership" id="id143">ラスタのファジー化（small membership）</a></p></li>
<li><p><a class="reference internal" href="#greater-than-frequency" id="id144">ラスタスタックの値の超過頻度</a></p></li>
<li><p><a class="reference internal" href="#highest-position-in-raster-stack" id="id145">ラスタスタックの最大値の位置</a></p></li>
<li><p><a class="reference internal" href="#less-than-frequency" id="id146">ラスタスタックの値の未満頻度</a></p></li>
<li><p><a class="reference internal" href="#lowest-position-in-raster-stack" id="id147">ラスタスタックの最小値の位置</a></p></li>
<li><p><a class="reference internal" href="#raster-boolean-and" id="id148">複数ラスタのAND論理値</a></p></li>
<li><p><a class="reference internal" href="#raster-boolean-or" id="id149">複数ラスタのOR論理値</a></p></li>
<li><p><a class="reference internal" href="#raster-calculator" id="id150">ラスタ計算機</a></p></li>
<li><p><a class="reference internal" href="#raster-calculator-virtual" id="id151">Raster calculator (virtual)</a></p></li>
<li><p><a class="reference internal" href="#raster-layer-properties" id="id152">ラスタレイヤのプロパティ</a></p></li>
<li><p><a class="reference internal" href="#raster-layer-statistics" id="id153">ラスタレイヤの統計量</a></p></li>
<li><p><a class="reference internal" href="#raster-layer-unique-values-report" id="id154">ラスタレイヤのユニーク値</a></p></li>
<li><p><a class="reference internal" href="#raster-layer-zonal-statistics" id="id155">ゾーン統計量（ラスタ）</a></p></li>
<li><p><a class="reference internal" href="#raster-surface-volume" id="id156">ラスタのサーフェス体積</a></p></li>
<li><p><a class="reference internal" href="#reclassify-by-layer" id="id157">属性テーブルによる再分類</a></p></li>
<li><p><a class="reference internal" href="#reclassify-by-table" id="id158">区分表（テーブル）で再分類</a></p></li>
<li><p><a class="reference internal" href="#rescale-raster" id="id159">ラスタの範囲変更</a></p></li>
<li><p><a class="reference internal" href="#round-raster" id="id160">ラスタ値を四捨五入</a></p></li>
<li><p><a class="reference internal" href="#sample-raster-values" id="id161">ベクタレイヤにラスタ値を付加</a></p></li>
<li><p><a class="reference internal" href="#zonal-histogram" id="id162">ゾーンヒストグラム</a></p></li>
<li><p><a class="reference internal" href="#zonal-statistics" id="id163">ゾーン統計量（ベクタ）</a></p></li>
</ul>
</nav>
<section id="cell-stack-percent-rank-from-value">
<span id="qgiscellstackpercentrankfromvalue"></span><h2><a class="toc-backref" href="#id133" role="doc-backlink"><span class="section-number">28.1.15.1. </span>ラスタ値のパーセントランク</a><a class="headerlink" href="#cell-stack-percent-rank-from-value" title="Link to this heading"></a></h2>
<p>単独の入力値に基づいて、ラスタのスタックのセル単位のパーセントランク値を計算し、出力ラスタに書き込みます。</p>
<p>各セル位置で指定された値は、入力ラスタのセル値を重ねてソートしてできたスタックのそれぞれの数値群の中で順位付けされます。スタック値の分布から外れた値については、その値をセル値群の中で順位付けすることができないため、アルゴリズムはNoDataを返します。</p>
<p>百分位数の計算には二つの方法があります:</p>
<ul class="simple">
<li><p>線形内挿 (PERCENTRANK.INC)</p></li>
<li><p>線形内挿 (PERCENTRANK.EXC)</p></li>
</ul>
<p>線形補間法は、異なる値にユニークなパーセントランクを返します。どちらの補間法も、<a class="reference external" href="https://help.libreoffice.org/latest/en-US/text/scalc/01/04060184.html?DbPAR=CALC#bm_id3148807">LibreOffice</a> やMicrosoft Excelで実装されている同様の方法に準じています。</p>
<p>出力ラスタの範囲と解像度は、参照ラスタによって決まります。参照ラスタレイヤのセルサイズと一致しない入力ラスタレイヤは、最近傍再サンプリングを使用して再サンプリングされます。「NoDataを無視」パラメータが設定されていない場合、入力レイヤのいずれかに NoData 値があると、NoData セル出力になります。出力されるラスタのデータ型は常に <code class="docutils literal notranslate"><span class="pre">Float32</span></code> となります。</p>
<figure class="align-center" id="id122">
<img alt="../../../../_images/percentrankfromvalue.png" src="../../../../_images/percentrankfromvalue.png" />
<figcaption>
<p><span class="caption-number">図 28.19 </span><span class="caption-text">パーセントランク値 = 1。<code class="docutils literal notranslate"><span class="pre">NoData</span></code> セル（灰色）は無視されます。</span><a class="headerlink" href="#id122" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgiscellstackpercentile"><span class="std std-ref">セルスタックの百分位数</span></a>, <a class="reference internal" href="#qgiscellstackpercentrankfromrasterlayer"><span class="std std-ref">セルスタック：ラスタ値のパーセントランク</span></a></p>
</div>
<section id="parameters">
<h3>パラメータ<a class="headerlink" href="#parameters" title="Link to this heading"></a></h3>
<section id="basic-parameters">
<h4>基本パラメータ<a class="headerlink" href="#basic-parameters" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>評価したいラスタレイヤ群。データラスタスタックにマルチバンドラスタを使用する場合には、このアルゴリズムは常にラスタの最初のバンドに対して解析を行う</p></td>
</tr>
<tr class="row-odd"><td><p><strong>方法</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">METHOD</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 0</p>
</td>
<td><p>百分位数の計算の方法</p>
<ul class="simple">
<li><p>0 --- 線形内挿 (PERCENTRANK.INC)</p></li>
<li><p>1 --- 線形内挿 (PERCENTRANK.EXC)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>値</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 10.0</p>
</td>
<td><p>入力ラスタのセル値を重ねてソートしてできたスタックのそれぞれの数値群の中で順位付けする数値</p></td>
</tr>
<tr class="row-odd"><td><p><strong>nodataを無視する</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE_NODATA</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： True</p>
</td>
<td><p>チェックしないとき、入力レイヤのNoDataセルは出力レイヤのNoDataセルとなります</p></td>
</tr>
<tr class="row-even"><td><p><strong>参照レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REFERENCE_LAYER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>出力レイヤの作成に使用する参照レイヤ（範囲、CRS、ピクセルの大きさ）</p></td>
</tr>
<tr class="row-odd"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="advanced-parameters">
<h4>詳細パラメータ<a class="headerlink" href="#advanced-parameters" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_NODATA_VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="outputs">
<h3>出力<a class="headerlink" href="#outputs" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="python-code">
<h3>Python コード<a class="headerlink" href="#python-code" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:cellstackpercentrankfromvalue</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="cell-stack-percentile">
<span id="qgiscellstackpercentile"></span><h2><a class="toc-backref" href="#id134" role="doc-backlink"><span class="section-number">28.1.15.2. </span>セルスタックの百分位数</a><a class="headerlink" href="#cell-stack-percentile" title="Link to this heading"></a></h2>
<p>ラスタのスタックの、セル単位のパーセンタイル値を計算し、その結果を出力ラスタに書き込みます。返すパーセンタイルは、パーセンタイル入力値（0から1までの範囲）によって決まります。各セル位置で、入力ラスタのセル値を重ねてソートしてできたスタックからそれぞれの値を使って、指定されたパーセンタイルを求めます。</p>
<p>パーセンタイルの計算には三つの方法があります:</p>
<ul class="simple">
<li><p>最近傍ランク: 指定されたパーセンタイル値に最も近い値を返します</p></li>
<li><p>線形内挿 (PERCENTRANK.INC)</p></li>
<li><p>線形内挿 (PERCENTRANK.EXC)</p></li>
</ul>
<p>線形補間法は、異なるパーセンタイルにユニークな値を返します。どちらの補間法も <a class="reference external" href="https://help.libreoffice.org/latest/en-US/text/scalc/01/04060184.html?DbPAR=CALC#bm_id3148807">LibreOffice</a> やMicrosoft Excelで実装されているそれぞれの方法に従っています。</p>
<p>出力ラスタの範囲と解像度は、参照ラスタによって決まります。参照ラスタレイヤのセルサイズと一致しない入力ラスタレイヤは、最近傍再サンプリングを使用して再サンプリングされます。「NoDataを無視」パラメータが設定されていない場合、入力レイヤのいずれかに NoData 値があると、NoData セル出力になります。出力されるラスタのデータ型は常に <code class="docutils literal notranslate"><span class="pre">Float32</span></code> となります。</p>
<figure class="align-center" id="id123">
<img alt="../../../../_images/percentile.png" src="../../../../_images/percentile.png" />
<figcaption>
<p><span class="caption-number">図 28.20 </span><span class="caption-text">パーセンタイル = 0.25. <code class="docutils literal notranslate"><span class="pre">NoData</span></code> セル（灰色）は無視されます。</span><a class="headerlink" href="#id123" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgiscellstackpercentile"><span class="std std-ref">セルスタックの百分位数</span></a>, <a class="reference internal" href="#qgiscellstackpercentrankfromrasterlayer"><span class="std std-ref">セルスタック：ラスタ値のパーセントランク</span></a></p>
</div>
<section id="id3">
<h3>パラメータ<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<section id="id4">
<h4>基本パラメータ<a class="headerlink" href="#id4" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>評価したいラスタレイヤ群。データラスタスタックにマルチバンドラスタを使用する場合には、このアルゴリズムは常にラスタの最初のバンドに対して解析を行う</p></td>
</tr>
<tr class="row-odd"><td><p><strong>方法</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">METHOD</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 0</p>
</td>
<td><p>百分位数の計算の方法</p>
<ul class="simple">
<li><p>0 -- 最近傍ランク: 指定されたパーセンタイルに最も近い値を返します</p></li>
<li><p>1 -- 線形内挿 (PERCENTILE.INC)</p></li>
<li><p>2 -- 線形内挿 (PERCENTILE.EXC)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>百分位数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 0.25</p>
</td>
<td><p>入力ラスタのセル値を重ね、ソートしてできたスタックのそれぞれの数値群の中で順位付けした数値。0と1の間。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>nodataを無視する</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE_NODATA</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： True</p>
</td>
<td><p>チェックしないとき、入力レイヤのNoDataセルは出力レイヤのNoDataセルとなります</p></td>
</tr>
<tr class="row-even"><td><p><strong>参照レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REFERENCE_LAYER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>出力レイヤの作成に使用する参照レイヤ（範囲、CRS、ピクセルの大きさ）</p></td>
</tr>
<tr class="row-odd"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id5">
<h4>詳細パラメータ<a class="headerlink" href="#id5" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_NODATA_VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id6">
<h3>出力<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id7">
<h3>Python コード<a class="headerlink" href="#id7" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:cellstackpercentile</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="cell-stack-percentrank-from-raster-layer">
<span id="qgiscellstackpercentrankfromrasterlayer"></span><h2><a class="toc-backref" href="#id135" role="doc-backlink"><span class="section-number">28.1.15.3. </span>セルスタック：ラスタ値のパーセントランク</a><a class="headerlink" href="#cell-stack-percentrank-from-raster-layer" title="Link to this heading"></a></h2>
<p>ラスタのスタックのセル単位のパーセントランク値を、入力値ラスタに基づいて計算し、出力ラスタに書き出します。</p>
<p>各セル位置において、値ラスタの現在の値は、入力ラスタの全てのセル値を重ねてソートしたスタックのそれぞれの数値群の中で順位付けされます。スタック値の分布から外れた値は、セル値の中で順位付けできないので、 アルゴリズムは NoData を返します。</p>
<p>百分位数の計算には二つの方法があります:</p>
<ul class="simple">
<li><p>線形内挿 (PERCENTRANK.INC)</p></li>
<li><p>線形内挿 (PERCENTRANK.EXC)</p></li>
</ul>
<p>線形補間法は、異なるパーセンタイルにユニークな値を返します。どちらの補間法も <a class="reference external" href="https://help.libreoffice.org/latest/en-US/text/scalc/01/04060184.html?DbPAR=CALC#bm_id3148807">LibreOffice</a> やMicrosoft Excelで実装されているそれぞれの方法に従っています。</p>
<p>出力ラスタの範囲と解像度は、参照ラスタによって決まります。参照ラスタレイヤのセルサイズと一致しない入力ラスタレイヤは、最近傍再サンプリングを使用して再サンプリングされます。「NoDataを無視」パラメータが設定されていない場合、入力レイヤのいずれかに NoData 値があると、NoData セル出力になります。出力されるラスタのデータ型は常に <code class="docutils literal notranslate"><span class="pre">Float32</span></code> となります。</p>
<figure class="align-center" id="id124">
<img alt="../../../../_images/percentrankfromrasterlayer.png" src="../../../../_images/percentrankfromrasterlayer.png" />
<figcaption>
<p><span class="caption-number">図 28.21 </span><span class="caption-text">値ラスタレイヤセルを順位付けします。<code class="docutils literal notranslate"><span class="pre">NoData</span></code> セル（灰色）は無視されます。</span><a class="headerlink" href="#id124" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgiscellstackpercentile"><span class="std std-ref">セルスタックの百分位数</span></a>, <a class="reference internal" href="#qgiscellstackpercentrankfromvalue"><span class="std std-ref">ラスタ値のパーセントランク</span></a></p>
</div>
<section id="id9">
<h3>パラメータ<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<section id="id10">
<h4>基本パラメータ<a class="headerlink" href="#id10" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>評価したいラスタレイヤ群。データラスタスタックにマルチバンドラスタを使用する場合には、このアルゴリズムは常にラスタの最初のバンドに対して解析を行う</p></td>
</tr>
<tr class="row-odd"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_VALUE_RASTER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>重ねられたレイヤのスタックの中で値を順位付けするレイヤ</p></td>
</tr>
<tr class="row-even"><td><p><strong>対象バンド</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VALUE_RASTER_BAND</span></code></p></td>
<td><p>[整数]</p>
<p>デフォルト： 1</p>
</td>
<td><p>比較する「入力ラスタ」のバンド</p></td>
</tr>
<tr class="row-odd"><td><p><strong>方法</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">METHOD</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 0</p>
</td>
<td><p>百分位数の計算の方法</p>
<ul class="simple">
<li><p>0 --- 線形内挿 (PERCENTRANK.INC)</p></li>
<li><p>1 --- 線形内挿 (PERCENTRANK.EXC)</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>nodataを無視する</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE_NODATA</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： True</p>
</td>
<td><p>チェックしないとき、入力レイヤのNoDataセルは出力レイヤのNoDataセルとなります</p></td>
</tr>
<tr class="row-odd"><td><p><strong>参照レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REFERENCE_LAYER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>出力レイヤの作成に使用する参照レイヤ（範囲、CRS、ピクセルの大きさ）</p></td>
</tr>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id11">
<h4>詳細パラメータ<a class="headerlink" href="#id11" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_NODATA_VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id12">
<h3>出力<a class="headerlink" href="#id12" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id13">
<h3>Python コード<a class="headerlink" href="#id13" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:cellstackpercentrankfromrasterlayer</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="cell-statistics">
<span id="qgiscellstatistics"></span><h2><a class="toc-backref" href="#id136" role="doc-backlink"><span class="section-number">28.1.15.4. </span>セル統計量</a><a class="headerlink" href="#cell-statistics" title="Link to this heading"></a></h2>
<p>入力ラスタレイヤに基づいてセル毎の統計量を計算し、出力ラスタの各セルに結果の統計量を書き込みます。各セル位置において、入力ラスタのセルの値の全ての重ね合わせに対する関数値で出力値が定義されます。</p>
<p>デフォルトでは、任意の入力レイヤにnodataセルがあると、出力ラスタはnodataセルとなります。 <span class="guilabel">nodataを無視する</span> オプションにチェックが入っている場合は、nodataの入力値は統計量の計算において無視されます。これにより、ある位置ですべての入力レイヤがnodataのセルである場合に、結果がnodataのセルとなります。</p>
<p><span class="guilabel">スナップで参照するレイヤ</span> パラメータは、出力ラスタの作成時に参照として使用する既存のラスタレイヤを指定します。出力ラスタは、このレイヤと同じ範囲、CRS、およびピクセル寸法を持ちます。</p>
<p><strong>統計量計算の詳細：</strong> 参照ラスタレイヤのセルサイズと一致しない入力ラスタレイヤについては、 <code class="docutils literal notranslate"><span class="pre">最近傍リサンプリング</span></code> を使用して値がリサンプリングされます。出力ラスタのデータ型は、入力ラスタデータセットのうち最も複雑なデータ型になります。ただし、 <code class="docutils literal notranslate"><span class="pre">平均</span></code> と <code class="docutils literal notranslate"><span class="pre">標準偏差</span></code> 、 <code class="docutils literal notranslate"><span class="pre">分散（Variance）</span></code> は入力の浮動小数点型に応じて常に <code class="docutils literal notranslate"><span class="pre">Float32</span></code> または <code class="docutils literal notranslate"><span class="pre">Float64</span></code> となり、 <code class="docutils literal notranslate"><span class="pre">カウント（Count）</span></code> と <code class="docutils literal notranslate"><span class="pre">種類（Variety）</span></code> は常に <code class="docutils literal notranslate"><span class="pre">Int32</span></code> となります。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">カウント（Count）</span></code> ：カウント統計は、現在のセル位置で nodata 値以外のセルの数になります。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">中央値</span></code> ：入力レイヤのセルが偶数個の場合には、中央値はセル入力値を並べた中央の2つの値の算術平均で計算されます。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">最稀値（Minority）/最頻値（Majority）</span></code> ：最稀値や最頻値が一つに決まらない場合には、入力セルの値がすべて等しいのでない限り、結果は nodata となります。</p></li>
</ul>
<figure class="align-center" id="id125">
<img alt="../../../../_images/cell_statistics_all_stats.png" src="../../../../_images/cell_statistics_all_stats.png" />
<figcaption>
<p><span class="caption-number">図 28.22 </span><span class="caption-text">全ての統計関数の例。 <code class="docutils literal notranslate"><span class="pre">nodata</span></code> （灰色）セルが考慮される</span><a class="headerlink" href="#id125" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="id14">
<h3>パラメータ<a class="headerlink" href="#id14" title="Link to this heading"></a></h3>
<section id="id15">
<h4>基本パラメータ<a class="headerlink" href="#id15" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>統計量</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">STATISTIC</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 0</p>
</td>
<td><p>利用可能な統計量。オプションは次のとおり：</p>
<ul class="simple">
<li><p>0 --- 合計</p></li>
<li><p>1 --- カウント（Count）</p></li>
<li><p>2 --- 平均</p></li>
<li><p>3 --- 中央値</p></li>
<li><p>4 --- 標準偏差</p></li>
<li><p>5 --- 分散（Variance）</p></li>
<li><p>6 --- 最小値</p></li>
<li><p>7 --- 最大</p></li>
<li><p>8 --- 最稀値（Minority）</p></li>
<li><p>9 --- 最頻値（Majority）</p></li>
<li><p>10 --- 範囲（Range）</p></li>
<li><p>11 --- 種類（Variety）</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>nodataを無視する</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE_NODATA</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： True</p>
</td>
<td><p>nodataの存在を無視してすべてのセルの統計量を計算します。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>参照レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REF_LAYER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>出力レイヤの作成に参照するレイヤ（範囲、CRS、ピクセルの大きさ等）</p></td>
</tr>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id16">
<h4>詳細パラメータ<a class="headerlink" href="#id16" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_NO_DATA_VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id17">
<h3>出力<a class="headerlink" href="#id17" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-odd"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-even"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id18">
<h3>Python コード<a class="headerlink" href="#id18" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:cellstatistics</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="equal-to-frequency">
<span id="qgisequaltofrequency"></span><h2><a class="toc-backref" href="#id137" role="doc-backlink"><span class="section-number">28.1.15.5. </span>ラスタスタックの値の一致頻度</a><a class="headerlink" href="#equal-to-frequency" title="Link to this heading"></a></h2>
<p>入力ラスタスタックの値が値ラスタレイヤの値と一致する頻度（回数）をセル単位で評価します。出力ラスタの範囲と解像度は入力ラスタと同じで、データ型は常に <code class="docutils literal notranslate"><span class="pre">Int32</span></code> です。</p>
<p>データラスタスタックにマルチバンドラスタを使用する場合、このアルゴリズムは常にラスタの最初のバンドに対して解析を行います。解析に他のバンドを使用したい場合には、GDALを使用してください。出力のnodata値は手入力で設定できます。</p>
<figure class="align-center" id="id126">
<img alt="../../../../_images/equaltofrequency.png" src="../../../../_images/equaltofrequency.png" />
<figcaption>
<p><span class="caption-number">図 28.23 </span><span class="caption-text">出力ラスタの各セルについて、セルの値はラスタスタックのラスタの値が対応する値ラスタと同じである回数を表す。 <code class="docutils literal notranslate"><span class="pre">nodata</span></code> セル（灰色）が考慮される</span><a class="headerlink" href="#id126" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisgreaterthanfrequency"><span class="std std-ref">ラスタスタックの値の超過頻度</span></a> 、 <a class="reference internal" href="#qgislessthanfrequency"><span class="std std-ref">ラスタスタックの値の未満頻度</span></a></p>
</div>
<section id="id19">
<h3>パラメータ<a class="headerlink" href="#id19" title="Link to this heading"></a></h3>
<section id="id20">
<h4>基本パラメータ<a class="headerlink" href="#id20" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_VALUE_RASTER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>サンプリングするレイヤ群に対する参照レイヤとなる、入力値レイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>対象バンド</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_VALUE_RASTER_BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>値を取得したいバンドを選択します</p></td>
</tr>
<tr class="row-even"><td><p><strong>入力ラスタ（複数）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_RASTERS</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>評価したいラスタレイヤ群。データラスタスタックにマルチバンドラスタを使用する場合には、このアルゴリズムは常にラスタの最初のバンドに対して解析を行う</p></td>
</tr>
<tr class="row-odd"><td><p><strong>nodataを無視する</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE_NODATA</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： False</p>
</td>
<td><p>チェックを入れない場合、値ラスタやデータレイヤスタックにnodataセルが一つでもあれば、出力ラスタはnodataセルとなります。</p></td>
</tr>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id21">
<h4>詳細パラメータ<a class="headerlink" href="#id21" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_NO_DATA_VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id22">
<h3>出力<a class="headerlink" href="#id22" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>同じ出現頻度のセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FOUND_LOCATIONS_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
<tr class="row-even"><td><p><strong>有効セルの場所の平均頻度</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MEAN_FREQUENCY_PER_LOCATION</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>値の頻度</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OCCURRENCE_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id23">
<h3>Python コード<a class="headerlink" href="#id23" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:equaltofrequency</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="fuzzify-raster-gaussian-membership">
<span id="qgisfuzzifyrastergaussianmembership"></span><h2><a class="toc-backref" href="#id138" role="doc-backlink"><span class="section-number">28.1.15.6. </span>ラスタのファジー化（gaussian membership）</a><a class="headerlink" href="#fuzzify-raster-gaussian-membership" title="Link to this heading"></a></h2>
<p>ガウシアンメンバーシップ関数を使用して入力ラスタの各ピクセルにメンバーシップ値を割り当てることにより、入力ラスタをファジー化されたラスタに変換します。メンバーシップ値は0から1の範囲の値です。ファジー化されたラスタにおいて、値0はメンバーではないこと、値1は完全にメンバーであることを意味しています。ガウシアンメンバーシップ関数は、 <a class="reference internal" href="../../../../_images/fuzzy_gaussian_formula.png"><img alt="gaussian_formula" src="../../../../_images/fuzzy_gaussian_formula.png" style="height: 1.5em;" /></a> で定義されます。ここで、 <em>f1</em> は拡がり、 <em>f2</em> は中点を表します。</p>
<figure class="align-center" id="id127">
<img alt="../../../../_images/gaussianimage.png" src="../../../../_images/gaussianimage.png" />
<figcaption>
<p><span class="caption-number">図 28.24 </span><span class="caption-text">ラスタのファジー化の例。入力ラスタソース：Land Tirol - data.tirol.gv.at</span><a class="headerlink" href="#id127" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisfuzzifyrasterlargemembership"><span class="std std-ref">ラスタのファジー化（large membership）</span></a>
<a class="reference internal" href="#qgisfuzzifyrasterlinearmembership"><span class="std std-ref">ラスタのファジー化（linear membership）</span></a>,
<a class="reference internal" href="#qgisfuzzifyrasternearmembership"><span class="std std-ref">ラスタのファジー化（near membership）</span></a>,
<a class="reference internal" href="#qgisfuzzifyrasterpowermembership"><span class="std std-ref">ラスタのファジー化（power membership）</span></a>,
<a class="reference internal" href="#qgisfuzzifyrastersmallmembership"><span class="std std-ref">ラスタのファジー化（small membership）</span></a></p>
</div>
<section id="id24">
<h3>パラメータ<a class="headerlink" href="#id24" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、ファジー化したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>Function midpoint</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYMIDPOINT</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 10</p>
</td>
<td><p>ガウス関数の中点</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Function spread</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYSPREAD</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 0.01</p>
</td>
<td><p>ガウス関数の拡がり</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id25">
<h3>出力<a class="headerlink" href="#id25" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id26">
<h3>Python コード<a class="headerlink" href="#id26" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:fuzzifyrastergaussianmembership</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="fuzzify-raster-large-membership">
<span id="qgisfuzzifyrasterlargemembership"></span><h2><a class="toc-backref" href="#id139" role="doc-backlink"><span class="section-number">28.1.15.7. </span>ラスタのファジー化（large membership）</a><a class="headerlink" href="#fuzzify-raster-large-membership" title="Link to this heading"></a></h2>
<p>largeメンバーシップ関数を使用して入力ラスタの各ピクセルにメンバーシップ値を割り当てることにより、入力ラスタをファジー化されたラスタに変換します。メンバーシップ値は0から1の範囲の値です。ファジー化されたラスタにおいて、値0はメンバーではないこと、値1は完全にメンバーであることを意味しています。largeメンバーシップ関数は、 <a class="reference internal" href="../../../../_images/fuzzy_large_formula.png"><img alt="fuzzy_large_formula" src="../../../../_images/fuzzy_large_formula.png" style="height: 3.2em;" /></a> で定義されます。ここで、 <em>f1</em> は拡がり、 <em>f2</em> は中点を表します。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisfuzzifyrastergaussianmembership"><span class="std std-ref">ラスタのファジー化（gaussian membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterlinearmembership"><span class="std std-ref">ラスタのファジー化（linear membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasternearmembership"><span class="std std-ref">ラスタのファジー化（near membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterpowermembership"><span class="std std-ref">ラスタのファジー化（power membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrastersmallmembership"><span class="std std-ref">ラスタのファジー化（small membership）</span></a></p>
</div>
<section id="id27">
<h3>パラメータ<a class="headerlink" href="#id27" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、ファジー化したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>Function midpoint</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYMIDPOINT</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 50</p>
</td>
<td><p>large関数の中点</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Function spread</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYSPREAD</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 5</p>
</td>
<td><p>large関数の拡がり</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id28">
<h3>出力<a class="headerlink" href="#id28" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id29">
<h3>Python コード<a class="headerlink" href="#id29" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:fuzzifyrasterlargemembership</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="fuzzify-raster-linear-membership">
<span id="qgisfuzzifyrasterlinearmembership"></span><h2><a class="toc-backref" href="#id140" role="doc-backlink"><span class="section-number">28.1.15.8. </span>ラスタのファジー化（linear membership）</a><a class="headerlink" href="#fuzzify-raster-linear-membership" title="Link to this heading"></a></h2>
<p>線形メンバーシップ関数を使用して入力ラスタの各ピクセルにメンバーシップ値を割り当てることにより、入力ラスタをファジー化されたラスタに変換します。メンバーシップ値は0から1の範囲の値です。ファジー化されたラスタにおいて、値0はメンバーではないこと、値1は完全にメンバーであることを意味しています。線形メンバーシップ関数は、 <a class="reference internal" href="../../../../_images/fuzzy_linear_formula.png"><img alt="fuzzy_linear_formula" src="../../../../_images/fuzzy_linear_formula.png" style="height: 3.8em;" /></a> で定義されます。ここで、 <em>a</em> は下限、 <em>b</em> は上限を表します。この式は、上下限の間でピクセル値を線形変換してメンバーシップ値を割り当てます。下限よりも小さなピクセル値はメンバーシップ値0、上限よりも大きなピクセル値はメンバーシップ値1となります。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisfuzzifyrastergaussianmembership"><span class="std std-ref">ラスタのファジー化（gaussian membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterlargemembership"><span class="std std-ref">ラスタのファジー化（large membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasternearmembership"><span class="std std-ref">ラスタのファジー化（near membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterpowermembership"><span class="std std-ref">ラスタのファジー化（power membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrastersmallmembership"><span class="std std-ref">ラスタのファジー化（small membership）</span></a></p>
</div>
<section id="id30">
<h3>パラメータ<a class="headerlink" href="#id30" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、ファジー化したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>Low fuzzy membership bound</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYLOWBOUND</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 0</p>
</td>
<td><p>線形関数の下限</p></td>
</tr>
<tr class="row-odd"><td><p><strong>High fuzzy membership bound</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYHIGHBOUND</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 1</p>
</td>
<td><p>線形関数の上限</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id31">
<h3>出力<a class="headerlink" href="#id31" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id32">
<h3>Python コード<a class="headerlink" href="#id32" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:fuzzifyrasterlinearmembership</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="fuzzify-raster-near-membership">
<span id="qgisfuzzifyrasternearmembership"></span><h2><a class="toc-backref" href="#id141" role="doc-backlink"><span class="section-number">28.1.15.9. </span>ラスタのファジー化（near membership）</a><a class="headerlink" href="#fuzzify-raster-near-membership" title="Link to this heading"></a></h2>
<p>nearメンバーシップ関数を使用して入力ラスタの各ピクセルにメンバーシップ値を割り当てることにより、入力ラスタをファジー化されたラスタに変換します。メンバーシップ値は0から1の範囲の値です。ファジー化されたラスタにおいて、値0はメンバーではないこと、値1は完全にメンバーであることを意味しています。nearメンバーシップ関数は、 <a class="reference internal" href="../../../../_images/fuzzy_near_formula.png"><img alt="near_formula" src="../../../../_images/fuzzy_near_formula.png" style="height: 2.5em;" /></a> で定義されます。ここで、 <em>f1</em> は拡がり、 <em>f2</em> は中点を表します。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisfuzzifyrastergaussianmembership"><span class="std std-ref">ラスタのファジー化（gaussian membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterlargemembership"><span class="std std-ref">ラスタのファジー化（large membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterlinearmembership"><span class="std std-ref">ラスタのファジー化（linear membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterpowermembership"><span class="std std-ref">ラスタのファジー化（power membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrastersmallmembership"><span class="std std-ref">ラスタのファジー化（small membership）</span></a></p>
</div>
<section id="id33">
<h3>パラメータ<a class="headerlink" href="#id33" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、ファジー化したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>Function midpoint</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYMIDPOINT</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 50</p>
</td>
<td><p>near関数の中点</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Function spread</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYSPREAD</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 0.01</p>
</td>
<td><p>near関数の拡がり</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id34">
<h3>出力<a class="headerlink" href="#id34" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id35">
<h3>Python コード<a class="headerlink" href="#id35" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:fuzzifyrasternearmembership</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="fuzzify-raster-power-membership">
<span id="qgisfuzzifyrasterpowermembership"></span><h2><a class="toc-backref" href="#id142" role="doc-backlink"><span class="section-number">28.1.15.10. </span>ラスタのファジー化（power membership）</a><a class="headerlink" href="#fuzzify-raster-power-membership" title="Link to this heading"></a></h2>
<p>べき乗メンバーシップ関数を使用して入力ラスタの各ピクセルにメンバーシップ値を割り当てることにより、入力ラスタをファジー化されたラスタに変換します。メンバーシップ値は0から1の範囲の値です。ファジー化されたラスタにおいて、値0はメンバーではないこと、値1は完全にメンバーであることを意味しています。べき乗メンバーシップ関数は、 <a class="reference internal" href="../../../../_images/fuzzy_power_formula.png"><img alt="power_formula" src="../../../../_images/fuzzy_power_formula.png" style="height: 4.4em;" /></a> で定義されます。ここで、 <em>a</em> は下限、 <em>b</em> は上限、 <em>f1</em> は指数を表します。この式は、上下限の間でピクセル値をべき乗変換してメンバーシップ値を割り当てます。下限よりも小さなピクセル値はメンバーシップ値0、上限よりも大きなピクセル値はメンバーシップ値1となります。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisfuzzifyrastergaussianmembership"><span class="std std-ref">ラスタのファジー化（gaussian membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterlargemembership"><span class="std std-ref">ラスタのファジー化（large membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterlinearmembership"><span class="std std-ref">ラスタのファジー化（linear membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasternearmembership"><span class="std std-ref">ラスタのファジー化（near membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrastersmallmembership"><span class="std std-ref">ラスタのファジー化（small membership）</span></a></p>
</div>
<section id="id36">
<h3>パラメータ<a class="headerlink" href="#id36" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、ファジー化したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>Low fuzzy membership bound</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYLOWBOUND</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 0</p>
</td>
<td><p>べき乗関数の下限</p></td>
</tr>
<tr class="row-odd"><td><p><strong>High fuzzy membership bound</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYHIGHBOUND</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 1</p>
</td>
<td><p>べき乗関数の上限</p></td>
</tr>
<tr class="row-even"><td><p><strong>High fuzzy membership bound</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYEXPONENT</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 2</p>
</td>
<td><p>べき乗関数の指数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id37">
<h3>出力<a class="headerlink" href="#id37" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id38">
<h3>Python コード<a class="headerlink" href="#id38" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:fuzzifyrasterpowermembership</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="fuzzify-raster-small-membership">
<span id="qgisfuzzifyrastersmallmembership"></span><h2><a class="toc-backref" href="#id143" role="doc-backlink"><span class="section-number">28.1.15.11. </span>ラスタのファジー化（small membership）</a><a class="headerlink" href="#fuzzify-raster-small-membership" title="Link to this heading"></a></h2>
<p>smallメンバーシップ関数を使用して入力ラスタの各ピクセルにメンバーシップ値を割り当てることにより、入力ラスタをファジー化されたラスタに変換します。メンバーシップ値は0から1の範囲の値です。ファジー化されたラスタにおいて、値0はメンバーではないこと、値1は完全にメンバーであることを意味しています。smallメンバーシップ関数は、 <a class="reference internal" href="../../../../_images/fuzzy_small_formula.png"><img alt="small_formula" src="../../../../_images/fuzzy_small_formula.png" style="height: 3.2em;" /></a> で定義されます。ここで、 <em>f1</em> は拡がり、 <em>f2</em> は中点を表します。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisfuzzifyrastergaussianmembership"><span class="std std-ref">ラスタのファジー化（gaussian membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterlargemembership"><span class="std std-ref">ラスタのファジー化（large membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterlinearmembership"><span class="std std-ref">ラスタのファジー化（linear membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasternearmembership"><span class="std std-ref">ラスタのファジー化（near membership）</span></a> 、 <a class="reference internal" href="#qgisfuzzifyrasterpowermembership"><span class="std std-ref">ラスタのファジー化（power membership）</span></a></p>
</div>
<section id="id39">
<h3>パラメータ<a class="headerlink" href="#id39" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、ファジー化したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>Function midpoint</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYMIDPOINT</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 50</p>
</td>
<td><p>small関数の中点</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Function spread</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FUZZYSPREAD</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 5</p>
</td>
<td><p>small関数の拡がり</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id40">
<h3>出力<a class="headerlink" href="#id40" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id41">
<h3>Python コード<a class="headerlink" href="#id41" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:fuzzifyrastersmallmembership</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="greater-than-frequency">
<span id="qgisgreaterthanfrequency"></span><h2><a class="toc-backref" href="#id144" role="doc-backlink"><span class="section-number">28.1.15.12. </span>ラスタスタックの値の超過頻度</a><a class="headerlink" href="#greater-than-frequency" title="Link to this heading"></a></h2>
<p>入力ラスタスタックの値が値ラスタレイヤの値よりも大きい頻度（回数）をセル単位で評価します。出力ラスタの範囲と解像度は入力ラスタと同じで、データ型は常に <code class="docutils literal notranslate"><span class="pre">Int32</span></code> です。</p>
<p>データラスタスタックにマルチバンドラスタを使用する場合、このアルゴリズムは常にラスタの最初のバンドに対して解析を行います。解析に他のバンドを使用したい場合には、GDALを使用してください。出力のnodata値は手入力で設定できます。</p>
<figure class="align-center" id="id128">
<img alt="../../../../_images/greaterthanfrequency.png" src="../../../../_images/greaterthanfrequency.png" />
<figcaption>
<p><span class="caption-number">図 28.25 </span><span class="caption-text">出力ラスタの各セルについて、セルの値はラスタスタックのラスタの値が対応する値ラスタよりも大きい回数を表す。 <code class="docutils literal notranslate"><span class="pre">nodata</span></code> セル（灰色）が考慮される</span><a class="headerlink" href="#id128" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisequaltofrequency"><span class="std std-ref">ラスタスタックの値の一致頻度</span></a> 、 <a class="reference internal" href="#qgislessthanfrequency"><span class="std std-ref">ラスタスタックの値の未満頻度</span></a></p>
</div>
<section id="id42">
<h3>パラメータ<a class="headerlink" href="#id42" title="Link to this heading"></a></h3>
<section id="id43">
<h4>基本パラメータ<a class="headerlink" href="#id43" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_VALUE_RASTER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>サンプリングするレイヤ群に対する参照レイヤとなる、入力値レイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>対象バンド</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_VALUE_RASTER_BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>値を取得したいバンドを選択します</p></td>
</tr>
<tr class="row-even"><td><p><strong>入力ラスタ（複数）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_RASTERS</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>評価したいラスタレイヤ群。データラスタスタックにマルチバンドラスタを使用する場合には、このアルゴリズムは常にラスタの最初のバンドに対して解析を行う</p></td>
</tr>
<tr class="row-odd"><td><p><strong>nodataを無視する</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE_NODATA</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： False</p>
</td>
<td><p>チェックを入れない場合、値ラスタやデータレイヤスタックにnodataセルが一つでもあれば、出力ラスタはnodataセルとなります。</p></td>
</tr>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id44">
<h4>詳細パラメータ<a class="headerlink" href="#id44" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_NO_DATA_VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id45">
<h3>出力<a class="headerlink" href="#id45" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>同じ出現頻度のセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FOUND_LOCATIONS_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
<tr class="row-even"><td><p><strong>有効セルの場所の平均頻度</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MEAN_FREQUENCY_PER_LOCATION</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>値の頻度</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OCCURRENCE_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id46">
<h3>Python コード<a class="headerlink" href="#id46" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:greaterthanfrequency</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="highest-position-in-raster-stack">
<span id="qgishighestpositioninrasterstack"></span><h2><a class="toc-backref" href="#id145" role="doc-backlink"><span class="section-number">28.1.15.13. </span>ラスタスタックの最大値の位置</a><a class="headerlink" href="#highest-position-in-raster-stack" title="Link to this heading"></a></h2>
<p>入力ラスタスタック内で最大値をとるラスタの位置をセル単位で評価します。位置のカウントは１から始まり、入力ラスタの総数までの値をとります。このアルゴリズムでは、入力ラスタの順序が関係します。複数のラスタが最大値となる場合、最初のラスタが位置の値として使用されます。</p>
<p>データラスタスタックにマルチバンドラスタを使用する場合、このアルゴリズムは常にラスタの最初のバンドに対して解析を行います。解析に他のバンドを使用したい場合には、GDALを使用してください。ラスタレイヤスタックのセルにnodataが一つでもあれば、 &quot;nodataを無視する&quot; パラメータにチェックを入れていない限りは、出力ラスタはnodataセルとなります。出力のnodata値は手入力で設定できます。出力ラスタの範囲と解像度は参照ラスタレイヤで定義され、データ型は常に <code class="docutils literal notranslate"><span class="pre">Int32</span></code> です。</p>
<figure class="align-center">
<img alt="../../../../_images/highestposition.png" src="../../../../_images/highestposition.png" />
</figure>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgislowestpositioninrasterstack"><span class="std std-ref">ラスタスタックの最小値の位置</span></a></p>
</div>
<section id="id47">
<h3>パラメータ<a class="headerlink" href="#id47" title="Link to this heading"></a></h3>
<section id="id48">
<h4>基本パラメータ<a class="headerlink" href="#id48" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ（複数）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_RASTERS</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>比較を行うラスタレイヤのリスト</p></td>
</tr>
<tr class="row-odd"><td><p><strong>参照レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REFERENCE_LAYER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>出力レイヤの作成に使用する参照レイヤ（範囲、CRS、ピクセルの大きさ）</p></td>
</tr>
<tr class="row-even"><td><p><strong>nodataを無視する</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE_NODATA</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： False</p>
</td>
<td><p>チェックを入れない場合、データレイヤスタックにnodataセルが一つでもあれば、出力ラスタはnodataセルとなります。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>結果の出力レイヤを指定します。つぎのいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id49">
<h4>詳細パラメータ<a class="headerlink" href="#id49" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_NODATA_VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id50">
<h3>出力<a class="headerlink" href="#id50" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id51">
<h3>Python コード<a class="headerlink" href="#id51" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:highestpositioninrasterstack</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="less-than-frequency">
<span id="qgislessthanfrequency"></span><h2><a class="toc-backref" href="#id146" role="doc-backlink"><span class="section-number">28.1.15.14. </span>ラスタスタックの値の未満頻度</a><a class="headerlink" href="#less-than-frequency" title="Link to this heading"></a></h2>
<p>入力ラスタスタックの値が値ラスタレイヤの値よりも小さい頻度（回数）をセル単位で評価します。出力ラスタの範囲と解像度は入力ラスタと同じで、データ型は常に <code class="docutils literal notranslate"><span class="pre">Int32</span></code> です。</p>
<p>データラスタスタックにマルチバンドラスタを使用する場合、このアルゴリズムは常にラスタの最初のバンドに対して解析を行います。解析に他のバンドを使用したい場合には、GDALを使用してください。出力のnodata値は手入力で設定できます。</p>
<figure class="align-center" id="id129">
<img alt="../../../../_images/lessthanfrequency.png" src="../../../../_images/lessthanfrequency.png" />
<figcaption>
<p><span class="caption-number">図 28.26 </span><span class="caption-text">出力ラスタの各セルについて、セルの値はラスタスタックのラスタの値が対応する値ラスタよりも小さい回数を表す。 <code class="docutils literal notranslate"><span class="pre">nodata</span></code> セル（灰色）が考慮される</span><a class="headerlink" href="#id129" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisequaltofrequency"><span class="std std-ref">ラスタスタックの値の一致頻度</span></a> 、 <a class="reference internal" href="#qgisgreaterthanfrequency"><span class="std std-ref">ラスタスタックの値の超過頻度</span></a></p>
</div>
<section id="id52">
<h3>パラメータ<a class="headerlink" href="#id52" title="Link to this heading"></a></h3>
<section id="id53">
<h4>基本パラメータ<a class="headerlink" href="#id53" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_VALUE_RASTER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>サンプリングするレイヤ群に対する参照レイヤとなる、入力値レイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>対象バンド</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_VALUE_RASTER_BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>値を取得したいバンドを選択します</p></td>
</tr>
<tr class="row-even"><td><p><strong>入力ラスタ（複数）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_RASTERS</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>評価したいラスタレイヤ群。データラスタスタックにマルチバンドラスタを使用する場合には、このアルゴリズムは常にラスタの最初のバンドに対して解析を行う</p></td>
</tr>
<tr class="row-odd"><td><p><strong>nodataを無視する</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE_NODATA</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： False</p>
</td>
<td><p>チェックを入れない場合、値ラスタやデータレイヤスタックにnodataセルが一つでもあれば、出力ラスタはnodataセルとなります。</p></td>
</tr>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[入力レイヤと同じ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id54">
<h4>詳細パラメータ<a class="headerlink" href="#id54" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_NO_DATA_VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id55">
<h3>出力<a class="headerlink" href="#id55" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>同じ出現頻度のセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FOUND_LOCATIONS_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
<tr class="row-even"><td><p><strong>有効セルの場所の平均頻度</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MEAN_FREQUENCY_PER_LOCATION</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>値の頻度</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OCCURRENCE_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id56">
<h3>Python コード<a class="headerlink" href="#id56" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:lessthanfrequency</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="lowest-position-in-raster-stack">
<span id="qgislowestpositioninrasterstack"></span><h2><a class="toc-backref" href="#id147" role="doc-backlink"><span class="section-number">28.1.15.15. </span>ラスタスタックの最小値の位置</a><a class="headerlink" href="#lowest-position-in-raster-stack" title="Link to this heading"></a></h2>
<p>入力ラスタスタック内で最小値をとるラスタの位置をセル単位で評価します。位置のカウントは１から始まり、入力ラスタの総数までの値をとります。このアルゴリズムでは、入力ラスタの順序が関係します。複数のラスタが最小値となる場合、最初のラスタが位置の値として使用されます。</p>
<p>データラスタスタックにマルチバンドラスタを使用する場合、このアルゴリズムは常にラスタの最初のバンドに対して解析を行います。解析に他のバンドを使用したい場合には、GDALを使用してください。ラスタレイヤスタックのセルにnodataが一つでもあれば、 &quot;nodataを無視する&quot; パラメータにチェックを入れていない限りは、出力ラスタはnodataセルとなります。出力のnodata値は手入力で設定できます。出力ラスタの範囲と解像度は参照ラスタレイヤで定義され、データ型は常に <code class="docutils literal notranslate"><span class="pre">Int32</span></code> です。</p>
<figure class="align-center">
<img alt="../../../../_images/lowestposition.png" src="../../../../_images/lowestposition.png" />
</figure>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgishighestpositioninrasterstack"><span class="std std-ref">ラスタスタックの最大値の位置</span></a></p>
</div>
<section id="id57">
<h3>パラメータ<a class="headerlink" href="#id57" title="Link to this heading"></a></h3>
<section id="id58">
<h4>基本パラメータ<a class="headerlink" href="#id58" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ（複数）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_RASTERS</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>比較を行うラスタレイヤのリスト</p></td>
</tr>
<tr class="row-odd"><td><p><strong>参照レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REFERENCE_LAYER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>出力レイヤの作成に使用する参照レイヤ（範囲、CRS、ピクセルの大きさ）</p></td>
</tr>
<tr class="row-even"><td><p><strong>nodataを無視する</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">IGNORE_NODATA</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： False</p>
</td>
<td><p>チェックを入れない場合、データレイヤスタックにnodataセルが一つでもあれば、出力ラスタはnodataセルとなります。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>結果の出力レイヤを指定します。つぎのいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id59">
<h4>詳細パラメータ<a class="headerlink" href="#id59" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_NODATA_VALUE</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id60">
<h3>出力<a class="headerlink" href="#id60" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id61">
<h3>Python コード<a class="headerlink" href="#id61" title="Link to this heading"></a></h3>
<p><strong>アルゴリズムID</strong>: <code class="docutils literal notranslate"><span class="pre">native:lowestpositioninrasterstack</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="raster-boolean-and">
<span id="qgisrasterbooleanand"></span><h2><a class="toc-backref" href="#id148" role="doc-backlink"><span class="section-number">28.1.15.16. </span>複数ラスタのAND論理値</a><a class="headerlink" href="#raster-boolean-and" title="Link to this heading"></a></h2>
<p>一連の入力ラスタの論理 <code class="docutils literal notranslate"><span class="pre">AND</span></code> を計算します。あるピクセルについて、すべての入力ラスタが非ゼロ値をもつ場合、そのピクセルは出力ラスタで <code class="docutils literal notranslate"><span class="pre">1</span></code> になります。入力ラスタのいずれかに <code class="docutils literal notranslate"><span class="pre">0</span></code> 値がある場合、そのピクセルは出力ラスタで <code class="docutils literal notranslate"><span class="pre">0</span></code> になります。</p>
<p>参照レイヤパラメータには、出力ラスタの作成時に参照として使用する既存のラスタレイヤを指定します。出力ラスタは、このレイヤと同じ範囲、CRS、およびピクセル寸法を持ちます。</p>
<p>By default, a NoData pixel in ANY of the input layers will result in a
NoData pixel in the output raster.
If the <span class="guilabel">Treat NoData values as false</span> option is checked,
then NoData inputs will be treated the same as a <code class="docutils literal notranslate"><span class="pre">0</span></code> input value.</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisrasterbooleanor"><span class="std std-ref">複数ラスタのOR論理値</span></a></p>
</div>
<section id="id62">
<h3>パラメータ<a class="headerlink" href="#id62" title="Link to this heading"></a></h3>
<section id="id63">
<h4>基本パラメータ<a class="headerlink" href="#id63" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>入力ラスタレイヤのリスト</p></td>
</tr>
<tr class="row-odd"><td><p><strong>参照レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REF_LAYER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>出力レイヤの作成に参照するレイヤ（範囲、CRS、ピクセルの大きさ等）</p></td>
</tr>
<tr class="row-even"><td><p><strong>Treat NoData values as false</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA_AS_FALSE</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： False</p>
</td>
<td><p>Treat NoData values in the input files as 0 when performing the
operation</p></td>
</tr>
<tr class="row-odd"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>結果の出力レイヤを指定します。つぎのいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id64">
<h4>詳細パラメータ<a class="headerlink" href="#id64" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO_DATA</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
<tr class="row-odd"><td><p><strong>出力のデータ型</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATA_TYPE</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 5</p>
</td>
<td><p>出力ラスタのデータ型。オプションは以下のとおり：</p>
<ul class="simple">
<li><p>0 -- Byte （符号なし8ビット整数 (quint8)）</p></li>
<li><p>1 -- Int16 （符号あり16ビット整数 (qint16)）</p></li>
<li><p>2 -- UInt16 （符号なし16ビット整数 (quint16)）</p></li>
<li><p>3 --- Int32　（32ビット符号あり整数(qint32)）</p></li>
<li><p>4 --- UInt32      （32ビット符号なし整数 (quint32)）</p></li>
<li><p>5 -- Float32 （32ビット浮動小数点数 (float)）</p></li>
<li><p>6 -- Float64 （64ビット浮動小数点数 (double)）</p></li>
<li><p>7 -- CInt16 （複素数 Int16）</p></li>
<li><p>8 -- CInt32 （複素数 Int32）</p></li>
<li><p>9 -- CFloat32 （複素数 Float32）</p></li>
<li><p>10 -- CFloat64 （複素数 Float64）</p></li>
<li><p>11 --- Int8       （符号あり8ビット整数(qint8)）</p></li>
</ul>
<p>利用可能なオプションは、QGISと一緒にビルドされたGDALのバージョンによって異なります（ <span class="menuselection">ヘルプ ► QGISについて</span> メニューを参照）</p>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id65">
<h3>出力<a class="headerlink" href="#id65" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-even"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>NoData pixel count</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>The count of NoData pixels in the output raster layer</p></td>
</tr>
<tr class="row-even"><td><p><strong>Trueのピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TRUE_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのTrueピクセル（value=1）の数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Falseのピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FALSE_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのFalseピクセル（value=0）の数</p></td>
</tr>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id66">
<h3>Python コード<a class="headerlink" href="#id66" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rasterbooleanand</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="raster-boolean-or">
<span id="qgisrasterbooleanor"></span><h2><a class="toc-backref" href="#id149" role="doc-backlink"><span class="section-number">28.1.15.17. </span>複数ラスタのOR論理値</a><a class="headerlink" href="#raster-boolean-or" title="Link to this heading"></a></h2>
<p>一連の入力ラスタの論理 <code class="docutils literal notranslate"><span class="pre">OR</span></code> を計算します。あるピクセルについて、すべての入力ラスタがゼロ値をもつ場合、そのピクセルは出力ラスタで <code class="docutils literal notranslate"><span class="pre">0</span></code> になります。入力ラスタのいずれかに <code class="docutils literal notranslate"><span class="pre">1</span></code> 値がある場合、そのピクセルは出力ラスタで <code class="docutils literal notranslate"><span class="pre">1</span></code> になります。</p>
<p>参照レイヤパラメータには、出力ラスタの作成時に参照として使用する既存のラスタレイヤを指定します。出力ラスタは、このレイヤと同じ範囲、CRS、およびピクセル寸法を持ちます。</p>
<p>By default, a NoData pixel in ANY of the input layers will result in a
NoData pixel in the output raster.
If the <span class="guilabel">Treat NoData values as false</span> option is checked,
then NoData inputs will be treated the same as a <code class="docutils literal notranslate"><span class="pre">0</span></code> input value.</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisrasterbooleanand"><span class="std std-ref">複数ラスタのAND論理値</span></a></p>
</div>
<section id="id67">
<h3>パラメータ<a class="headerlink" href="#id67" title="Link to this heading"></a></h3>
<section id="id68">
<h4>基本パラメータ<a class="headerlink" href="#id68" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>入力ラスタレイヤのリスト</p></td>
</tr>
<tr class="row-odd"><td><p><strong>参照レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REF_LAYER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>出力レイヤの作成に参照するレイヤ（範囲、CRS、ピクセルの大きさ等）</p></td>
</tr>
<tr class="row-even"><td><p><strong>Treat NoData values as false</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA_AS_FALSE</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： False</p>
</td>
<td><p>Treat NoData values in the input files as 0 when performing the
operation</p></td>
</tr>
<tr class="row-odd"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>結果の出力レイヤを指定します。つぎのいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id69">
<h4>詳細パラメータ<a class="headerlink" href="#id69" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO_DATA</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to use for NoData in the output layer</p></td>
</tr>
<tr class="row-odd"><td><p><strong>出力のデータ型</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATA_TYPE</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 5</p>
</td>
<td><p>出力ラスタのデータ型。オプションは以下のとおり：</p>
<ul class="simple">
<li><p>0 -- Byte （符号なし8ビット整数 (quint8)）</p></li>
<li><p>1 -- Int16 （符号あり16ビット整数 (qint16)）</p></li>
<li><p>2 -- UInt16 （符号なし16ビット整数 (quint16)）</p></li>
<li><p>3 --- Int32　（32ビット符号あり整数(qint32)）</p></li>
<li><p>4 --- UInt32      （32ビット符号なし整数 (quint32)）</p></li>
<li><p>5 -- Float32 （32ビット浮動小数点数 (float)）</p></li>
<li><p>6 -- Float64 （64ビット浮動小数点数 (double)）</p></li>
<li><p>7 -- CInt16 （複素数 Int16）</p></li>
<li><p>8 -- CInt32 （複素数 Int32）</p></li>
<li><p>9 -- CFloat32 （複素数 Float32）</p></li>
<li><p>10 -- CFloat64 （複素数 Float64）</p></li>
<li><p>11 --- Int8       （符号あり8ビット整数(qint8)）</p></li>
</ul>
<p>利用可能なオプションは、QGISと一緒にビルドされたGDALのバージョンによって異なります（ <span class="menuselection">ヘルプ ► QGISについて</span> メニューを参照）</p>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id70">
<h3>出力<a class="headerlink" href="#id70" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-even"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>NoData pixel count</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>The count of NoData pixels in the output raster layer</p></td>
</tr>
<tr class="row-even"><td><p><strong>Trueのピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TRUE_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのTrueピクセル（value=1）の数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Falseのピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FALSE_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのFalseピクセル（value=0）の数</p></td>
</tr>
<tr class="row-even"><td><p><strong>オーバーラップ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>結果が含まれる出力ラスタレイヤ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id71">
<h3>Python コード<a class="headerlink" href="#id71" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rasterbooleanor</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="raster-calculator">
<span id="qgisrastercalc"></span><h2><a class="toc-backref" href="#id150" role="doc-backlink"><span class="section-number">28.1.15.18. </span>ラスタ計算機</a><a class="headerlink" href="#raster-calculator" title="Link to this heading"></a></h2>
<p>ラスタレイヤを使用して代数演算を実行します。</p>
<p>結果のレイヤは、式に従って計算された値になります。式には、数値、演算子、現在のプロジェクト内の任意のレイヤへの参照を含めることができます。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisvirtualrastercalc"><span class="std std-ref">Raster calculator (virtual)</span></a>, <a class="reference internal" href="../gdal/rastermiscellaneous.html#gdalrastercalculator"><span class="std std-ref">ラスタ計算機</span></a>, <a class="reference internal" href="../../working_with_raster/raster_analysis.html#label-raster-calc"><span class="std std-ref">ラスタ計算機</span></a></p>
</div>
<section id="id72">
<h3>パラメータ<a class="headerlink" href="#id72" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>入力ラスタレイヤのリスト</p></td>
</tr>
<tr class="row-odd"><td><p><strong>式</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXPRESSION</span></code></p></td>
<td><p>[式]</p></td>
<td><p><a class="reference internal" href="../../working_with_raster/raster_analysis.html#raster-expression"><span class="std std-ref">Raster-based expression</span></a> that will be used to calculate the output raster layer.</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力領域</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[範囲]</p></td>
<td><p>出力ラスタレイヤの空間範囲を指定します。範囲が指定されていない場合は、選択された参照レイヤを全てカバーする最小範囲が使用されます。</p>
<p>利用できる方法:</p>
<ul class="simple">
<li><p>レイヤーから計算...: 現在のプロジェクトに読み込まれたレイヤの範囲を使用します。</p></li>
<li><p>レイアウトマップから計算...: アクティブなプロジェクト内の <a class="reference internal" href="../../print_composer/composer_items/composer_map.html#layout-map-item"><span class="std std-ref">レイアウト地図アイテム</span></a> の範囲を使用します。</p></li>
<li><p>ブックマークから計算...：保存された <a class="reference internal" href="../../map_views/map_view.html#sec-bookmarks"><span class="std std-ref">ブックマーク</span></a> の範囲を使用します。</p></li>
<li><p>現在のキャンバス領域を使用</p></li>
<li><p>キャンバスに描画: 考慮する領域を区切る矩形をクリック＆ドラッグします。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xmin,</span> <span class="pre">xmax,</span> <span class="pre">ymin,</span> <span class="pre">ymax</span></code> として座標を入力</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Output cell size (leave empty to set automatically)</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">CELLSIZE</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>出力ラスタレイヤのセルサイズ。セルサイズが指定されていない場合は、選択した参照レイヤの最小セルサイズが使用されます。セルサイズは、X軸とY軸の両方で同じ長さです。</p></td>
</tr>
<tr class="row-even"><td><p><strong>Output CRS</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤのCRS。出力CRSが指定されていない場合は、最初の参照レイヤのCRSが使用されます。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>出力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id73">
<h3>出力<a class="headerlink" href="#id73" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>計算した値の出力ラスタファイル。</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id74">
<h3>Python コード<a class="headerlink" href="#id74" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rastercalc</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="raster-calculator-virtual">
<span id="qgisvirtualrastercalc"></span><h2><a class="toc-backref" href="#id151" role="doc-backlink"><span class="section-number">28.1.15.19. </span>Raster calculator (virtual)</a><a class="headerlink" href="#raster-calculator-virtual" title="Link to this heading"></a></h2>
<p>Performs algebraic operations using raster layers and generates in-memory result.</p>
<p>結果のレイヤは、式に従って計算された値になります。式には、数値、演算子、現在のプロジェクト内の任意のレイヤへの参照を含めることができます。</p>
<p>A virtual raster layer is a raster layer defined by its URI and whose pixels are calculated on-the-fly.
It's not a new file on disk; the virtual layer is still connected to the rasters used in the calculation
meaning that deleting or moving these rasters would break it.
A <span class="guilabel">Layer name</span> can be provided, otherwise the calculation expression is used as such.
Removing the virtual layer from the project deletes it, and it can be made persistent in file using the layer
<span class="menuselection">Export ► Save as...</span> contextual menu.</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgisrastercalc"><span class="std std-ref">ラスタ計算機</span></a>, <a class="reference internal" href="../gdal/rastermiscellaneous.html#gdalrastercalculator"><span class="std std-ref">ラスタ計算機</span></a>, <a class="reference internal" href="../../working_with_raster/raster_analysis.html#label-raster-calc"><span class="std std-ref">ラスタ計算機</span></a></p>
</div>
<section id="id75">
<h3>パラメータ<a class="headerlink" href="#id75" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ] [リスト]</p></td>
<td><p>入力ラスタレイヤのリスト</p></td>
</tr>
<tr class="row-odd"><td><p><strong>式</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXPRESSION</span></code></p></td>
<td><p>[式]</p></td>
<td><p><a class="reference internal" href="../../working_with_raster/raster_analysis.html#raster-expression"><span class="std std-ref">Raster-based expression</span></a> that will be used to calculate the output raster layer.</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力領域</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[範囲]</p></td>
<td><p>出力ラスタレイヤの空間範囲を指定します。範囲が指定されていない場合は、選択された参照レイヤを全てカバーする最小範囲が使用されます。</p>
<p>利用できる方法:</p>
<ul class="simple">
<li><p>レイヤーから計算...: 現在のプロジェクトに読み込まれたレイヤの範囲を使用します。</p></li>
<li><p>レイアウトマップから計算...: アクティブなプロジェクト内の <a class="reference internal" href="../../print_composer/composer_items/composer_map.html#layout-map-item"><span class="std std-ref">レイアウト地図アイテム</span></a> の範囲を使用します。</p></li>
<li><p>ブックマークから計算...：保存された <a class="reference internal" href="../../map_views/map_view.html#sec-bookmarks"><span class="std std-ref">ブックマーク</span></a> の範囲を使用します。</p></li>
<li><p>現在のキャンバス領域を使用</p></li>
<li><p>キャンバスに描画: 考慮する領域を区切る矩形をクリック＆ドラッグします。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xmin,</span> <span class="pre">xmax,</span> <span class="pre">ymin,</span> <span class="pre">ymax</span></code> として座標を入力</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Output cell size (leave empty to set automatically)</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">CELLSIZE</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>出力ラスタレイヤのセルサイズ。セルサイズが指定されていない場合は、選択した参照レイヤの最小セルサイズが使用されます。セルサイズは、X軸とY軸の両方で同じ長さです。</p></td>
</tr>
<tr class="row-even"><td><p><strong>Output CRS</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS</span></code></p></td>
<td><p>[crs]</p></td>
<td><p>出力ラスタレイヤのCRS。出力CRSが指定されていない場合は、最初の参照レイヤのCRSが使用されます。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Output layer name</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">LAYER_NAME</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>The name to assign to the generated layer.
If not set, the text of the calculation expression is used.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id76">
<h3>出力<a class="headerlink" href="#id76" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>Output virtual raster layer with the calculated values.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id77">
<h3>Python コード<a class="headerlink" href="#id77" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:virtualrastercalc</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="raster-layer-properties">
<span id="qgisrasterlayerproperties"></span><h2><a class="toc-backref" href="#id152" role="doc-backlink"><span class="section-number">28.1.15.20. </span>ラスタレイヤのプロパティ</a><a class="headerlink" href="#raster-layer-properties" title="Link to this heading"></a></h2>
<p>Returns basic properties of the given raster layer, including the extent,
size in pixels and dimensions of pixels (in map units), number of bands,
and NoData value.</p>
<p>このアルゴリズムは、モデル内の他のアルゴリズムへの入力値として使用するために、これらの有用なプロパティを抽出する手段として使用することを意図しています。例えば、存在するラスタのピクセルの大きさをGDALラスタアルゴリズムに渡すことができます。</p>
<section id="id78">
<h3>パラメータ<a class="headerlink" href="#id78" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：未設定</p>
</td>
<td><p>特定のバンドのプロパティも返すかどうか。バンドが指定された場合、選択されたバンドのnoData値も返されます。</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id79">
<h3>出力<a class="headerlink" href="#id79" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>ラスタにあるバンドの数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>ラスタにあるバンドの数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>CRSによるラスタレイヤの範囲</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンドは設定されたNoData値を持っている</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HAS_NODATA_VALUE</span></code></p></td>
<td><p>[ブール値]</p></td>
<td><p>Indicates whether the raster layer has a value set for NoData pixels
in the selected band</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>ラスタレイヤにあるカラムの数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンドのNoData値</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA_VALUE</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>（設定されていれば、）選択したバンドにおける、NoDataピクセルの値</p></td>
</tr>
<tr class="row-even"><td><p><strong>マップの単位によるピクセルの大きさ（高さ）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PIXEL_HEIGHT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>ピクセルのマップの単位による垂直方向の大きさ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>マップの単位によるピクセルの大きさ（幅）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PIXEL_WIDTH</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>ピクセルのマップの単位による水平方向の大きさ</p></td>
</tr>
<tr class="row-even"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>ラスタレイヤにある行の数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>x座標の最大</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">X_MAX</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>x座標の最小</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">X_MIN</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>y座標の最大</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Y_MAX</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>y座標の最小</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Y_MIN</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id80">
<h3>Python コード<a class="headerlink" href="#id80" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rasterlayerproperties</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="raster-layer-statistics">
<span id="qgisrasterlayerstatistics"></span><h2><a class="toc-backref" href="#id153" role="doc-backlink"><span class="section-number">28.1.15.21. </span>ラスタレイヤの統計量</a><a class="headerlink" href="#raster-layer-statistics" title="Link to this heading"></a></h2>
<p>ラスタレイヤの指定したバンドの値に関する基本統計量を計算します。結果は <span class="menuselection">プロセシング ► 結果ビューア</span> メニューに読み込まれます。</p>
<section id="id81">
<h3>パラメータ<a class="headerlink" href="#id81" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：入力レイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、統計量を計算したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>統計量の出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_HTML_FILE</span></code></p></td>
<td><p>[html]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ファイルの指定：</p>
<ul class="simple">
<li><p>出力をスキップ</p></li>
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id82">
<h3>出力<a class="headerlink" href="#id82" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>最大値（Maximum）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MAX</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>平均値（Mean）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MEAN</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>最小値（Minimum）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MIN</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>統計量の出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_HTML_FILE</span></code></p></td>
<td><p>[html]</p></td>
<td><p>出力ファイルには以下の情報が含まれます：</p>
<ul class="simple">
<li><p>分析済みファイル : ラスタレイヤのパス</p></li>
<li><p>最小値 : ラスタの最小値</p></li>
<li><p>最大値 : ラスタの最大値</p></li>
<li><p>範囲 : 最大値と最小値の差</p></li>
<li><p>合計 : 値の総和</p></li>
<li><p>平均値 : 値の平均</p></li>
<li><p>標準偏差 : 値の標準偏差</p></li>
<li><p>平方和 : 各値と全体の平均値との差の二乗の合計</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>範囲（Range）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RANGE</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>標準偏差（Standard deviation）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">STD_DEV</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><strong>合計（Sum）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SUM</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><strong>平方和</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SUM_OF_SQUARES</span></code></p></td>
<td><p>[数値]</p></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="id83">
<h3>Python コード<a class="headerlink" href="#id83" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rasterlayerstatistics</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="raster-layer-unique-values-report">
<span id="qgisrasterlayeruniquevaluesreport"></span><h2><a class="toc-backref" href="#id154" role="doc-backlink"><span class="section-number">28.1.15.22. </span>ラスタレイヤのユニーク値</a><a class="headerlink" href="#raster-layer-unique-values-report" title="Link to this heading"></a></h2>
<p>指定したラスタレイヤの値ごとの個数と面積を返します。</p>
<section id="id84">
<h3>パラメータ<a class="headerlink" href="#id84" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：入力レイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、統計量を計算したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>ユニーク値の集計出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_HTML_FILE</span></code></p></td>
<td><p>[ファイル]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ファイルの指定：</p>
<ul class="simple">
<li><p>出力をスキップ</p></li>
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>ユニーク値の表</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_TABLE</span></code></p></td>
<td><p>[テーブル]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[出力をスキップ]</span></code></p>
</td>
<td><p>ユニーク値のテーブルの指定：</p>
<ul class="simple">
<li><p>出力をスキップ</p></li>
<li><p>一時レイヤを作成（ <code class="docutils literal notranslate"><span class="pre">TEMPORARY_OUTPUT</span></code> ）</p></li>
<li><p>ファイルに保存...</p></li>
<li><p>GeoPackageに保存...</p></li>
<li><p>データベーステーブルに保存...</p></li>
</ul>
<p>ここでファイルの文字コードを変更することもできます。</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id85">
<h3>出力<a class="headerlink" href="#id85" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-odd"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>NoData pixel count</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA_PIXEL_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>The number of NoData pixels in the output raster layer</p></td>
</tr>
<tr class="row-even"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>ユニーク値の集計出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_HTML_FILE</span></code></p></td>
<td><p>[html]</p></td>
<td><p>出力HTMLファイルには以下の情報が含まれます：</p>
<ul class="simple">
<li><p>分析ファイル : ラスタレイヤのパス</p></li>
<li><p>範囲 : 範囲のx最小値、y最小値、x最大値、y最大値の座標</p></li>
<li><p>投影法 : レイヤの投影法</p></li>
<li><p>幅（ピクセル単位）: 列の数と、ピクセルの幅サイズ</p></li>
<li><p>高さ（ピクセル単位）: 行の数と、ピクセルの高さサイズ</p></li>
<li><p>総ピクセル数 : すべてのピクセルの個数</p></li>
<li><p>NoData pixel count: count of pixels with NoData value</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>ユニーク値の表</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_TABLE</span></code></p></td>
<td><p>[テーブル]</p></td>
<td><p>テーブルには3つのカラムがあります：</p>
<ul class="simple">
<li><p><em>value</em>: ピクセルの値</p></li>
<li><p><em>count</em>: その値のピクセル数</p></li>
<li><p><em>m</em><sup>2</sup>: その値のピクセルの総面積（平方メートル単位）</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id86">
<h3>Python コード<a class="headerlink" href="#id86" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rasterlayeruniquevaluesreport</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="raster-layer-zonal-statistics">
<span id="qgisrasterlayerzonalstats"></span><h2><a class="toc-backref" href="#id155" role="doc-backlink"><span class="section-number">28.1.15.23. </span>ゾーン統計量（ラスタ）</a><a class="headerlink" href="#raster-layer-zonal-statistics" title="Link to this heading"></a></h2>
<p>別のラスタレイヤで定義されたゾーンで分類して、ラスタレイヤの値の統計量を計算します。</p>
<div class="admonition seealso">
<p class="admonition-title">参考</p>
<p><a class="reference internal" href="#qgiszonalstatisticsfb"><span class="std std-ref">ゾーン統計量（ベクタ）</span></a></p>
</div>
<section id="id87">
<h3>パラメータ<a class="headerlink" href="#id87" title="Link to this heading"></a></h3>
<section id="id88">
<h4>基本パラメータ<a class="headerlink" href="#id88" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、統計量を計算したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>ゾーン統計の対象レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ZONES</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>ゾーンを定義するラスタレイヤ。ゾーンとは、同じピクセル値を持つ連続したピクセルです。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>対象バンド</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ZONES_BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、ゾーンを定義するバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>統計量の出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_TABLE</span></code></p></td>
<td><p>[テーブル]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時レイヤを作成]</span></code></p>
</td>
<td><p>出力レポートを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時レイヤを作成（ <code class="docutils literal notranslate"><span class="pre">TEMPORARY_OUTPUT</span></code> ）</p></li>
<li><p>ファイルに保存...</p></li>
<li><p>GeoPackageに保存...</p></li>
<li><p>データベーステーブルに保存...</p></li>
</ul>
<p>ここでファイルの文字コードを変更することもできます。</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id89">
<h4>詳細パラメータ<a class="headerlink" href="#id89" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>参照レイヤ</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">REF_LAYER</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 0</p>
</td>
<td><p>出力レイヤのゾーンの判定時に参照点として用いる重心の計算に使用するラスタレイヤ。次のいずれかです：</p>
<ul class="simple">
<li><p>0 --- 入力レイヤ：ゾーンは、ソースラスタレイヤから各ピクセルの重心でゾーンラスタレイヤの値をサンプリングすることによって決定されます</p></li>
<li><p>1 --- ゾーンレイヤ：入力ラスタレイヤは、ゾーンラスタレイヤの各ピクセルの重心でサンプリングされます</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id90">
<h3>出力<a class="headerlink" href="#id90" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>CRS権限識別子</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CRS_AUTHID</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの座標参照系</p></td>
</tr>
<tr class="row-odd"><td><p><strong>領域</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">EXTENT</span></code></p></td>
<td><p>[文字列]</p></td>
<td><p>出力ラスタレイヤの空間範囲</p></td>
</tr>
<tr class="row-even"><td><p><strong>高さ（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">HEIGHT_IN_PIXELS</span></code></p></td>
<td><p>[整数]</p></td>
<td><p>出力ラスタレイヤの行数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>NoData pixel count</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA_PIXEL_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>The number of NoData pixels in the output raster layer</p></td>
</tr>
<tr class="row-even"><td><p><strong>統計量の出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_TABLE</span></code></p></td>
<td><p>[テーブル]</p></td>
<td><p>出力レイヤには <strong>各ゾーンについての</strong> 以下の情報が含まれます：</p>
<ul class="simple">
<li><p>m2: ゾーンの面積（単位はラスタの長さ単位の二乗）</p></li>
<li><p>sum: ゾーン内のピクセル値の総和</p></li>
<li><p>count: ゾーン内のピクセルの個数</p></li>
<li><p>min: ゾーン内のピクセル値の最小値</p></li>
<li><p>max: ゾーン内のピクセル値の最大値</p></li>
<li><p>mean: ゾーン内のピクセル値の平均値</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>総ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TOTAL_PIXEL_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>出力ラスタレイヤのピクセル数</p></td>
</tr>
<tr class="row-even"><td><p><strong>幅（ピクセル単位）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WIDTH_IN_PIXELS</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>出力ラスタレイヤの列数</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id91">
<h3>Python コード<a class="headerlink" href="#id91" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rasterlayerzonalstats</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="raster-surface-volume">
<span id="qgisrastersurfacevolume"></span><h2><a class="toc-backref" href="#id156" role="doc-backlink"><span class="section-number">28.1.15.24. </span>ラスタのサーフェス体積</a><a class="headerlink" href="#raster-surface-volume" title="Link to this heading"></a></h2>
<p>指定したベースレベルを基準とした、ラスタサーフェスの下の体積を計算します。主に数値標高モデル（DEM）で便利なアルゴリズムです。</p>
<section id="id92">
<h3>パラメータ<a class="headerlink" href="#id92" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>サーフェスを表す入力ラスタ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、サーフェスを定義するバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>基準値（ベースレベル）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">LEVEL</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 0.0</p>
</td>
<td><p>ベース、あるいは基準値を定義します。この基準値は、 <code class="docutils literal notranslate"><span class="pre">方法</span></code> パラメータ（以下参照）に応じた体積計算に用いられます。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>方法</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">METHOD</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 0</p>
</td>
<td><p>ラスタピクセル値と <code class="docutils literal notranslate"><span class="pre">基準値</span></code> の差による体積計算の方法を定義します。オプションは次のとおり：</p>
<ul class="simple">
<li><p>0 --- 基準値を超える場合だけ：基準値を上回るピクセルのみが体積に加算されます。</p></li>
<li><p>1 --- 基準値を下回る場合だけ：基準値を下回るピクセルのみが体積に加算されます。</p></li>
<li><p>2 --- 基準値を下回る場合は減算：基準値を上回るピクセルは体積に加算され、基準値を下回るピクセルは体積から減算されます。</p></li>
<li><p>3 --- 基準値を下回る場合は加算：ピクセル値が基準値より上か下かに関わらず、体積に加算します。これは、ピクセル値と基準値の差の絶対値による合計と等しいです。</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>体積計算のレポート</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_HTML_FILE</span></code></p></td>
<td><p>[html]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力HTMLレポートを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>出力をスキップ</p></li>
<li><p>一時レイヤを作成（ <code class="docutils literal notranslate"><span class="pre">TEMPORARY_OUTPUT</span></code> ）</p></li>
<li><p>ファイルに保存...</p></li>
<li><p>GeoPackageに保存...</p></li>
<li><p>データベーステーブルに保存...</p></li>
</ul>
<p>ここでファイルの文字コードを変更することもできます。</p>
</td>
</tr>
<tr class="row-odd"><td><p><strong>体積計算の表</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_TABLE</span></code></p></td>
<td><p>[テーブル]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[出力をスキップ]</span></code></p>
</td>
<td><p>出力テーブルを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>出力をスキップ</p></li>
<li><p>一時レイヤを作成（ <code class="docutils literal notranslate"><span class="pre">TEMPORARY_OUTPUT</span></code> ）</p></li>
<li><p>ファイルに保存...</p></li>
<li><p>GeoPackageに保存...</p></li>
<li><p>データベーステーブルに保存...</p></li>
</ul>
<p>ここでファイルの文字コードを変更することもできます。</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id93">
<h3>出力<a class="headerlink" href="#id93" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>体積</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VOLUME</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>計算された体積</p></td>
</tr>
<tr class="row-odd"><td><p><strong>領域（Area）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">AREA</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>面積をマップ単位の2乗で表した値</p></td>
</tr>
<tr class="row-even"><td><p><strong>ピクセル数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">PIXEL_COUNT</span></code></p></td>
<td><p>[数値]</p></td>
<td><p>解析したピクセルの合計数</p></td>
</tr>
<tr class="row-odd"><td><p><strong>体積計算のレポート</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_HTML_FILE</span></code></p></td>
<td><p>[html]</p></td>
<td><p>HTML形式の出力レポート（体積、面積、ピクセル数を含む）</p></td>
</tr>
<tr class="row-even"><td><p><strong>体積計算の表</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT_TABLE</span></code></p></td>
<td><p>[テーブル]</p></td>
<td><p>出力テーブル（体積、面積、ピクセル数を含む）</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id94">
<h3>Python コード<a class="headerlink" href="#id94" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rastersurfacevolume</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="reclassify-by-layer">
<span id="qgisreclassifybylayer"></span><h2><a class="toc-backref" href="#id157" role="doc-backlink"><span class="section-number">28.1.15.25. </span>属性テーブルによる再分類</a><a class="headerlink" href="#reclassify-by-layer" title="Link to this heading"></a></h2>
<p>ベクタテーブルで指定された値の範囲に基づいて新しいクラス値を割り当てて、ラスタバンドを再分類します。</p>
<section id="id95">
<h3>パラメータ<a class="headerlink" href="#id95" title="Link to this heading"></a></h3>
<section id="id96">
<h4>基本パラメータ<a class="headerlink" href="#id96" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>ラスタレイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_RASTER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>再分類するラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RASTER_BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：ラスタレイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、再分類したいバンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>クラス区分のテーブルを含むレイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_TABLE</span></code></p></td>
<td><p>[ベクタ：任意]</p></td>
<td><p>分類に使用する値を含むベクタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>区分の下限を示す属性（フィールド）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MIN_FIELD</span></code></p></td>
<td><p>[テーブルのフィールド：数値]</p></td>
<td><p>クラス範囲の最小値を持つフィールド。最も低い値を取り込むには <code class="docutils literal notranslate"><span class="pre">-inf</span></code> を使います。</p></td>
</tr>
<tr class="row-even"><td><p><strong>区分の上限を示す属性（フィールド）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MAX_FIELD</span></code></p></td>
<td><p>[テーブルのフィールド：数値]</p></td>
<td><p>クラス範囲の最大値を持つフィールド。最も高い値を取り込むには <code class="docutils literal notranslate"><span class="pre">inf</span></code> を使います。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>クラスを示す属性（フィールド）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VALUE_FIELD</span></code></p></td>
<td><p>[テーブルのフィールド：数値]</p></td>
<td><p>そのクラス（対応する最小値と最大値の間）に当てはまるピクセルに割り当てる値を持つフィールド。その範囲の値をNoDataに設定するには <code class="docutils literal notranslate"><span class="pre">nan</span></code> を使います。</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id97">
<h4>詳細パラメータ<a class="headerlink" href="#id97" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO_DATA</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to apply to NoData values.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>分類区分の境界上の扱い</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RANGE_BOUNDARIES</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 0</p>
</td>
<td><p>クラス分類の比較ルールを定義します。オプションは次のとおり：</p>
<ul class="simple">
<li><p>0 --- min &lt; value &lt;= max</p></li>
<li><p>1 --- min &lt;= value &lt; max</p></li>
<li><p>2 --- min &lt;= value &lt;= max</p></li>
<li><p>3 --- min &lt; value &lt; max</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>Use NoData when no range matches value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA_FOR_MISSING</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： False</p>
</td>
<td><p>Applies the NoData value to band values that do not fall in
any class.
If False, the original value is kept.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>出力のデータ型</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATA_TYPE</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 5</p>
</td>
<td><p>出力ラスタファイルの形式を定義します。オプションは以下のとおり:</p>
<ul class="simple">
<li><p>0 -- Byte （符号なし8ビット整数 (quint8)）</p></li>
<li><p>1 -- Int16 （符号あり16ビット整数 (qint16)）</p></li>
<li><p>2 -- UInt16 （符号なし16ビット整数 (quint16)）</p></li>
<li><p>3 --- Int32　（32ビット符号あり整数(qint32)）</p></li>
<li><p>4 --- UInt32      （32ビット符号なし整数 (quint32)）</p></li>
<li><p>5 -- Float32 （32ビット浮動小数点数 (float)）</p></li>
<li><p>6 -- Float64 （64ビット浮動小数点数 (double)）</p></li>
<li><p>7 -- CInt16 （複素数 Int16）</p></li>
<li><p>8 -- CInt32 （複素数 Int32）</p></li>
<li><p>9 -- CFloat32 （複素数 Float32）</p></li>
<li><p>10 -- CFloat64 （複素数 Float64）</p></li>
<li><p>11 --- Int8       （符号あり8ビット整数(qint8)）</p></li>
</ul>
<p>利用可能なオプションは、QGISと一緒にビルドされたGDALのバージョンによって異なります（ <span class="menuselection">ヘルプ ► QGISについて</span> メニューを参照）</p>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id98">
<h3>出力<a class="headerlink" href="#id98" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>再分類されたバンド値を持つ出力ラスタレイヤ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id99">
<h3>Python コード<a class="headerlink" href="#id99" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:reclassifybylayer</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="reclassify-by-table">
<span id="qgisreclassifybytable"></span><h2><a class="toc-backref" href="#id158" role="doc-backlink"><span class="section-number">28.1.15.26. </span>区分表（テーブル）で再分類</a><a class="headerlink" href="#reclassify-by-table" title="Link to this heading"></a></h2>
<p>固定テーブルで指定された値の範囲に基づいて新しいクラス値を割り当てて、ラスタバンドを再分類します。</p>
<section id="id100">
<h3>パラメータ<a class="headerlink" href="#id100" title="Link to this heading"></a></h3>
<section id="id101">
<h4>基本パラメータ<a class="headerlink" href="#id101" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>ラスタレイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_RASTER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>再分類するラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RASTER_BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト： 1</p>
</td>
<td><p>値を再計算したいラスタのバンド</p></td>
</tr>
<tr class="row-even"><td><p><strong>再分類の区分表（テーブル）</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TABLE</span></code></p></td>
<td><p>[テーブル]</p></td>
<td><p>各クラスの境界を設定する値（<code class="docutils literal notranslate"><span class="pre">Minimum</span></code> と <code class="docutils literal notranslate"><span class="pre">Maximum</span></code>）と、そのクラスに当てはまるバンド値に割り当てる新しい <code class="docutils literal notranslate"><span class="pre">Value</span></code> の3カラムのテーブル。値 <code class="docutils literal notranslate"><span class="pre">-inf</span></code> は最小値、<code class="docutils literal notranslate"><span class="pre">inf</span></code> は最大値として使用でき、<code class="docutils literal notranslate"><span class="pre">nan</span></code> は出力値を NoData に設定するために使用できます。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id102">
<h4>詳細パラメータ<a class="headerlink" href="#id102" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Output NoData value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NO_DATA</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： -9999.0</p>
</td>
<td><p>Value to apply to NoData values.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>分類区分の境界上の扱い</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RANGE_BOUNDARIES</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 0</p>
</td>
<td><p>クラス分類の比較ルールを定義します。オプションは次のとおり：</p>
<ul class="simple">
<li><p>0 --- min &lt; value &lt;= max</p></li>
<li><p>1 --- min &lt;= value &lt; max</p></li>
<li><p>2 --- min &lt;= value &lt;= max</p></li>
<li><p>3 --- min &lt; value &lt; max</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p><strong>Use NoData when no range matches value</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA_FOR_MISSING</span></code></p></td>
<td><p>[ブール値]</p>
<p>デフォルト： False</p>
</td>
<td><p>Applies the NoData value to band values that do not fall in
any class.
If False, the original value is kept.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>出力のデータ型</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATA_TYPE</span></code></p></td>
<td><p>[列挙型]</p>
<p>デフォルト： 5</p>
</td>
<td><p>出力ラスタファイルの形式を定義します。オプションは以下のとおり:</p>
<ul class="simple">
<li><p>0 -- Byte （符号なし8ビット整数 (quint8)）</p></li>
<li><p>1 -- Int16 （符号あり16ビット整数 (qint16)）</p></li>
<li><p>2 -- UInt16 （符号なし16ビット整数 (quint16)）</p></li>
<li><p>3 --- Int32　（32ビット符号あり整数(qint32)）</p></li>
<li><p>4 --- UInt32      （32ビット符号なし整数 (quint32)）</p></li>
<li><p>5 -- Float32 （32ビット浮動小数点数 (float)）</p></li>
<li><p>6 -- Float64 （64ビット浮動小数点数 (double)）</p></li>
<li><p>7 -- CInt16 （複素数 Int16）</p></li>
<li><p>8 -- CInt32 （複素数 Int32）</p></li>
<li><p>9 -- CFloat32 （複素数 Float32）</p></li>
<li><p>10 -- CFloat64 （複素数 Float64）</p></li>
<li><p>11 --- Int8       （符号あり8ビット整数(qint8)）</p></li>
</ul>
<p>利用可能なオプションは、QGISと一緒にビルドされたGDALのバージョンによって異なります（ <span class="menuselection">ヘルプ ► QGISについて</span> メニューを参照）</p>
</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id103">
<h3>出力<a class="headerlink" href="#id103" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>再分類されたバンド値を持つ出力ラスタレイヤ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id104">
<h3>Python コード<a class="headerlink" href="#id104" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:reclassifybytable</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="rescale-raster">
<span id="qgisrescaleraster"></span><h2><a class="toc-backref" href="#id159" role="doc-backlink"><span class="section-number">28.1.15.27. </span>ラスタの範囲変更</a><a class="headerlink" href="#rescale-raster" title="Link to this heading"></a></h2>
<p>ラスタのヒストグラム（ピクセル値）の形状（分布）は保ったまま、ラスタレイヤを再スケーリングして新しい値の範囲に変更します。入力値は、ソースラスタのピクセル最小値・最大値から出力結果のピクセル最小・最大範囲へと線形補間でマッピングされます。</p>
<p>By default the algorithm preserves the original NoData value, but there
is an option to override it.</p>
<figure class="align-center" id="id130">
<img alt="../../../../_images/rescale_raster.png" src="../../../../_images/rescale_raster.png" />
<figcaption>
<p><span class="caption-number">図 28.27 </span><span class="caption-text">ラスタレイヤの値の範囲を [0 - 50] から [100 - 1000] へと再スケーリング</span><a class="headerlink" href="#id130" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="id105">
<h3>パラメータ<a class="headerlink" href="#id105" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>値の範囲を変更するラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：入力レイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、バンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>最小値</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MINIMUM</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト値： 0.0</p>
</td>
<td><p>範囲変更後のレイヤのピクセル最小値</p></td>
</tr>
<tr class="row-odd"><td><p><strong>最大値</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">MAXIMUM</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト値： 255.0</p>
</td>
<td><p>範囲変更後のレイヤのピクセル最大値</p></td>
</tr>
<tr class="row-even"><td><p><strong>New NoData value</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">NODATA</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト値：未設定</p>
</td>
<td><p>Value to assign to the NoData pixels.
If unset, original NoData values are preserved.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>リスケール出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ラスタレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id106">
<h3>出力<a class="headerlink" href="#id106" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>リスケール出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>範囲変更後のバンド値を持つ出力ラスタレイヤ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id107">
<h3>Python コード<a class="headerlink" href="#id107" title="Link to this heading"></a></h3>
<p><strong>アルゴリズムID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rescaleraster</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="round-raster">
<span id="qgisroundrastervalues"></span><h2><a class="toc-backref" href="#id160" role="doc-backlink"><span class="section-number">28.1.15.28. </span>ラスタ値を四捨五入</a><a class="headerlink" href="#round-raster" title="Link to this heading"></a></h2>
<p>ラスタデータセットのセル値を指定した小数点桁数で丸めます。</p>
<p>小数点以下とする代わりに、負の小数点以下桁数を使用して、値を基数n の累乗に丸めることもできます。例えば、基数n が10 で小数点以下の桁数が-1 の場合、このアルゴリズムはセルの値を10 の倍数に丸め、-2 の場合は100 の倍数に丸めるといった具合です。任意の基数を選択しても、このアルゴリズムは同じ乗法の原理を適用します。セル値を基数n の倍数に丸めることで、ラスタレイヤの値を簡略化することができます。</p>
<p>このアルゴリズムは、入力ラスタのデータ型を維持します。このため、byte型や整数型のラスタは基数nの倍数に丸めることしかできません。基数nの倍数に丸められない場合には警告が発生し、byte型や整数型のラスタとして、入力ラスタのコピーが返ります。</p>
<figure class="align-center" id="id131">
<img alt="../../../../_images/round_raster.png" src="../../../../_images/round_raster.png" />
<figcaption>
<p><span class="caption-number">図 28.28 </span><span class="caption-text">ラスタの値の丸め</span><a class="headerlink" href="#id131" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="id108">
<h3>パラメータ<a class="headerlink" href="#id108" title="Link to this heading"></a></h3>
<section id="id109">
<h4>基本パラメータ<a class="headerlink" href="#id109" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>処理するラスタ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BAND</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 1</p>
</td>
<td><p>ラスタのバンド番号</p></td>
</tr>
<tr class="row-even"><td><p><strong>丸める方向</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ROUNDING_DIRECTION</span></code></p></td>
<td><p>[リスト]</p>
<p>デフォルト： 1</p>
</td>
<td><p>値を丸める方法。オプションは次のとおり：</p>
<ul class="simple">
<li><p>0 -- 繰り上げ</p></li>
<li><p>1 -- 四捨五入</p></li>
<li><p>2 -- 切り下げ</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>小数点以下の桁数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL_PLACES</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 2</p>
</td>
<td><p>丸める小数点以下の桁数。負の値を使用すると、セルの値を基数nの桁数で丸める</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時ファイルに保存]</span></code></p>
</td>
<td><p>出力ファイルを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時ファイルに保存</p></li>
<li><p>ファイルに保存...</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id110">
<h4>詳細パラメータ<a class="headerlink" href="#id110" title="Link to this heading"></a></h4>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>基数</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BASE_N</span></code></p></td>
<td><p>[数値]</p>
<p>デフォルト： 10</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL_PLACES</span></code> パラメータが負の場合は、ラスタの値は基数nの桁数で丸められる</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="id111">
<h3>出力<a class="headerlink" href="#id111" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力ラスタ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>選択したバンドの値が丸められた出力ラスタレイヤ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id112">
<h3>Python コード<a class="headerlink" href="#id112" title="Link to this heading"></a></h3>
<p><strong>アルゴリズムID</strong>: <code class="docutils literal notranslate"><span class="pre">native:roundrastervalues</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="sample-raster-values">
<span id="qgisrastersampling"></span><h2><a class="toc-backref" href="#id161" role="doc-backlink"><span class="section-number">28.1.15.29. </span>ベクタレイヤにラスタ値を付加</a><a class="headerlink" href="#sample-raster-values" title="Link to this heading"></a></h2>
<p>ポイントの位置におけるラスタ値を抽出します。ラスタレイヤがマルチバンドの場合には、各バンドの値がサンプリングされます。</p>
<p>結果レイヤの属性テーブルには、ラスタレイヤのバンド数分の新しい列が追加されます。</p>
<section id="id113">
<h3>パラメータ<a class="headerlink" href="#id113" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 30.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ベクタ：ポイント]</p></td>
<td><p>サンプリングに使用するポイントベクタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>ラスタレイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RASTERCOPY</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>与えられたポイント位置でサンプリングされるラスタレイヤ</p></td>
</tr>
<tr class="row-even"><td><p><strong>ラスタ値を収納するカラム名の接頭辞</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COLUMN_PREFIX</span></code></p></td>
<td><p>[文字列]</p>
<p>デフォルト：'SAMPLE_'</p>
</td>
<td><p>追加されるカラム名の接頭辞</p></td>
</tr>
<tr class="row-odd"><td><p><strong>サンプリングした出力</strong></p>
<p>オプション</p>
</td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ベクタ：ポイント]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時レイヤを作成]</span></code></p>
</td>
<td><p>サンプリングされた値の出力レイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時レイヤを作成（ <code class="docutils literal notranslate"><span class="pre">TEMPORARY_OUTPUT</span></code> ）</p></li>
<li><p>ファイルに保存...</p></li>
<li><p>GeoPackageに保存...</p></li>
<li><p>データベーステーブルに保存...</p></li>
</ul>
<p>ここでファイルの文字コードを変更することもできます。</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id114">
<h3>出力<a class="headerlink" href="#id114" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>サンプリングした出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ベクタ：ポイント]</p></td>
<td><p>サンプリングされた値の出力レイヤ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id115">
<h3>Python コード<a class="headerlink" href="#id115" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:rastersampling</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="zonal-histogram">
<span id="qgiszonalhistogram"></span><h2><a class="toc-backref" href="#id162" role="doc-backlink"><span class="section-number">28.1.15.30. </span>ゾーンヒストグラム</a><a class="headerlink" href="#zonal-histogram" title="Link to this heading"></a></h2>
<p>ポリゴン地物内に含まれるラスタレイヤの各ユニーク値の個数を表すフィールドを追加します。</p>
<p>出力レイヤの属性テーブルには、ポリゴンと交差するラスタレイヤのユニーク値の種類数分のフィールドが追加されます。</p>
<figure class="align-center" id="id132">
<img alt="../../../../_images/raster_histogram.png" src="../../../../_images/raster_histogram.png" />
<figcaption>
<p><span class="caption-number">図 28.29 </span><span class="caption-text">ラスタレイヤのヒストグラムの例</span><a class="headerlink" href="#id132" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="id116">
<h3>パラメータ<a class="headerlink" href="#id116" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>ラスタレイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_RASTER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>バンド番号</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RASTER_BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：入力レイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、バンドを選択してください。</p></td>
</tr>
<tr class="row-even"><td><p><strong>ゾーンのベクタレイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_VECTOR</span></code></p></td>
<td><p>[ベクタ：ポリゴン]</p></td>
<td><p>ゾーンを定義するベクタポリゴンレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>ラスタ値を収納するカラム名の接頭辞</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COLUMN_PREFIX</span></code></p>
<p>オプション</p>
</td>
<td><p>[文字列]</p>
<p>デフォルト： 'HISTO_'</p>
</td>
<td><p>出力カラム名の接頭辞</p></td>
</tr>
<tr class="row-even"><td><p><strong>出力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ベクタ：ポリゴン]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時レイヤを作成]</span></code></p>
</td>
<td><p>出力ベクタポリゴンレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時レイヤを作成（ <code class="docutils literal notranslate"><span class="pre">TEMPORARY_OUTPUT</span></code> ）</p></li>
<li><p>ファイルに保存...</p></li>
<li><p>GeoPackageに保存...</p></li>
<li><p>データベーステーブルに保存...</p></li>
</ul>
<p>ここでファイルの文字コードを変更することもできます。</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id117">
<h3>出力<a class="headerlink" href="#id117" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>出力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ベクタ：ポリゴン]</p></td>
<td><p>出力ベクタポリゴンレイヤ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id118">
<h3>Python コード<a class="headerlink" href="#id118" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:zonalhistogram</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
<section id="zonal-statistics">
<span id="qgiszonalstatisticsfb"></span><h2><a class="toc-backref" href="#id163" role="doc-backlink"><span class="section-number">28.1.15.31. </span>ゾーン統計量（ベクタ）</a><a class="headerlink" href="#zonal-statistics" title="Link to this heading"></a></h2>
<p>ラスタレイヤの統計量を、重なっているポリゴンベクタレイヤの地物ごとに計算します。</p>
<section id="id119">
<h3>パラメータ<a class="headerlink" href="#id119" title="Link to this heading"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>入力レイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code></p></td>
<td><p>[ベクタ：ポリゴン]</p></td>
<td><p>ゾーンを含むベクタポリゴンレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><strong>ラスタレイヤ</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INPUT_RASTER</span></code></p></td>
<td><p>[ラスタ]</p></td>
<td><p>入力ラスタレイヤ</p></td>
</tr>
<tr class="row-even"><td><p><strong>対象バンド</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">RASTER_BAND</span></code></p></td>
<td><p>[ラスタのバンド]</p>
<p>デフォルト：入力レイヤの1番目のバンド</p>
</td>
<td><p>ラスタがマルチバンドの場合には、統計量を計算したいバンドを選択してください。</p></td>
</tr>
<tr class="row-odd"><td><p><strong>ラスタ値を収納するカラム名の接頭辞</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">COLUMN_PREFIX</span></code></p></td>
<td><p>[文字列]</p>
<p>デフォルト： '_'</p>
</td>
<td><p>出力カラム名の接頭辞</p></td>
</tr>
<tr class="row-even"><td><p><strong>計算する統計量</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">STATISTICS</span></code></p></td>
<td><p>[列挙型] [リスト]</p>
<p>デフォルト： [0,1,2]</p>
</td>
<td><p>出力する統計演算のリスト。オプションは以下のとおり：</p>
<ul class="simple">
<li><p>0 --- カウント（Count）</p></li>
<li><p>1 --- 合計</p></li>
<li><p>2 --- 平均</p></li>
<li><p>3 --- 中央値</p></li>
<li><p>4 --- 標準偏差</p></li>
<li><p>5 --- 最小値</p></li>
<li><p>6 --- 最大</p></li>
<li><p>7 --- 範囲（Range）</p></li>
<li><p>8 --- 最稀値（Minority）</p></li>
<li><p>9 --- 最頻値（Majority）</p></li>
<li><p>10 --- 種類（Variety）</p></li>
<li><p>11 --- 分散（Variance）</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><strong>ゾーン統計量出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ベクタ：ポリゴン]</p>
<p>デフォルト： <code class="docutils literal notranslate"><span class="pre">[一時レイヤを作成]</span></code></p>
</td>
<td><p>出力ベクタポリゴンレイヤを指定します。次のいずれかです：</p>
<ul class="simple">
<li><p>一時レイヤを作成（ <code class="docutils literal notranslate"><span class="pre">TEMPORARY_OUTPUT</span></code> ）</p></li>
<li><p>ファイルに保存...</p></li>
<li><p>GeoPackageに保存...</p></li>
<li><p>データベーステーブルに保存...</p></li>
<li><p>レイヤに追加...</p></li>
</ul>
<p>ここでファイルの文字コードを変更することもできます。</p>
</td>
</tr>
</tbody>
</table>
</section>
<section id="id120">
<h3>出力<a class="headerlink" href="#id120" title="Link to this heading"></a></h3>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>ラベル</p></th>
<th class="head"><p>名前</p></th>
<th class="head"><p>タイプ</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>ゾーン統計量出力</strong></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code></p></td>
<td><p>[ベクタ：ポリゴン]</p></td>
<td><p>統計量が追加されたゾーンのベクタレイヤ</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id121">
<h3>Python コード<a class="headerlink" href="#id121" title="Link to this heading"></a></h3>
<p><strong>Algorithm ID</strong>: <code class="docutils literal notranslate"><span class="pre">native:zonalstatisticsfb</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">processing</span>
<span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;algorithm_id&quot;</span><span class="p">,</span> <span class="p">{</span><span class="n">parameter_dictionary</span><span class="p">})</span>
</pre></div>
</div>
<p><em>algorithm id</em> は、プロセシングツールボックス内でアルゴリズムにマウスカーソルを乗せた際に表示されるIDです。 <em>parameter dictionary</em> は、パラメータの「名前」とその値を指定するマッピング型です。Python コンソールからプロセシングアルゴリズムを実行する方法の詳細については、 <a class="reference internal" href="../../processing/console.html#processing-console"><span class="std std-ref">プロセシングアルゴリズムをコンソールから使う</span></a> を参照してください。</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pointcloudextraction.html" class="btn btn-neutral float-left" title="28.1.14. Point Cloud Extraction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rastercreation.html" class="btn btn-neutral float-right" title="28.1.16. ラスタ作成" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">最終更新: 2024 6月 25, 05:29 +0900
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/processing_algs/qgis/rasteranalysis.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/user_manual/processing_algs/qgis/rasteranalysis.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/user_manual/processing_algs/qgis/rasteranalysis.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/user_manual/processing_algs/qgis/rasteranalysis.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/user_manual/processing_algs/qgis/rasteranalysis.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/user_manual/processing_algs/qgis/rasteranalysis.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/user_manual/processing_algs/qgis/rasteranalysis.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/user_manual/processing_algs/qgis/rasteranalysis.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/user_manual/processing_algs/qgis/rasteranalysis.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/user_manual/processing_algs/qgis/rasteranalysis.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/user_manual/processing_algs/qgis/rasteranalysis.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/user_manual/processing_algs/qgis/rasteranalysis.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/user_manual/processing_algs/qgis/rasteranalysis.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/user_manual/processing_algs/qgis/rasteranalysis.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/user_manual/processing_algs/qgis/rasteranalysis.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/ja/docs/user_manual/processing_algs/qgis/rasteranalysis.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/user_manual/processing_algs/qgis/rasteranalysis.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#ja/803460a3d6f5b86cd719e529c5de83ba" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/ja" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>