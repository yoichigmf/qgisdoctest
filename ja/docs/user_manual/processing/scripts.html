<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>27.9. 新たなプロセシングアルゴリズムをPythonスクリプトで作成する &mdash; QGIS Documentation  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/user_manual/processing/scripts.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="../../../_static/translations.js?v=4dbe4bdc"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="検索" href="../../../search.html" />
    <link rel="next" title="27.10. プロセシングアルゴリズムのための入力と出力の型" href="parameters.html" />
    <link rel="prev" title="27.8. プロセシングをコマンドラインから使用する" href="standalone.html" />
  <meta name="description" content="QGIS 3.34 documentation: 27.9. 新たなプロセシングアルゴリズムをPythonスクリプトで作成する">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ユーザ向け</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">QGIS Desktopユーザーガイド／マニュアル (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../preamble/preamble.html">1. はじめに</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/foreword.html">2. 序文</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/conventions.html">3. 記述ルール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/features.html">4. 機能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/getting_started.html">5. 最初のステップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/project_files.html">6. プロジェクトファイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_gui.html">7. QGISのユーザインタフェース</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/browser.html">8. ブラウザパネル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_configuration.html">9. QGISの設定</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_projections/working_with_projections.html">10. 投影法の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../map_views/index.html">11. 地図の可視化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/general_tools.html">12. 一般ツール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../expressions/index.html">13. 式でレベルアップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../style_library/index.html">14. スタイルライブラリ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../managing_data_source/index.html">15. データソースの管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector/index.html">16. ベクタデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_raster/index.html">17. ラスタデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_mesh/mesh.html">18. メッシュデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector_tiles/vector_tiles.html">19. ベクタタイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_point_clouds/point_clouds.html">20. 点群の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_3d_tiles/3d_tiles.html">21. 3Dタイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../print_composer/index.html">22. 地図のレイアウト</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_ogc/ogc_client_support.html">23. OGC / ISOプロトコルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_gps/index.html">24. GPSデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth_system/index.html">25. 認証システム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grass_integration/grass_integration.html">26. GRASS GIS の統合</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">27. QGIS プロセシングフレームワーク</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="intro.html">27.1. はじめに</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">27.2. プロセシングフレームワークを設定する</a></li>
<li class="toctree-l3"><a class="reference internal" href="toolbox.html">27.3. ツールボックス</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html">27.4. 履歴マネージャ</a></li>
<li class="toctree-l3"><a class="reference internal" href="modeler.html">27.5. モデルデザイナー</a></li>
<li class="toctree-l3"><a class="reference internal" href="batch.html">27.6. バッチ処理インターフェイス</a></li>
<li class="toctree-l3"><a class="reference internal" href="console.html">27.7. プロセシングアルゴリズムをコンソールから使う</a></li>
<li class="toctree-l3"><a class="reference internal" href="standalone.html">27.8. プロセシングをコマンドラインから使用する</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">27.9. 新たなプロセシングアルゴリズムをPythonスクリプトで作成する</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#extending-qgsprocessingalgorithm">27.9.1. QgsProcessingAlgorithmを拡張する</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-alg-decorator">27.9.2. &#64;alg デコレータ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#handing-algorithm-output">27.9.3. アルゴリズムの出力を渡す</a></li>
<li class="toctree-l4"><a class="reference internal" href="#communicating-with-the-user">27.9.4. ユーザーとコミュニケーションする</a></li>
<li class="toctree-l4"><a class="reference internal" href="#documenting-your-scripts">27.9.5. スクリプトのドキュメントを作成する</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flags">27.9.6. フラグ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#best-practices-for-writing-script-algorithms">27.9.7. スクリプトアルゴリズムを書くためのベストプラクティス</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="parameters.html">27.10. プロセシングアルゴリズムのための入力と出力の型</a></li>
<li class="toctree-l3"><a class="reference internal" href="3rdParty.html">27.11. 外部アプリケーションの設定</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../processing_algs/index.html">28. プロセシングプロバイダとアルゴリズム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html">29. プラグイン</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/help_and_support.html">30. ヘルプとサポート</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/contributors.html">31. 協力者</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/index.html">32. 付録</a></li>
<li class="toctree-l2"><a class="reference internal" href="../literature_web/literature_and_web_references.html">33. 文献とWeb参照</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../server_manual/index.html">QGIS Serverガイド／マニュアル (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training_manual/index.html">トレーニングマニュアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gentle_gis_introduction/index.html">やさしい GIS 入門</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ドキュメント執筆者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_guidelines/index.html">ドキュメント作成のガイドライン</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">開発者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyqgis_developer_cookbook/index.html">PyQGISクックブック (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/index.html">開発者ガイド</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">QGISユーザガイド</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">27. </span>QGIS プロセシングフレームワーク</a></li>
      <li class="breadcrumb-item active"><span class="section-number">27.9. </span>新たなプロセシングアルゴリズムをPythonスクリプトで作成する</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/user_manual/processing/scripts.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="standalone.html" class="btn btn-neutral float-left" title="27.8. プロセシングをコマンドラインから使用する" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="parameters.html" class="btn btn-neutral float-right" title="27.10. プロセシングアルゴリズムのための入力と出力の型" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div><div class="admonition important">
<p class="admonition-title">重要</p>
<p>翻訳は <a class="reference external" href="https://qgis.org/en/site/getinvolved/translate.html#becoming-a-translator">あなたが参加できる</a> コミュニティの取り組みです。このページは現在 100.00% 翻訳されています。</p>
</div>
</div></blockquote>
<section id="writing-new-processing-algorithms-as-python-scripts">
<h1><span class="section-number">27.9. </span>新たなプロセシングアルゴリズムをPythonスクリプトで作成する<a class="headerlink" href="#writing-new-processing-algorithms-as-python-scripts" title="Link to this heading"></a></h1>
<nav class="contents local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#extending-qgsprocessingalgorithm" id="id2">QgsProcessingAlgorithmを拡張する</a></p></li>
<li><p><a class="reference internal" href="#the-alg-decorator" id="id3">&#64;alg デコレータ</a></p></li>
<li><p><a class="reference internal" href="#handing-algorithm-output" id="id4">アルゴリズムの出力を渡す</a></p></li>
<li><p><a class="reference internal" href="#communicating-with-the-user" id="id5">ユーザーとコミュニケーションする</a></p></li>
<li><p><a class="reference internal" href="#documenting-your-scripts" id="id6">スクリプトのドキュメントを作成する</a></p></li>
<li><p><a class="reference internal" href="#flags" id="id7">フラグ</a></p></li>
<li><p><a class="reference internal" href="#best-practices-for-writing-script-algorithms" id="id8">スクリプトアルゴリズムを書くためのベストプラクティス</a></p></li>
</ul>
</nav>
<p>Pythonを使ってプロセシングアルゴリズムを書くためには、ふたつの選択肢があります。</p>
<ul class="simple">
<li><p><a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingAlgorithm.html#qgis.core.QgsProcessingAlgorithm" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsProcessingAlgorithm</span></code></a> クラスを <a class="reference internal" href="#scripts-extend"><span class="std std-ref">拡張する</span></a></p></li>
<li><p><a class="reference internal" href="#scripts-alg"><span class="std std-ref">&#64;alg デコレータを使う</span></a></p></li>
</ul>
<p>QGIS内では、 <span class="guilabel">プロセシングツールボックス</span> の上部にある <span class="guilabel">スクリプト</span> メニューの <span class="guilabel">新しいスクリプトを作成</span> を使用して、自分のコードを書ける <span class="guilabel">プロセシングスクリプトエディタ</span> を開いて作成できます。タスクを簡素化するには、同じメニューの <span class="guilabel">テンプレートから新しいスクリプトを作成する</span> を使用して、スクリプトテンプレートから開始できます。これにより <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingAlgorithm.html#qgis.core.QgsProcessingAlgorithm" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsProcessingAlgorithm</span></code></a> を拡張するテンプレートが開きます。</p>
<p>スクリプトを <code class="file docutils literal notranslate"><span class="pre">scripts</span></code> フォルダ(デフォルトの場所) に <code class="file docutils literal notranslate"><span class="pre">.py</span></code> という拡張子で保存するとそのアルゴリズムは <span class="guilabel">プロセシングツールボックス</span> で利用できるようになります。</p>
<section id="extending-qgsprocessingalgorithm">
<span id="scripts-extend"></span><h2><a class="toc-backref" href="#id2" role="doc-backlink"><span class="section-number">27.9.1. </span>QgsProcessingAlgorithmを拡張する</a><a class="headerlink" href="#extending-qgsprocessingalgorithm" title="Link to this heading"></a></h2>
<p>以下のコードの内容です</p>
<ol class="arabic simple">
<li><p>ベクタレイヤを入力に指定します</p></li>
<li><p>地物の数を数えます</p></li>
<li><p>バッファの操作を行います</p></li>
<li><p>バッファ操作の結果を使ってラスタレイヤを作ります</p></li>
<li><p>バッファレイヤ,ラスタレイヤと地物の数を返します</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">  1</span><span class="kn">from</span> <span class="nn">qgis.PyQt.QtCore</span> <span class="kn">import</span> <span class="n">QCoreApplication</span>
<span class="linenos">  2</span><span class="kn">from</span> <span class="nn">qgis.core</span> <span class="kn">import</span> <span class="p">(</span><span class="n">QgsProcessing</span><span class="p">,</span>
<span class="linenos">  3</span>                       <span class="n">QgsProcessingAlgorithm</span><span class="p">,</span>
<span class="linenos">  4</span>                       <span class="n">QgsProcessingException</span><span class="p">,</span>
<span class="linenos">  5</span>                       <span class="n">QgsProcessingOutputNumber</span><span class="p">,</span>
<span class="linenos">  6</span>                       <span class="n">QgsProcessingParameterDistance</span><span class="p">,</span>
<span class="linenos">  7</span>                       <span class="n">QgsProcessingParameterFeatureSource</span><span class="p">,</span>
<span class="linenos">  8</span>                       <span class="n">QgsProcessingParameterVectorDestination</span><span class="p">,</span>
<span class="linenos">  9</span>                       <span class="n">QgsProcessingParameterRasterDestination</span><span class="p">)</span>
<span class="linenos"> 10</span><span class="kn">from</span> <span class="nn">qgis</span> <span class="kn">import</span> <span class="n">processing</span>
<span class="linenos"> 11</span>
<span class="linenos"> 12</span>
<span class="linenos"> 13</span><span class="k">class</span> <span class="nc">ExampleProcessingAlgorithm</span><span class="p">(</span><span class="n">QgsProcessingAlgorithm</span><span class="p">):</span>
<span class="linenos"> 14</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 15</span><span class="sd">    This is an example algorithm that takes a vector layer,</span>
<span class="linenos"> 16</span><span class="sd">    creates some new layers and returns some results.</span>
<span class="linenos"> 17</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos"> 18</span>
<span class="linenos"> 19</span>    <span class="k">def</span> <span class="nf">tr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">):</span>
<span class="linenos"> 20</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 21</span><span class="sd">        Returns a translatable string with the self.tr() function.</span>
<span class="linenos"> 22</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 23</span>        <span class="k">return</span> <span class="n">QCoreApplication</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="s1">&#39;Processing&#39;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
<span class="linenos"> 24</span>
<span class="linenos"> 25</span>    <span class="k">def</span> <span class="nf">createInstance</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 26</span>        <span class="c1"># Must return a new copy of your algorithm.</span>
<span class="linenos"> 27</span>        <span class="k">return</span> <span class="n">ExampleProcessingAlgorithm</span><span class="p">()</span>
<span class="linenos"> 28</span>
<span class="linenos"> 29</span>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 30</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 31</span><span class="sd">        Returns the unique algorithm name.</span>
<span class="linenos"> 32</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 33</span>        <span class="k">return</span> <span class="s1">&#39;bufferrasterextend&#39;</span>
<span class="linenos"> 34</span>
<span class="linenos"> 35</span>    <span class="k">def</span> <span class="nf">displayName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 36</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 37</span><span class="sd">        Returns the translated algorithm name.</span>
<span class="linenos"> 38</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 39</span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s1">&#39;Buffer and export to raster (extend)&#39;</span><span class="p">)</span>
<span class="linenos"> 40</span>
<span class="linenos"> 41</span>    <span class="k">def</span> <span class="nf">group</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 42</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 43</span><span class="sd">        Returns the name of the group this algorithm belongs to.</span>
<span class="linenos"> 44</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 45</span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s1">&#39;Example scripts&#39;</span><span class="p">)</span>
<span class="linenos"> 46</span>
<span class="linenos"> 47</span>    <span class="k">def</span> <span class="nf">groupId</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 48</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 49</span><span class="sd">        Returns the unique ID of the group this algorithm belongs</span>
<span class="linenos"> 50</span><span class="sd">        to.</span>
<span class="linenos"> 51</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 52</span>        <span class="k">return</span> <span class="s1">&#39;examplescripts&#39;</span>
<span class="linenos"> 53</span>
<span class="linenos"> 54</span>    <span class="k">def</span> <span class="nf">shortHelpString</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 55</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 56</span><span class="sd">        Returns a localised short help string for the algorithm.</span>
<span class="linenos"> 57</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 58</span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s1">&#39;Example algorithm short description&#39;</span><span class="p">)</span>
<span class="linenos"> 59</span>
<span class="linenos"> 60</span>    <span class="k">def</span> <span class="nf">initAlgorithm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="linenos"> 61</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos"> 62</span><span class="sd">        Here we define the inputs and outputs of the algorithm.</span>
<span class="linenos"> 63</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos"> 64</span>        <span class="c1"># &#39;INPUT&#39; is the recommended name for the main input</span>
<span class="linenos"> 65</span>        <span class="c1"># parameter.</span>
<span class="linenos"> 66</span>        <span class="bp">self</span><span class="o">.</span><span class="n">addParameter</span><span class="p">(</span>
<span class="linenos"> 67</span>            <span class="n">QgsProcessingParameterFeatureSource</span><span class="p">(</span>
<span class="linenos"> 68</span>                <span class="s1">&#39;INPUT&#39;</span><span class="p">,</span>
<span class="linenos"> 69</span>                <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s1">&#39;Input vector layer&#39;</span><span class="p">),</span>
<span class="linenos"> 70</span>                <span class="n">types</span><span class="o">=</span><span class="p">[</span><span class="n">QgsProcessing</span><span class="o">.</span><span class="n">TypeVectorAnyGeometry</span><span class="p">]</span>
<span class="linenos"> 71</span>            <span class="p">)</span>
<span class="linenos"> 72</span>        <span class="p">)</span>
<span class="linenos"> 73</span>        <span class="bp">self</span><span class="o">.</span><span class="n">addParameter</span><span class="p">(</span>
<span class="linenos"> 74</span>            <span class="n">QgsProcessingParameterVectorDestination</span><span class="p">(</span>
<span class="linenos"> 75</span>                <span class="s1">&#39;BUFFER_OUTPUT&#39;</span><span class="p">,</span>
<span class="linenos"> 76</span>                <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s1">&#39;Buffer output&#39;</span><span class="p">),</span>
<span class="linenos"> 77</span>            <span class="p">)</span>
<span class="linenos"> 78</span>        <span class="p">)</span>
<span class="linenos"> 79</span>        <span class="c1"># &#39;OUTPUT&#39; is the recommended name for the main output</span>
<span class="linenos"> 80</span>        <span class="c1"># parameter.</span>
<span class="linenos"> 81</span>        <span class="bp">self</span><span class="o">.</span><span class="n">addParameter</span><span class="p">(</span>
<span class="linenos"> 82</span>            <span class="n">QgsProcessingParameterRasterDestination</span><span class="p">(</span>
<span class="linenos"> 83</span>                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">,</span>
<span class="linenos"> 84</span>                <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s1">&#39;Raster output&#39;</span><span class="p">)</span>
<span class="linenos"> 85</span>            <span class="p">)</span>
<span class="linenos"> 86</span>        <span class="p">)</span>
<span class="linenos"> 87</span>        <span class="bp">self</span><span class="o">.</span><span class="n">addParameter</span><span class="p">(</span>
<span class="linenos"> 88</span>            <span class="n">QgsProcessingParameterDistance</span><span class="p">(</span>
<span class="linenos"> 89</span>                <span class="s1">&#39;BUFFERDIST&#39;</span><span class="p">,</span>
<span class="linenos"> 90</span>                <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s1">&#39;BUFFERDIST&#39;</span><span class="p">),</span>
<span class="linenos"> 91</span>                <span class="n">defaultValue</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span>
<span class="linenos"> 92</span>                <span class="c1"># Make distance units match the INPUT layer units:</span>
<span class="linenos"> 93</span>                <span class="n">parentParameterName</span><span class="o">=</span><span class="s1">&#39;INPUT&#39;</span>
<span class="linenos"> 94</span>            <span class="p">)</span>
<span class="linenos"> 95</span>        <span class="p">)</span>
<span class="linenos"> 96</span>        <span class="bp">self</span><span class="o">.</span><span class="n">addParameter</span><span class="p">(</span>
<span class="linenos"> 97</span>            <span class="n">QgsProcessingParameterDistance</span><span class="p">(</span>
<span class="linenos"> 98</span>                <span class="s1">&#39;CELLSIZE&#39;</span><span class="p">,</span>
<span class="linenos"> 99</span>                <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s1">&#39;CELLSIZE&#39;</span><span class="p">),</span>
<span class="linenos">100</span>                <span class="n">defaultValue</span> <span class="o">=</span> <span class="mf">10.0</span><span class="p">,</span>
<span class="linenos">101</span>                <span class="n">parentParameterName</span><span class="o">=</span><span class="s1">&#39;INPUT&#39;</span>
<span class="linenos">102</span>            <span class="p">)</span>
<span class="linenos">103</span>        <span class="p">)</span>
<span class="linenos">104</span>        <span class="bp">self</span><span class="o">.</span><span class="n">addOutput</span><span class="p">(</span>
<span class="linenos">105</span>            <span class="n">QgsProcessingOutputNumber</span><span class="p">(</span>
<span class="linenos">106</span>                <span class="s1">&#39;NUMBEROFFEATURES&#39;</span><span class="p">,</span>
<span class="linenos">107</span>                <span class="bp">self</span><span class="o">.</span><span class="n">tr</span><span class="p">(</span><span class="s1">&#39;Number of features processed&#39;</span><span class="p">)</span>
<span class="linenos">108</span>            <span class="p">)</span>
<span class="linenos">109</span>        <span class="p">)</span>
<span class="linenos">110</span>
<span class="linenos">111</span>    <span class="k">def</span> <span class="nf">processAlgorithm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">feedback</span><span class="p">):</span>
<span class="linenos">112</span><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">113</span><span class="sd">        Here is where the processing itself takes place.</span>
<span class="linenos">114</span><span class="sd">        &quot;&quot;&quot;</span>
<span class="linenos">115</span>        <span class="c1"># First, we get the count of features from the INPUT layer.</span>
<span class="linenos">116</span>        <span class="c1"># This layer is defined as a QgsProcessingParameterFeatureSource</span>
<span class="linenos">117</span>        <span class="c1"># parameter, so it is retrieved by calling</span>
<span class="linenos">118</span>        <span class="c1"># self.parameterAsSource.</span>
<span class="linenos">119</span>        <span class="n">input_featuresource</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterAsSource</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span>
<span class="linenos">120</span>                                                     <span class="s1">&#39;INPUT&#39;</span><span class="p">,</span>
<span class="linenos">121</span>                                                     <span class="n">context</span><span class="p">)</span>
<span class="linenos">122</span>        <span class="n">numfeatures</span> <span class="o">=</span> <span class="n">input_featuresource</span><span class="o">.</span><span class="n">featureCount</span><span class="p">()</span>
<span class="linenos">123</span>
<span class="linenos">124</span>        <span class="c1"># Retrieve the buffer distance and raster cell size numeric</span>
<span class="linenos">125</span>        <span class="c1"># values. Since these are numeric values, they are retrieved</span>
<span class="linenos">126</span>        <span class="c1"># using self.parameterAsDouble.</span>
<span class="linenos">127</span>        <span class="n">bufferdist</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterAsDouble</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="s1">&#39;BUFFERDIST&#39;</span><span class="p">,</span>
<span class="linenos">128</span>                                            <span class="n">context</span><span class="p">)</span>
<span class="linenos">129</span>        <span class="n">rastercellsize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parameterAsDouble</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="s1">&#39;CELLSIZE&#39;</span><span class="p">,</span>
<span class="linenos">130</span>                                                <span class="n">context</span><span class="p">)</span>
<span class="linenos">131</span>        <span class="k">if</span> <span class="n">feedback</span><span class="o">.</span><span class="n">isCanceled</span><span class="p">():</span>
<span class="linenos">132</span>            <span class="k">return</span> <span class="p">{}</span>
<span class="linenos">133</span>        <span class="n">buffer_result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<span class="linenos">134</span>            <span class="s1">&#39;native:buffer&#39;</span><span class="p">,</span>
<span class="linenos">135</span>            <span class="p">{</span>
<span class="linenos">136</span>                <span class="c1"># Here we pass on the original parameter values of INPUT</span>
<span class="linenos">137</span>                <span class="c1"># and BUFFER_OUTPUT to the buffer algorithm.</span>
<span class="linenos">138</span>                <span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;INPUT&#39;</span><span class="p">],</span>
<span class="linenos">139</span>                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;BUFFER_OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">140</span>                <span class="s1">&#39;DISTANCE&#39;</span><span class="p">:</span> <span class="n">bufferdist</span><span class="p">,</span>
<span class="linenos">141</span>                <span class="s1">&#39;SEGMENTS&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="linenos">142</span>                <span class="s1">&#39;DISSOLVE&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">143</span>                <span class="s1">&#39;END_CAP_STYLE&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos">144</span>                <span class="s1">&#39;JOIN_STYLE&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos">145</span>                <span class="s1">&#39;MITER_LIMIT&#39;</span><span class="p">:</span> <span class="mi">10</span>
<span class="linenos">146</span>            <span class="p">},</span>
<span class="linenos">147</span>            <span class="c1"># Because the buffer algorithm is being run as a step in</span>
<span class="linenos">148</span>            <span class="c1"># another larger algorithm, the is_child_algorithm option</span>
<span class="linenos">149</span>            <span class="c1"># should be set to True</span>
<span class="linenos">150</span>            <span class="n">is_child_algorithm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">151</span>            <span class="c1">#</span>
<span class="linenos">152</span>            <span class="c1"># It&#39;s important to pass on the context and feedback objects to</span>
<span class="linenos">153</span>            <span class="c1"># child algorithms, so that they can properly give feedback to</span>
<span class="linenos">154</span>            <span class="c1"># users and handle cancelation requests.</span>
<span class="linenos">155</span>            <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
<span class="linenos">156</span>            <span class="n">feedback</span><span class="o">=</span><span class="n">feedback</span><span class="p">)</span>
<span class="linenos">157</span>
<span class="linenos">158</span>        <span class="c1"># Check for cancelation</span>
<span class="linenos">159</span>        <span class="k">if</span> <span class="n">feedback</span><span class="o">.</span><span class="n">isCanceled</span><span class="p">():</span>
<span class="linenos">160</span>            <span class="k">return</span> <span class="p">{}</span>
<span class="linenos">161</span>
<span class="linenos">162</span>        <span class="c1"># Run the separate rasterization algorithm using the buffer result</span>
<span class="linenos">163</span>        <span class="c1"># as an input.</span>
<span class="linenos">164</span>        <span class="n">rasterized_result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
<span class="linenos">165</span>            <span class="s1">&#39;qgis:rasterize&#39;</span><span class="p">,</span>
<span class="linenos">166</span>            <span class="p">{</span>
<span class="linenos">167</span>                <span class="c1"># Here we pass the &#39;OUTPUT&#39; value from the buffer&#39;s result</span>
<span class="linenos">168</span>                <span class="c1"># dictionary off to the rasterize child algorithm.</span>
<span class="linenos">169</span>                <span class="s1">&#39;LAYER&#39;</span><span class="p">:</span> <span class="n">buffer_result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">170</span>                <span class="s1">&#39;EXTENT&#39;</span><span class="p">:</span> <span class="n">buffer_result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">171</span>                <span class="s1">&#39;MAP_UNITS_PER_PIXEL&#39;</span><span class="p">:</span> <span class="n">rastercellsize</span><span class="p">,</span>
<span class="linenos">172</span>                <span class="c1"># Use the original parameter value.</span>
<span class="linenos">173</span>                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
<span class="linenos">174</span>            <span class="p">},</span>
<span class="linenos">175</span>            <span class="n">is_child_algorithm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">176</span>            <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
<span class="linenos">177</span>            <span class="n">feedback</span><span class="o">=</span><span class="n">feedback</span><span class="p">)</span>
<span class="linenos">178</span>
<span class="linenos">179</span>        <span class="k">if</span> <span class="n">feedback</span><span class="o">.</span><span class="n">isCanceled</span><span class="p">():</span>
<span class="linenos">180</span>            <span class="k">return</span> <span class="p">{}</span>
<span class="linenos">181</span>
<span class="linenos">182</span>        <span class="c1"># Return the results</span>
<span class="linenos">183</span>        <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="n">rasterized_result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">184</span>                <span class="s1">&#39;BUFFER_OUTPUT&#39;</span><span class="p">:</span> <span class="n">buffer_result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">185</span>                <span class="s1">&#39;NUMBEROFFEATURES&#39;</span><span class="p">:</span> <span class="n">numfeatures</span><span class="p">}</span>
</pre></div>
</div>
<p>プロセシングアルゴリズムの標準関数:</p>
<ul>
<li><dl class="simple">
<dt>createInstance (必須)</dt><dd><p>自作のアルゴリズムの新しいコピーを返さなければいけません。クラスの名前を変更する場合はここで返す値も必ず一致するように更新して下さい!</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>name (必須)</dt><dd><p>アルゴリズムの識別に使う、ユニークなアルゴリズムの名前を返します。</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>displayName (必須)</dt><dd><p>変換されたアルゴリズム名を返します.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>group</dt><dd><p>このアルゴリズムが所属しているグループ名を返します.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>groupId</dt><dd><p>このアルゴリズムが所属しているグループのユニークIDを返します.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>shortHelpString</dt><dd><p>このアルゴリズムの翻訳された短縮ヘルプ文字列を返します.</p>
</dd>
</dl>
</li>
<li><dl>
<dt>initAlgorithm (必須)</dt><dd><p>ここでアルゴリズムの入力と出力を定義します.</p>
<p><code class="docutils literal notranslate"><span class="pre">INPUT</span></code> と <code class="docutils literal notranslate"><span class="pre">OUTPUT</span></code> はそれぞれメインの入力と出力パラメータ用の推奨名称です.</p>
<p>もしパラメータが他のパラメータに依存する場合, <code class="docutils literal notranslate"><span class="pre">parentParameterName</span></code> がこの関係を示します (フィールド/レイヤのバンドまたはレイヤの距離単位は利用できません).</p>
</dd>
</dl>
</li>
<li><dl>
<dt>processAlgorithm (必須)</dt><dd><p>ここで処理が実行されます.</p>
<p>パラメータはインスタンスによって <code class="docutils literal notranslate"><span class="pre">parameterAsSource</span></code> や <code class="docutils literal notranslate"><span class="pre">parameterAsDouble</span></code> のような特別な用途の関数を使って取得されます.</p>
<p><code class="docutils literal notranslate"><span class="pre">processing.run</span></code> を使うとプロセシングアルゴリズムから他のアルゴリズムを実行できます。最初のパラメータはアルゴリズムの名前です。２つめのパラメータはそのアルゴリズム用のパラメータの辞書です。他のアルゴリズム内で実行される場合 <code class="docutils literal notranslate"><span class="pre">is_child_algorithm</span></code>  は通常 <code class="docutils literal notranslate"><span class="pre">True</span></code> に設定します。<code class="docutils literal notranslate"><span class="pre">context</span></code> と <code class="docutils literal notranslate"><span class="pre">feedback</span></code> は実行環境とユーザとのやりとりのチャンネルをアルゴリズムに伝えます（キャンセルリクエストのキャッチ、実行状況のレポート、テキストによるフィードバックの提供）。 (親) アルゴリズムのパラメータが &quot;子&quot; アルゴリズムのパラメータとして利用される場合、オリジナルの値を利用する必要があります(例. <code class="docutils literal notranslate"><span class="pre">parameters['OUTPUT']</span></code>)。</p>
<p>可能な限りキャンセルのためにフィードバックオブジェクトをチェックすることをお勧めします！そうすることで、不要な処理が発生するまでユーザーを待たせずに、すぐにキャンセルすることが可能になります。</p>
<p>アルゴリズムは、辞書として定義したすべての出力パラメータの値を返す必要があります。この場合、それはバッファとラスタライズされた出力レイヤ、および処理された地物数です。辞書キーは、元のパラメータ/出力名と一致する必要があります。</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="the-alg-decorator">
<span id="scripts-alg"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink"><span class="section-number">27.9.2. </span>&#64;alg デコレータ</a><a class="headerlink" href="#the-alg-decorator" title="Link to this heading"></a></h2>
<p>&#64;algデコレータを使用すると、独自のアルゴリズムを作ることができます。Pythonコードを書き、それを適切なプロセシングアルゴリズムにする追加情報を提供する数行を加えます。この手法はアルゴリズムの作成、および入力と出力の指定を簡単にします。</p>
<p>アルゴリズム作成にデコレータを使う手法には一つの重要な制約があります．それは作成されたアルゴリズムが常にユーザープロセシングスクリプトプロバイダに追加されることです -- アルゴリズムをカスタムプロバイダに追加して、例えばプラグイン内で使うことはできません．</p>
<p>以下のコードは &#64;alg デコレータを使って次の機能を実装してます</p>
<ol class="arabic simple">
<li><p>ベクタレイヤを入力として利用します</p></li>
<li><p>地物の数を数えます</p></li>
<li><p>バッファ操作を実行します</p></li>
<li><p>バッファ操作の結果を使ってラスタレイヤを作ります</p></li>
<li><p>バッファレイヤ,ラスタレイヤと地物の数を返します</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">qgis</span> <span class="kn">import</span> <span class="n">processing</span>
<span class="linenos"> 2</span><span class="kn">from</span> <span class="nn">qgis.processing</span> <span class="kn">import</span> <span class="n">alg</span>
<span class="linenos"> 3</span><span class="kn">from</span> <span class="nn">qgis.core</span> <span class="kn">import</span> <span class="n">QgsProject</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="nd">@alg</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bufferrasteralg&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Buffer and export to raster (alg)&#39;</span><span class="p">,</span>
<span class="linenos"> 6</span>     <span class="n">group</span><span class="o">=</span><span class="s1">&#39;examplescripts&#39;</span><span class="p">,</span> <span class="n">group_label</span><span class="o">=</span><span class="s1">&#39;Example scripts&#39;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="c1"># &#39;INPUT&#39; is the recommended name for the main input parameter</span>
<span class="linenos"> 8</span><span class="nd">@alg</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">alg</span><span class="o">.</span><span class="n">SOURCE</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;INPUT&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Input vector layer&#39;</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="c1"># &#39;OUTPUT&#39; is the recommended name for the main output parameter</span>
<span class="linenos">10</span><span class="nd">@alg</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">alg</span><span class="o">.</span><span class="n">RASTER_LAYER_DEST</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">,</span>
<span class="linenos">11</span>           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Raster output&#39;</span><span class="p">)</span>
<span class="linenos">12</span><span class="nd">@alg</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">alg</span><span class="o">.</span><span class="n">VECTOR_LAYER_DEST</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;BUFFER_OUTPUT&#39;</span><span class="p">,</span>
<span class="linenos">13</span>           <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Buffer output&#39;</span><span class="p">)</span>
<span class="linenos">14</span><span class="nd">@alg</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">alg</span><span class="o">.</span><span class="n">DISTANCE</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;BUFFERDIST&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;BUFFER DISTANCE&#39;</span><span class="p">,</span>
<span class="linenos">15</span>           <span class="n">default</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="linenos">16</span><span class="nd">@alg</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">alg</span><span class="o">.</span><span class="n">DISTANCE</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;CELLSIZE&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;RASTER CELL SIZE&#39;</span><span class="p">,</span>
<span class="linenos">17</span>           <span class="n">default</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span>
<span class="linenos">18</span><span class="nd">@alg</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">alg</span><span class="o">.</span><span class="n">NUMBER</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;NUMBEROFFEATURES&#39;</span><span class="p">,</span>
<span class="linenos">19</span>            <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Number of features processed&#39;</span><span class="p">)</span>
<span class="linenos">20</span>
<span class="linenos">21</span><span class="k">def</span> <span class="nf">bufferrasteralg</span><span class="p">(</span><span class="n">instance</span><span class="p">,</span> <span class="n">parameters</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="n">feedback</span><span class="p">,</span> <span class="n">inputs</span><span class="p">):</span>
<span class="linenos">22</span><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">23</span><span class="sd">    Description of the algorithm.</span>
<span class="linenos">24</span><span class="sd">    (If there is no comment here, you will get an error)</span>
<span class="linenos">25</span><span class="sd">    &quot;&quot;&quot;</span>
<span class="linenos">26</span>    <span class="n">input_featuresource</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">parameterAsSource</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span>
<span class="linenos">27</span>                                                     <span class="s1">&#39;INPUT&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
<span class="linenos">28</span>    <span class="n">numfeatures</span> <span class="o">=</span> <span class="n">input_featuresource</span><span class="o">.</span><span class="n">featureCount</span><span class="p">()</span>
<span class="linenos">29</span>    <span class="n">bufferdist</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">parameterAsDouble</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="s1">&#39;BUFFERDIST&#39;</span><span class="p">,</span>
<span class="linenos">30</span>                                            <span class="n">context</span><span class="p">)</span>
<span class="linenos">31</span>    <span class="n">rastercellsize</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">parameterAsDouble</span><span class="p">(</span><span class="n">parameters</span><span class="p">,</span> <span class="s1">&#39;CELLSIZE&#39;</span><span class="p">,</span>
<span class="linenos">32</span>                                                <span class="n">context</span><span class="p">)</span>
<span class="linenos">33</span>    <span class="k">if</span> <span class="n">feedback</span><span class="o">.</span><span class="n">isCanceled</span><span class="p">():</span>
<span class="linenos">34</span>        <span class="k">return</span> <span class="p">{}</span>
<span class="linenos">35</span>    <span class="n">buffer_result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;native:buffer&#39;</span><span class="p">,</span>
<span class="linenos">36</span>                               <span class="p">{</span><span class="s1">&#39;INPUT&#39;</span><span class="p">:</span> <span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;INPUT&#39;</span><span class="p">],</span>
<span class="linenos">37</span>                                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;BUFFER_OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">38</span>                                <span class="s1">&#39;DISTANCE&#39;</span><span class="p">:</span> <span class="n">bufferdist</span><span class="p">,</span>
<span class="linenos">39</span>                                <span class="s1">&#39;SEGMENTS&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
<span class="linenos">40</span>                                <span class="s1">&#39;DISSOLVE&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
<span class="linenos">41</span>                                <span class="s1">&#39;END_CAP_STYLE&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos">42</span>                                <span class="s1">&#39;JOIN_STYLE&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<span class="linenos">43</span>                                <span class="s1">&#39;MITER_LIMIT&#39;</span><span class="p">:</span> <span class="mi">10</span>
<span class="linenos">44</span>                                <span class="p">},</span>
<span class="linenos">45</span>                               <span class="n">is_child_algorithm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">46</span>                               <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
<span class="linenos">47</span>                               <span class="n">feedback</span><span class="o">=</span><span class="n">feedback</span><span class="p">)</span>
<span class="linenos">48</span>    <span class="k">if</span> <span class="n">feedback</span><span class="o">.</span><span class="n">isCanceled</span><span class="p">():</span>
<span class="linenos">49</span>        <span class="k">return</span> <span class="p">{}</span>
<span class="linenos">50</span>    <span class="n">rasterized_result</span> <span class="o">=</span> <span class="n">processing</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;qgis:rasterize&#39;</span><span class="p">,</span>
<span class="linenos">51</span>                               <span class="p">{</span><span class="s1">&#39;LAYER&#39;</span><span class="p">:</span> <span class="n">buffer_result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">52</span>                                <span class="s1">&#39;EXTENT&#39;</span><span class="p">:</span> <span class="n">buffer_result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">53</span>                                <span class="s1">&#39;MAP_UNITS_PER_PIXEL&#39;</span><span class="p">:</span> <span class="n">rastercellsize</span><span class="p">,</span>
<span class="linenos">54</span>                                <span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">]</span>
<span class="linenos">55</span>                               <span class="p">},</span>
<span class="linenos">56</span>                               <span class="n">is_child_algorithm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">context</span><span class="o">=</span><span class="n">context</span><span class="p">,</span>
<span class="linenos">57</span>                               <span class="n">feedback</span><span class="o">=</span><span class="n">feedback</span><span class="p">)</span>
<span class="linenos">58</span>    <span class="k">if</span> <span class="n">feedback</span><span class="o">.</span><span class="n">isCanceled</span><span class="p">():</span>
<span class="linenos">59</span>        <span class="k">return</span> <span class="p">{}</span>
<span class="linenos">60</span>    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">:</span> <span class="n">rasterized_result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">61</span>            <span class="s1">&#39;BUFFER_OUTPUT&#39;</span><span class="p">:</span> <span class="n">buffer_result</span><span class="p">[</span><span class="s1">&#39;OUTPUT&#39;</span><span class="p">],</span>
<span class="linenos">62</span>            <span class="s1">&#39;NUMBEROFFEATURES&#39;</span><span class="p">:</span> <span class="n">numfeatures</span><span class="p">}</span>
</pre></div>
</div>
<p>ご覧の通りこのコードには２つのアルゴリズム('native:buffer' と 'qgis:rasterize')が含まれています. 後の物 ('qgis:rasterize') は最初のもの ('native:buffer') が作成したバッファレイヤを利用してラスタレイヤを作成します.</p>
<p>この処理が行われるコードの部分は、前の章を読んでいれば理解するのは難しくありません。しかし、最初の行には補足説明が必要です。それらは、あなたのコードをツールボックスやモデルデザイナーなどのGUIコンポーネントから実行できるアルゴリズムにするために必要な情報を提供します。</p>
<p>これらの行は <code class="docutils literal notranslate"><span class="pre">&#64;alg</span></code> デコレータ関数を呼び出しています。その結果アルゴリズムを簡単にコーディングできます。</p>
<ul class="simple">
<li><p>&#64;alg デコレータはツールボックス内でのアルゴリズムの名前と場所を定義するのに利用されます。</p></li>
<li><p>&#64;alg.input デコレータはアルゴリズムの入力を定義するのに使われます。</p></li>
<li><p>&#64;alg.output デコレータはアルゴリズムの出力を定義するのに使われます。</p></li>
</ul>
<p>既存のパラメータとその対応については、<a class="reference internal" href="parameters.html#processing-algs-input-output"><span class="std std-ref">プロセシングアルゴリズムのための入力と出力の型</span></a> を参照のこと。</p>
</section>
<section id="handing-algorithm-output">
<h2><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">27.9.3. </span>アルゴリズムの出力を渡す</a><a class="headerlink" href="#handing-algorithm-output" title="Link to this heading"></a></h2>
<p>出力としてレイヤ（ラスタまたはベクタ）を指定すると、アルゴリズムは終了後にそれをQGISに追加しようとします。</p>
<ul class="simple">
<li><p>ラスタレイヤ出力: QgsProcessingParameterRasterDestination / alg.RASTER_LAYER_DEST.</p></li>
<li><p>ベクタレイヤ出力: QgsProcessingParameterVectorDestination / alg.VECTOR_LAYER_DEST.</p></li>
</ul>
<p>したがって <code class="docutils literal notranslate"><span class="pre">processing.run()</span></code> メソッドが作成したレイヤをユーザの現在のプロジェクトに加えない場合でも、２つの出力レイヤ (バッファとラスタバッファ)が読み込まれます．これらはユーザが入力した保存先  (またはユーザが保存先を指定しない場合は一時的な保存先)に保存されるからです.</p>
<p>レイヤがアルゴリズムの出力として作成される場合、そのように宣言する必要があります。そうしないと、宣言されたものがアルゴリズムが実際に作成するものと一致しないため、モデラーでアルゴリズムを適切に使用できません。</p>
<p>結果の辞書で文字列、数値などを指定することで返すことができます（「NUMBEROFFEATURES」で示したとおり）が、それらは常にアルゴリズムからの出力として明示的に定義する必要があります。アルゴリズムがモデルの一部として使用される場合、これらのアルゴリズムは後のアルゴリズムで使用するのに役立つ可能性があるため、アルゴリズムではできるだけ多くの有用な値を出力することをを推奨します。</p>
</section>
<section id="communicating-with-the-user">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">27.9.4. </span>ユーザーとコミュニケーションする</a><a class="headerlink" href="#communicating-with-the-user" title="Link to this heading"></a></h2>
<p>あなたのアルゴリズムが処理に長い時間を必要とする場合、ユーザに進捗状況を知らせるのは良い考えです.   <code class="docutils literal notranslate"><span class="pre">feedback</span></code> (<a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingFeedback.html#qgis.core.QgsProcessingFeedback" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsProcessingFeedback</span></code></a>) を利用するとそれを実現できます.</p>
<p>処理状況テキストとプログレスバーは２つのメソッドを使って更新できます: <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingFeedback.html#qgis.core.QgsProcessingFeedback.setProgressText" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setProgressText(text)</span></code></a> と <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsFeedback.html#qgis.core.QgsFeedback.setProgress" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setProgress(percent)</span></code></a> です.</p>
<p>次のメソッドを使うとさらに多くの情報を提供できます <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingFeedback.html#qgis.core.QgsProcessingFeedback.pushCommandInfo" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pushCommandInfo(text)</span></code></a>, <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingFeedback.html#qgis.core.QgsProcessingFeedback.pushDebugInfo" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pushDebugInfo(text)</span></code></a>, <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingFeedback.html#qgis.core.QgsProcessingFeedback.pushInfo" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">pushInfo(text)</span></code></a>  と  <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingFeedback.html#qgis.core.QgsProcessingFeedback.reportError" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reportError(text)</span></code></a>.</p>
<p>スクリプトに問題がある場合、それを処理する正しい方法は <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingException.html#qgis.core.QgsProcessingException" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsProcessingException</span></code></a> を発生させることです。メッセージを引数として例外のコンストラクタに渡すことができます。プロセシングでは、アルゴリズムの実行元（ツールボックス、モデラー、Pythonコンソールなど）に応じてプロセシングとユーザーとの通信を処理します。</p>
</section>
<section id="documenting-your-scripts">
<h2><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">27.9.5. </span>スクリプトのドキュメントを作成する</a><a class="headerlink" href="#documenting-your-scripts" title="Link to this heading"></a></h2>
<p>以下のものをオーバーロードするとあなたのスクリプトのドキュメントを作れます <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingAlgorithm.html#qgis.core.QgsProcessingAlgorithm.helpString" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">helpString()</span></code></a> と <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingAlgorithm.html#qgis.core.QgsProcessingAlgorithm.helpUrl" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">helpUrl()</span></code></a> methods of <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingAlgorithm.html#qgis.core.QgsProcessingAlgorithm" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsProcessingAlgorithm</span></code></a>.</p>
</section>
<section id="flags">
<h2><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">27.9.6. </span>フラグ</a><a class="headerlink" href="#flags" title="Link to this heading"></a></h2>
<p><a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingAlgorithm.html#qgis.core.QgsProcessingAlgorithm" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsProcessingAlgorithm</span></code></a> の <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingAlgorithm.html#qgis.core.QgsProcessingAlgorithm.flags" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flags()</span></code></a> メソッドをオーバーライドすると、QGISにアルゴリズムについてより詳しく伝えることができます。例えば、スクリプトをモデラーから隠すこと、キャンセルすること、スレッドセーフでないこと、などをQGISに伝えることができます。</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>デフォルトでは、処理タスクの実行中にQGISの応答性を維持するために、Processingはアルゴリズムを別のスレッドで実行します。アルゴリズムが定期的にクラッシュする場合は、おそらくバックグラウンドスレッドで安全に実行できないAPI呼び出しを使用している可能性があります。アルゴリズムのflags() メソッドからQgsProcessingAlgorithm.FlagNoThreadingフラグを返して、代わりにメインスレッドでアルゴリズムを実行するように強制します。</p>
</div>
</section>
<section id="best-practices-for-writing-script-algorithms">
<h2><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">27.9.7. </span>スクリプトアルゴリズムを書くためのベストプラクティス</a><a class="headerlink" href="#best-practices-for-writing-script-algorithms" title="Link to this heading"></a></h2>
<p>スクリプトアルゴリズムを作成する際、特に他のQGISユーザーと共有したい場合に考慮すべきアイデアの簡単な概要を以下に示します。これらの単純な規則に従うことで、ツールボックス、モデラー、バッチ処理インターフェースなどのさまざまな処理要素間で一貫性が確保されます。</p>
<ul class="simple">
<li><p>結果のレイヤは読み込まないでください。結果はプロセシングに処理させ、必要であればレイヤを読み込ませてください。</p></li>
<li><p>あなたのアルゴリズム作成する出力について常に宣言して下さい.</p></li>
<li><p>メッセージボックスを表示したり、スクリプトのGUI要素を使用したりしないでください。ユーザーと通信する場合は、フィードバックオブジェクトのメソッド（ <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingFeedback.html#qgis.core.QgsProcessingFeedback" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsProcessingFeedback</span></code></a> ）を使用するか、 <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsProcessingException.html#qgis.core.QgsProcessingException" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsProcessingException</span></code></a> をスローします。</p></li>
</ul>
<p>QGISにはすでに多くのプロセシングアルゴリズムが用意されています。コードは <a class="reference external" href="https://github.com/qgis/QGIS/blob/release-3_34/python/plugins/processing/algs/qgis">QGIS</a> のレポにあります。</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="standalone.html" class="btn btn-neutral float-left" title="27.8. プロセシングをコマンドラインから使用する" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="parameters.html" class="btn btn-neutral float-right" title="27.10. プロセシングアルゴリズムのための入力と出力の型" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">最終更新: 2024 5月 30, 01:33 +0900
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/processing/scripts.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/user_manual/processing/scripts.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/user_manual/processing/scripts.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/user_manual/processing/scripts.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/user_manual/processing/scripts.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/user_manual/processing/scripts.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/user_manual/processing/scripts.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/processing/scripts.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/user_manual/processing/scripts.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/user_manual/processing/scripts.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/user_manual/processing/scripts.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/user_manual/processing/scripts.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/user_manual/processing/scripts.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/user_manual/processing/scripts.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/user_manual/processing/scripts.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/user_manual/processing/scripts.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/ja/docs/user_manual/processing/scripts.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/ja/docs/user_manual/processing/scripts.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/processing/scripts.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/ja/docs/user_manual/processing/scripts.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/ja/docs/user_manual/processing/scripts.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/ja/docs/user_manual/processing/scripts.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/ja/docs/user_manual/processing/scripts.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/ja/docs/user_manual/processing/scripts.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/ja/docs/user_manual/processing/scripts.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/user_manual/processing/scripts.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#ja/a1bd17ca0903d1eea860e2a405d5d697" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/ja" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>