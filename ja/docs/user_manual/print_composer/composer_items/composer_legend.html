<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>22.2.5. 凡例アイテム &mdash; QGIS Documentation  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/user_manual/print_composer/composer_items/composer_legend.html"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="../../../../_static/translations.js?v=4dbe4bdc"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../../genindex.html" />
    <link rel="search" title="検索" href="../../../../search.html" />
    <link rel="next" title="22.2.6. スケールバーアイテム" href="composer_scale_bar.html" />
    <link rel="prev" title="22.2.4. ラベルアイテム" href="composer_label.html" />
  <meta name="description" content="QGIS 3.34 documentation: 22.2.5. 凡例アイテム">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ユーザ向け</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">QGIS Desktopユーザーガイド／マニュアル (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../preamble/preamble.html">1. はじめに</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/foreword.html">2. 序文</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/conventions.html">3. 記述ルール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/features.html">4. 機能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/getting_started.html">5. 最初のステップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/project_files.html">6. プロジェクトファイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/qgis_gui.html">7. QGISのユーザインタフェース</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/browser.html">8. ブラウザパネル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/qgis_configuration.html">9. QGISの設定</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_projections/working_with_projections.html">10. 投影法の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../map_views/index.html">11. 地図の可視化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/general_tools.html">12. 一般ツール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../expressions/index.html">13. 式でレベルアップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../style_library/index.html">14. スタイルライブラリ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../managing_data_source/index.html">15. データソースの管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_vector/index.html">16. ベクタデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_raster/index.html">17. ラスタデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_mesh/mesh.html">18. メッシュデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_vector_tiles/vector_tiles.html">19. ベクタタイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_point_clouds/point_clouds.html">20. 点群の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_3d_tiles/3d_tiles.html">21. 3Dタイルの操作</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">22. 地図のレイアウト</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../overview_composer.html">22.1. 印刷レイアウトの概要</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">22.2. レイアウトアイテム</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="composer_items_options.html">22.2.1. レイアウトアイテムの共通オプション</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_map.html">22.2.2. 地図アイテム</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_map3d.html">22.2.3. 3D地図アイテム</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_label.html">22.2.4. ラベルアイテム</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">22.2.5. 凡例アイテム</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_scale_bar.html">22.2.6. スケールバーアイテム</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_tables.html">22.2.7. テーブルアイテム</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_image.html">22.2.8. マーカー、画像、方位記号アイテム</a></li>
<li class="toctree-l4"><a class="reference internal" href="layout_elevation_profile.html">22.2.9. The Elevation Profile Item</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_html_frame.html">22.2.10. HTMLフレームアイテム</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_shapes.html">22.2.11. Shapeアイテム</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../create_output.html">22.3. 出力の作成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create_reports.html">22.4. レポートの作成</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_ogc/ogc_client_support.html">23. OGC / ISOプロトコルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_gps/index.html">24. GPSデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auth_system/index.html">25. 認証システム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grass_integration/grass_integration.html">26. GRASS GIS の統合</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../processing/index.html">27. QGIS プロセシングフレームワーク</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../processing_algs/index.html">28. プロセシングプロバイダとアルゴリズム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html">29. プラグイン</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/help_and_support.html">30. ヘルプとサポート</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/contributors.html">31. 協力者</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/index.html">32. 付録</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../literature_web/literature_and_web_references.html">33. 文献とWeb参照</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../server_manual/index.html">QGIS Serverガイド／マニュアル (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../training_manual/index.html">トレーニングマニュアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gentle_gis_introduction/index.html">やさしい GIS 入門</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ドキュメント執筆者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation_guidelines/index.html">ドキュメント作成のガイドライン</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">開発者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../pyqgis_developer_cookbook/index.html">PyQGISクックブック (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/index.html">開発者ガイド</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">QGISユーザガイド</a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">22. </span>地図のレイアウト</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">22.2. </span>レイアウトアイテム</a></li>
      <li class="breadcrumb-item active"><span class="section-number">22.2.5. </span>凡例アイテム</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/user_manual/print_composer/composer_items/composer_legend.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="composer_label.html" class="btn btn-neutral float-left" title="22.2.4. ラベルアイテム" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="composer_scale_bar.html" class="btn btn-neutral float-right" title="22.2.6. スケールバーアイテム" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div><div class="admonition important">
<p class="admonition-title">重要</p>
<p>翻訳は <a class="reference external" href="https://qgis.org/en/site/getinvolved/translate.html#becoming-a-translator">あなたが参加できる</a> コミュニティの取り組みです。このページは現在 100.00% 翻訳されています。</p>
</div>
</div></blockquote>
<section id="the-legend-item">
<span id="layout-legend-item"></span><span id="index-0"></span><h1><span class="section-number">22.2.5. </span>凡例アイテム<a class="headerlink" href="#the-legend-item" title="Link to this heading"></a></h1>
<nav class="contents local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#main-properties" id="id9">メインプロパティ</a></p></li>
<li><p><a class="reference internal" href="#legend-items" id="id10">凡例アイテム</a></p>
<ul>
<li><p><a class="reference internal" href="#data-define-the-legend-labels" id="id11">データ定義による凡例ラベル</a></p></li>
<li><p><a class="reference internal" href="#customizing-legend-items" id="id12">凡例をカスタマイズする</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fonts-and-text-formatting" id="id13">フォントとテキストフォーマット</a></p></li>
<li><p><a class="reference internal" href="#columns" id="id14">カラム</a></p></li>
<li><p><a class="reference internal" href="#symbol" id="id15">シンボル</a></p></li>
<li><p><a class="reference internal" href="#wms-legendgraphic" id="id16">WMS LegendGraphic</a></p></li>
<li><p><a class="reference internal" href="#spacing" id="id17">間隔</a></p></li>
</ul>
</nav>
<p><span class="guilabel">凡例</span> アイテムは、地図上で使用されているシンボルの意味を説明するボックス、あるいはテーブルです。このため、凡例は地図アイテムに関連付けられます。凡例アイテムは <a class="reference internal" href="composer_items_options.html#create-layout-item"><span class="std std-ref">アイテムの作成手順</span></a> に従って <a class="reference internal" href="../../../../_images/mActionAddLegend.png"><img alt="addLegend" src="../../../../_images/mActionAddLegend.png" style="width: 1.5em;" /></a> <span class="guilabel">凡例を追加</span> ツールを使用して追加でき、 <a class="reference internal" href="composer_items_options.html#interact-layout-item"><span class="std std-ref">レイアウトアイテムの操作</span></a> と同じ方法で操作できます。</p>
<p>デフォルトでは、凡例アイテムは全ての利用可能なレイヤを表示しますが、これは <span class="guilabel">アイテムプロパティ</span> パネルを使用して改良できます。 <a class="reference internal" href="composer_items_options.html#item-common-properties"><span class="std std-ref">アイテムの共通プロパティ</span></a> の他に、凡例アイテムには以下の機能があります（ <a class="reference internal" href="#figure-layout-legend"><span class="std std-numref">図 22.26</span></a> 参照）。</p>
<figure class="align-center" id="id2">
<span id="figure-layout-legend"></span><img alt="../../../../_images/legend_properties.png" src="../../../../_images/legend_properties.png" />
<figcaption>
<p><span class="caption-number">図 22.26 </span><span class="caption-text">凡例アイテムプロパティパネル</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="main-properties">
<h2><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">22.2.5.1. </span>メインプロパティ</a><a class="headerlink" href="#main-properties" title="Link to this heading"></a></h2>
<p>凡例の <span class="guilabel">アイテムプロパティ</span> パネルの <span class="guilabel">メインプロパティ</span> グループには、下記の機能があります（ <a class="reference internal" href="#figure-layout-legend-ppt"><span class="std std-numref">図 22.27</span></a> 参照）：</p>
<figure class="align-center" id="id3">
<span id="figure-layout-legend-ppt"></span><img alt="../../../../_images/legend_mainproperties.png" src="../../../../_images/legend_mainproperties.png" />
<figcaption>
<p><span class="caption-number">図 22.27 </span><span class="caption-text">凡例メインプロパティグループ</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>メインプロパティでは、以下の設定ができます。</p>
<ul>
<li><p>凡例の <span class="guilabel">タイトル</span> の変更。 <a class="reference internal" href="../../introduction/general_tools.html#data-defined"><span class="std std-ref">データによって定義された上書き</span></a> の設定を使用すれば、タイトルを動的に変更することもでき、例えば地図帳の作成時に便利です。</p></li>
<li><p>現在の凡例がどの <span class="guilabel">地図</span> アイテムを参照しているかの選択。デフォルトでは、描画した凡例アイテムの下にある地図が選ばれます。もし下に地図アイテムが無ければ、 <a class="reference internal" href="../overview_composer.html#reference-map"><span class="std std-ref">参照マップ</span></a> にフォールバックします。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>リンクしている地図アイテムの <a class="reference internal" href="../../expressions/functions_list.html#expression-variables"><span class="std std-ref">変数</span></a> （&#64;map_id, &#64;map_scale, &#64;map_extent...）は、凡例のデータ定義のプロパティからもアクセス可能です。</p>
</div>
</li>
<li><p>指定した文字による凡例テキストの折り返し。凡例テキストにその文字が現れるたびに、改行文字で置き換えられます。</p></li>
<li><p>凡例内でのシンボルとテキストの配置の設定。 <span class="guilabel">配置</span> は、 <span class="guilabel">左側のシンボル</span> または <span class="guilabel">右側のシンボル</span> とすることができます。デフォルト値は使用しているロケール（右から左へと書く言語か、そうでないか）によります。</p></li>
<li><p><a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">大きさを内容に合わせる</span> を使用すると、コンテンツに合わせて凡例を自動的にサイズ変更するかどうかを制御できます。チェックしない場合には凡例のサイズ変更は行われず、ユーザーが設定した大きさに固定されます。サイズが合わないコンテンツはすべて切り取られます。</p></li>
</ul>
</section>
<section id="legend-items">
<h2><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">22.2.5.2. </span>凡例アイテム</a><a class="headerlink" href="#legend-items" title="Link to this heading"></a></h2>
<p>凡例の <span class="guilabel">アイテムプロパティ</span> パネルの <span class="guilabel">凡例アイテム</span> グループには、下記の機能があります（ <a class="reference internal" href="#figure-layout-legend-items"><span class="std std-numref">図 22.28</span></a> 参照）：</p>
<figure class="align-center" id="id4">
<span id="figure-layout-legend-items"></span><img alt="../../../../_images/legend_items.png" src="../../../../_images/legend_items.png" />
<figcaption>
<p><span class="caption-number">図 22.28 </span><span class="caption-text">凡例アイテムグループ</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul>
<li><p><a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">自動更新</span> にチェックが入っていると、凡例は自動的に更新されます。When <span class="guilabel">自動更新</span> がチェックされていない時には、凡例アイテムをより細かくコントロールすることができます。凡例アイテムのリスト下にある全てのアイコンが有効です。</p></li>
<li><p>凡例アイテムウィンドウにはすべての凡例アイテムが一覧表示されており、アイテムの順番の変更やレイヤのグループ化、リスト内のアイテムの削除と復元、レイヤ名とシンボロジの編集、フィルタの追加などができます。</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../../_images/mActionArrowUp.png"><img alt="arrowUp" src="../../../../_images/mActionArrowUp.png" style="width: 1.5em;" /></a> や <a class="reference internal" href="../../../../_images/mActionArrowDown.png"><img alt="arrowDown" src="../../../../_images/mActionArrowDown.png" style="width: 1.5em;" /></a> ボタンを使用するか、ドラッグ＆ドロップでアイテムの順序を変更できます。 WMS凡例グラフィックは順序を変更できません。</p></li>
<li><p><a class="reference internal" href="../../../../_images/mActionAddGroup.png"><img alt="addGroup" src="../../../../_images/mActionAddGroup.png" style="width: 1.5em;" /></a> ボタンを使用して凡例のグループを追加します。</p></li>
<li><p><a class="reference internal" href="../../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> ボタンを使用してレイヤを追加し、 <a class="reference internal" href="../../../../_images/symbologyRemove.png"><img alt="symbologyRemove" src="../../../../_images/symbologyRemove.png" style="width: 1.5em;" /></a> ボタンを使用してグループ、レイヤまたはシンボルクラスを削除します。</p></li>
<li><p><a class="reference internal" href="../../../../_images/symbologyEdit.png"><img alt="symbologyEdit" src="../../../../_images/symbologyEdit.png" style="width: 1.5em;" /></a> ボタンを使用して、レイヤ名やグループ名、タイトルを編集できます。最初に凡例アイテムを選択する必要があります。アイテムをダブルクリックしても、テキストボックスが開き、名前の変更ができます。</p></li>
<li><p><a class="reference internal" href="../../../../_images/mIconExpression.png"><img alt="expression" src="../../../../_images/mIconExpression.png" style="width: 1.5em;" /></a> ボタンは、選択したレイヤの各シンボルラベルをカスタマイズするために式を使用します（ <a class="reference internal" href="#legend-items-data-defined"><span class="std std-ref">データ定義による凡例ラベル</span></a> 参照）</p></li>
<li><p><a class="reference internal" href="../../../../_images/mActionSum.png"><img alt="sum" src="../../../../_images/mActionSum.png" style="width: 1.2em;" /></a> ボタンは、ベクタレイヤの各クラスの地物数を凡例に追加します。</p></li>
<li><p><a class="reference internal" href="../../../../_images/mIconExpressionFilter.png"><img alt="expressionFilter" src="../../../../_images/mIconExpressionFilter.png" style="width: 1.5em;" /></a> <sup>式による凡例フィルタ</sup> は、レイヤのどの凡例アイテムを表示するかをフィルタリングするのに役立ちます。例えば、異なる凡例アイテムを持つレイヤ（ルールに基づいた、あるいはカテゴリ値によるシンボロジなど）を使って、条件式を満たす地物が無い場合にはそのスタイルを凡例ツリーから除外するためのブール式を指定することができます。ただし、そのような地物はレイアウトの地図アイテムでは残っており、表示されることに注意してください。</p></li>
</ul>
<p>凡例アイテムのデフォルトの動作は、 <span class="guilabel">レイヤ</span> パネルツリーを模倣し、同じグループ、レイヤ、シンボロジのクラスを表示しますが、アイテムを右クリックするとレイヤ名を隠したり、グループやサブグループとして表示するオプションがあります。レイヤに何らかの変更を加えた場合は、凡例エントリのコンテキストメニューから <span class="guilabel">デフォルトにリセット</span> を選択することで、変更を元に戻すことができます。</p>
<p>QGISのメインウィンドウでシンボロジを変更したあと、 <span class="guilabel">全て更新</span> ボタンをクリックすると、印刷レイアウトの凡例要素に変更が反映されます。</p>
</li>
<li><p><a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">地図の中にあるアイテムのみ表示</span> にチェックを入れると、リンクした地図に表示されている凡例アイテムのみが凡例にリストされます。複数のマップがある場合、 <span class="guilabel">...</span> をクリックしてレイアウトから他のマップを選択することができます。このツールは <a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">自動更新</span> が有効なときに利用できます。</p></li>
<li><p>ポリゴン地物を使用して地図帳を作成する際に、現在の地図帳地物の外にある地物の凡例アイテムをフィルタして除外できます。これを行うには、 <a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">現在の地図帳地物の内部のアイテムのみを表示する</span> オプションにチェックを入れてください。</p></li>
</ul>
<section id="data-define-the-legend-labels">
<span id="legend-items-data-defined"></span><h3><a class="toc-backref" href="#id11" role="doc-backlink">データ定義による凡例ラベル</a><a class="headerlink" href="#data-define-the-legend-labels" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="../../../../_images/mIconExpression.png"><img alt="expression" src="../../../../_images/mIconExpression.png" style="width: 1.5em;" /></a> により、与えられたレイヤの各シンボルラベルに <a class="reference internal" href="../../expressions/expression.html#vector-expressions"><span class="std std-ref">式</span></a> を追加できます。新しい変数（ <code class="docutils literal notranslate"><span class="pre">&#64;symbol_label</span></code> 、 <code class="docutils literal notranslate"><span class="pre">&#64;symbol_id</span></code> と <code class="docutils literal notranslate"><span class="pre">&#64;symbol_count</span></code> ）は、凡例エントリを操作する上で役立ちます。</p>
<p>例えば、 <code class="docutils literal notranslate"><span class="pre">regions</span></code> レイヤがあり、 <code class="docutils literal notranslate"><span class="pre">type</span></code> フィールドで分類されているとしましょう。この凡例の各クラスに、 <code class="docutils literal notranslate"><span class="pre">Borough</span> <span class="pre">(3)</span> <span class="pre">-</span> <span class="pre">850ha</span></code> のように地物の数と面積を追加できます：</p>
<ol class="arabic">
<li><p>凡例ツリー内で設定したいレイヤのエントリを選択します。</p></li>
<li><p><a class="reference internal" href="../../../../_images/mIconExpression.png"><img alt="expression" src="../../../../_images/mIconExpression.png" style="width: 1.5em;" /></a> ボタンを押し、 <span class="guilabel">式文字列ビルダ</span> ダイアログを開きます。</p></li>
<li><p>以下の式を入力します（ <em>シンボルラベルは編集されていないことを仮定しています</em> ）:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>format( &#39;%1 (%2) - %3ha&#39;,
        @symbol_label,
        @symbol_count,
        round( aggregate(@layer, &#39;sum&#39;, $area, filter:= &quot;type&quot;=@symbol_label)/10000 )
      )
</pre></div>
</div>
</li>
<li><p><span class="guilabel">OK</span> を押します</p></li>
</ol>
</section>
<section id="customizing-legend-items">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">凡例をカスタマイズする</a><a class="headerlink" href="#customizing-legend-items" title="Link to this heading"></a></h3>
<figure class="align-center" id="figure-layout-legend-item-properties">
<img alt="../../../../_images/legend_item_properties.png" src="../../../../_images/legend_item_properties.png" />
</figure>
<p>凡例アイテムは <span class="guilabel">凡例アイテムプロパティ</span> で個別にカスタマイズすることもできます。しかし、これらのカスタマイズは <a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">自動更新</span> が無効になっている場合のみ可能です。</p>
<p>アイテムをダブルクリックするか、<a class="reference internal" href="../../../../_images/symbologyEdit.png"><img alt="symbologyEdit" src="../../../../_images/symbologyEdit.png" style="width: 1.5em;" /></a> <sup>アイテムのプロパティを編集</sup> を押すと、さらにカスタマイズすることができます。</p>
<p><span class="guilabel">ラベル</span></p>
<p>すべてのアイテムタイプについて、<a class="reference internal" href="../../../../_images/mIconExpression.png"><img alt="expression" src="../../../../_images/mIconExpression.png" style="width: 1.5em;" /></a> <span class="guilabel">式の挿入・編集</span> を使って式を入力または挿入することでラベルのテキストを変更することができます。式は[%式 %]記法を使ってアイテムのラベルの任意の場所に直接追加することもできます。</p>
<p><span class="guilabel">カラム</span></p>
<p>凡例プロパティは、列分割を特定のアイテムの後またはレイヤのすべてのシンボルに強制的に発生させることによって、列分割の動作を制御することもできます。このウィジェットではレイヤを基にレイヤとその子の自動分割を許可またはブロックすることもできます。</p>
<p><span class="guilabel">パッチ</span></p>
<p>シンボルを持つアイテムの場合、凡例アイテムプロパティでシンボルが占有できる最大の高さと幅を指定できます。</p>
<p>ベクタシンボルの場合、シンボルにカスタムシェイプを指定することができます。シェイプは通常、単純な平面でジオメトリを表現する式で定義されますが、これらのシンボルはスタイルマネージャに保存して後でインポートすることもできます。各ジオメトリタイプのデフォルトシンボルもスタイルマネージャで制御できます。</p>
<p><span class="guilabel">カスタムシンボル</span></p>
<p>カスタムシンボルはベクタシンボルにも指定できます。これは特定のシンボルのレンダリングを微調整したり、凡例でそのシンボルを強調したり、真のシンボルのプレビューから独立したシンボルを持つのに便利です。このカスタムシンボルは凡例シンボルを上書きしますが、指定されたシンボル <span class="guilabel">パッチ</span> を考慮します。</p>
</section>
</section>
<section id="fonts-and-text-formatting">
<h2><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">22.2.5.3. </span>フォントとテキストフォーマット</a><a class="headerlink" href="#fonts-and-text-formatting" title="Link to this heading"></a></h2>
<p>凡例の <span class="guilabel">アイテムプロパティ</span> パネルの <span class="guilabel">フォントとテキストフォーマット</span> グループは、下記の機能があります:</p>
<figure class="align-center" id="id5">
<span id="figure-layout-legend-fonts"></span><img alt="../../../../_images/legend_fonts.png" src="../../../../_images/legend_fonts.png" />
<figcaption>
<p><span class="caption-number">図 22.29 </span><span class="caption-text">凡例フォントプロパティ</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>凡例アイテムの凡例タイトル、グループ、サブグループ、アイテム（地物）のフォントは、<a class="reference internal" href="../../style_library/label_settings.html#text-format"><span class="std std-ref">text formatting</span></a> の全ての機能（フォントの間隔制御、混合HTMLフォーマット、カラーリング、混合、背景、テキストバッファ、シャドウ、...）を提供する <a class="reference internal" href="../../introduction/general_tools.html#font-selector"><span class="std std-ref">font selector</span></a> ウィジェットを使って変更することができます。</p></li>
<li><p>これらの各レベルで、テキストの <span class="guilabel">整列</span> の設定ができます。設定値には、 <span class="guilabel">左</span> （左から右に文字を書くロケールでのデフォルト）、 <span class="guilabel">中央</span> 、または <span class="guilabel">右</span> （右から左に文字を書くロケールでのデフォルト）があります。</p></li>
</ul>
</section>
<section id="columns">
<h2><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">22.2.5.4. </span>カラム</a><a class="headerlink" href="#columns" title="Link to this heading"></a></h2>
<p>凡例の <span class="guilabel">アイテムプロパティ</span> パネルの <span class="guilabel">カラム</span> グループでは、凡例アイテムを複数の列にわたって並べる設定ができます：</p>
<ul class="simple">
<li><p><span class="guilabel">カウント（Count）</span> <a class="reference internal" href="../../../../_images/selectnumber.png"><img alt="selectNumber" src="../../../../_images/selectnumber.png" style="width: 2.8em;" /></a> フィールドに列の数を設定します。この値は、例えば地図帳地物や凡例のコンテンツ、フレームのサイズ等に応じて動的に変更させることもできます。</p></li>
<li><p><a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">等幅</span> は、凡例の列幅がどのように調整されるかを設定します。</p></li>
<li><p><a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">レイヤを分割</span> オプションは、カテゴリ値や連続値によるレイヤの凡例を列にまたがって分割することができます。</p></li>
</ul>
<figure class="align-center" id="id6">
<span id="figure-layout-legend-columns"></span><img alt="../../../../_images/legend_columns.png" src="../../../../_images/legend_columns.png" />
<figcaption>
<p><span class="caption-number">図 22.30 </span><span class="caption-text">凡例のカラムの設定</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="symbol">
<h2><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">22.2.5.5. </span>シンボル</a><a class="headerlink" href="#symbol" title="Link to this heading"></a></h2>
<p>凡例の <span class="guilabel">アイテムプロパティ</span> パネルの <span class="guilabel">シンボル</span> グループでは、凡例ラベルの横に表示されるシンボルのサイズを設定します。以下の設定ができます：</p>
<ul class="simple">
<li><p><span class="guilabel">シンボル幅</span> と <span class="guilabel">シンボル高さ</span> の設定</p></li>
<li><p>マーカーの <span class="guilabel">最小シンボルサイズ</span> と <span class="guilabel">最大シンボルサイズ</span> を設定します: <code class="docutils literal notranslate"><span class="pre">0.00mm</span></code> は値が設定されていないことを意味します。</p></li>
<li><p><a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">ラスタシンボルのストローク（輪郭）を描画</span> ：これは、シンボルにラスタレイヤのバンドカラーを表す輪郭線を追加します。 <span class="guilabel">ストローク色</span> と <span class="guilabel">太さ</span> を設定できます。</p></li>
</ul>
<figure class="align-center" id="id7">
<span id="figure-layout-legend-symbol"></span><img alt="../../../../_images/legend_symbol.png" src="../../../../_images/legend_symbol.png" />
<figcaption>
<p><span class="caption-number">図 22.31 </span><span class="caption-text">凡例のシンボル設定</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="wms-legendgraphic">
<h2><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">22.2.5.6. </span>WMS LegendGraphic</a><a class="headerlink" href="#wms-legendgraphic" title="Link to this heading"></a></h2>
<p>凡例の <span class="guilabel">アイテムプロパティ</span> パネルの <span class="guilabel">WMS LegendGraphic</span> セクションは以下の機能を提供します（ <a class="reference internal" href="#figure-layout-legend-wms"><span class="std std-numref">図 22.32</span></a> を参照）：</p>
<figure class="align-center" id="id8">
<span id="figure-layout-legend-wms"></span><img alt="../../../../_images/legend_wms.png" src="../../../../_images/legend_wms.png" />
<figcaption>
<p><span class="caption-number">図 22.32 </span><span class="caption-text">WMS LegendGraphic</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>WMSレイヤを追加して凡例アイテムを挿入すると、WMSの凡例を提供するようWMSサーバーにリクエストが送信されます。この凡例は、WMSサーバーがGetLegendGraphicケーパビリティを提供している場合にのみ表示されます。WMS凡例のコンテンツはラスタ画像として提供されます。</p>
<p><span class="guilabel">WMSLegendGraphic</span> は、WMS凡例のラスタ画像の <span class="guilabel">凡例の幅</span> と <span class="guilabel">凡例の高さ</span> を調整するために使用します。</p>
</section>
<section id="spacing">
<h2><a class="toc-backref" href="#id17" role="doc-backlink"><span class="section-number">22.2.5.7. </span>間隔</a><a class="headerlink" href="#spacing" title="Link to this heading"></a></h2>
<figure class="align-center" id="figure-layout-legend-spacing">
<img alt="../../../../_images/legend_spacing.png" src="../../../../_images/legend_spacing.png" />
</figure>
<p><span class="guilabel">間隔</span> セクションでは凡例内の間隔をカスタマイズすることができます。間隔は凡例内のアイテムのグループ化とそれらの関係を示すのに大いに役立ちます。</p>
<p>タイトル、グループ、サブグループ、シンボル、ラベル、ボックス、カラム、行の前後の <span class="guilabel">間隔</span> はこのダイアログでカスタマイズできます。</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="composer_label.html" class="btn btn-neutral float-left" title="22.2.4. ラベルアイテム" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="composer_scale_bar.html" class="btn btn-neutral float-right" title="22.2.6. スケールバーアイテム" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">最終更新: 2024 5月 30, 01:33 +0900
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/print_composer/composer_items/composer_legend.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/user_manual/print_composer/composer_items/composer_legend.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/user_manual/print_composer/composer_items/composer_legend.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/user_manual/print_composer/composer_items/composer_legend.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/user_manual/print_composer/composer_items/composer_legend.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/user_manual/print_composer/composer_items/composer_legend.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/user_manual/print_composer/composer_items/composer_legend.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/user_manual/print_composer/composer_items/composer_legend.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/user_manual/print_composer/composer_items/composer_legend.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/user_manual/print_composer/composer_items/composer_legend.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/user_manual/print_composer/composer_items/composer_legend.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/user_manual/print_composer/composer_items/composer_legend.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/user_manual/print_composer/composer_items/composer_legend.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/user_manual/print_composer/composer_items/composer_legend.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/user_manual/print_composer/composer_items/composer_legend.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/user_manual/print_composer/composer_items/composer_legend.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#ja/6946ca4f2479700b8264c05e83375251" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/ja" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>