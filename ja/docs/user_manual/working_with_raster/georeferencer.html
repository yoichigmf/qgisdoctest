<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>17.3. ジオリファレンサ &mdash; QGIS Documentation  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/user_manual/working_with_raster/georeferencer.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="../../../_static/translations.js?v=4dbe4bdc"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="検索" href="../../../search.html" />
    <link rel="next" title="18. メッシュデータの操作" href="../working_with_mesh/mesh.html" />
    <link rel="prev" title="17.2. ラスタ解析" href="raster_analysis.html" />
  <meta name="description" content="QGIS 3.34 documentation: 17.3. ジオリファレンサ">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ユーザ向け</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">QGIS Desktopユーザーガイド／マニュアル (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../preamble/preamble.html">1. はじめに</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/foreword.html">2. 序文</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/conventions.html">3. 記述ルール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/features.html">4. 機能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/getting_started.html">5. 最初のステップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/project_files.html">6. プロジェクトファイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_gui.html">7. QGISのユーザインタフェース</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/browser.html">8. ブラウザパネル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_configuration.html">9. QGISの設定</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_projections/working_with_projections.html">10. 投影法の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../map_views/index.html">11. 地図の可視化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/general_tools.html">12. 一般ツール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../expressions/index.html">13. 式でレベルアップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../style_library/index.html">14. スタイルライブラリ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../managing_data_source/index.html">15. データソースの管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector/index.html">16. ベクタデータの操作</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">17. ラスタデータの操作</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="raster_properties.html">17.1. ラスタプロパティダイアログ</a></li>
<li class="toctree-l3"><a class="reference internal" href="raster_analysis.html">17.2. ラスタ解析</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">17.3. ジオリファレンサ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#usual-procedure">17.3.1. 通常の手順</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_mesh/mesh.html">18. メッシュデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector_tiles/vector_tiles.html">19. ベクタタイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_point_clouds/point_clouds.html">20. 点群の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_3d_tiles/3d_tiles.html">21. 3Dタイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../print_composer/index.html">22. 地図のレイアウト</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_ogc/ogc_client_support.html">23. OGC / ISOプロトコルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_gps/index.html">24. GPSデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth_system/index.html">25. 認証システム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grass_integration/grass_integration.html">26. GRASS GIS の統合</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing/index.html">27. QGIS プロセシングフレームワーク</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_algs/index.html">28. プロセシングプロバイダとアルゴリズム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html">29. プラグイン</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/help_and_support.html">30. ヘルプとサポート</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/contributors.html">31. 協力者</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/index.html">32. 付録</a></li>
<li class="toctree-l2"><a class="reference internal" href="../literature_web/literature_and_web_references.html">33. 文献とWeb参照</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../server_manual/index.html">QGIS Serverガイド／マニュアル (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training_manual/index.html">トレーニングマニュアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gentle_gis_introduction/index.html">やさしい GIS 入門</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ドキュメント執筆者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_guidelines/index.html">ドキュメント作成のガイドライン</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">開発者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyqgis_developer_cookbook/index.html">PyQGISクックブック (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/index.html">開発者ガイド</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">QGISユーザガイド</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">17. </span>ラスタデータの操作</a></li>
      <li class="breadcrumb-item active"><span class="section-number">17.3. </span>ジオリファレンサ</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/user_manual/working_with_raster/georeferencer.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="raster_analysis.html" class="btn btn-neutral float-left" title="17.2. ラスタ解析" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../working_with_mesh/mesh.html" class="btn btn-neutral float-right" title="18. メッシュデータの操作" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div><div class="admonition important">
<p class="admonition-title">重要</p>
<p>翻訳は <a class="reference external" href="https://qgis.org/en/site/getinvolved/translate.html#becoming-a-translator">あなたが参加できる</a> コミュニティの取り組みです。このページは現在 96.97% 翻訳されています。</p>
</div>
</div></blockquote>
<section id="georeferencer">
<span id="georef"></span><span id="index-0"></span><h1><span class="section-number">17.3. </span>ジオリファレンサ<a class="headerlink" href="#georeferencer" title="Link to this heading"></a></h1>
<nav class="contents local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#usual-procedure" id="id5">通常の手順</a></p>
<ul>
<li><p><a class="reference internal" href="#entering-ground-control-points-gcps" id="id6">グラウンドコントロールポイント（GCP）の入力</a></p></li>
<li><p><a class="reference internal" href="#defining-the-transformation-settings" id="id7">変換の設定の定義</a></p>
<ul>
<li><p><a class="reference internal" href="#available-transformation-algorithms" id="id8">利用可能な変換アルゴリズム</a></p></li>
<li><p><a class="reference internal" href="#define-the-resampling-method" id="id9">リサンプリング方法の定義</a></p></li>
<li><p><a class="reference internal" href="#define-the-transformation-settings" id="id10">変換の設定の定義</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#show-and-adapt-raster-properties" id="id11">ラスタプロパティの表示と調整</a></p></li>
<li><p><a class="reference internal" href="#configure-the-georeferencer" id="id12">ジオリファレンサの構成</a></p></li>
<li><p><a class="reference internal" href="#running-the-transformation" id="id13">変換の実行</a></p></li>
</ul>
</li>
</ul>
</nav>
<p><a class="reference internal" href="../../../_images/mGeorefRun.png"><img alt="georefRun" src="../../../_images/mGeorefRun.png" style="width: 1.5em;" /></a> ジオリファレンサは、レイヤのワールドファイルを生成するためのツールです。新しい GeoTiff を作成したり、既存の画像にワールドファイルを追加することで、ラスタやベクタを地理的または投影座標系に参照付けることができます。レイヤをジオリファレンスする基本的な方法は、レイヤ上で正確に座標を決定できる点を見つけることです。</p>
<p><strong>機能</strong></p>
<span id="index-1"></span><table class="docutils align-default" id="table-georeferencer-tools">
<thead>
<tr class="row-odd"><th class="head"><p>アイコン</p></th>
<th class="head"><p>目的</p></th>
<th class="head"><p>アイコン</p></th>
<th class="head"><p>目的</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="../../../_images/mActionAddRasterLayer.png"><img alt="addRasterLayer" src="../../../_images/mActionAddRasterLayer.png" style="width: 1.5em;" /></a></p></td>
<td><p>ラスタを開く</p></td>
<td><p><a class="reference internal" href="../../../_images/mActionAddOgrLayer.png"><img alt="addOgrLayer" src="../../../_images/mActionAddOgrLayer.png" style="width: 1.5em;" /></a></p></td>
<td><p>ベクタを開く</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../_images/mActionStart.png"><img alt="start" src="../../../_images/mActionStart.png" style="width: 1.5em;" /></a></p></td>
<td><p>ジオリファレンスを開始</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../_images/mActionGDALScript.png"><img alt="gdalScript" src="../../../_images/mActionGDALScript.png" style="width: 1.5em;" /></a></p></td>
<td><p>GDALスクリプトを生成</p></td>
<td><p><a class="reference internal" href="../../../_images/mActionLoadGCPpoints.png"><img alt="loadGCPpoints" src="../../../_images/mActionLoadGCPpoints.png" style="width: 1.5em;" /></a></p></td>
<td><p>GCPを読み込み</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../_images/mActionSaveGCPpointsAs.png"><img alt="saveGCPPointsAs" src="../../../_images/mActionSaveGCPpointsAs.png" style="width: 1.5em;" /></a></p></td>
<td><p>名前を付けて保存</p></td>
<td><p><a class="reference internal" href="../../../_images/mActionTransformSettings.png"><img alt="transformSettings" src="../../../_images/mActionTransformSettings.png" style="width: 1.5em;" /></a></p></td>
<td><p>変換を設定</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../_images/mActionAddGCPPoint.png"><img alt="addGCPPoint" src="../../../_images/mActionAddGCPPoint.png" style="width: 1.5em;" /></a></p></td>
<td><p>点を追加</p></td>
<td><p><a class="reference internal" href="../../../_images/mActionDeleteGCPPoint.png"><img alt="deleteGCPPoint" src="../../../_images/mActionDeleteGCPPoint.png" style="width: 1.5em;" /></a></p></td>
<td><p>点を削除</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../_images/mActionMoveGCPPoint.png"><img alt="moveGCPPoint" src="../../../_images/mActionMoveGCPPoint.png" style="width: 1.5em;" /></a></p></td>
<td><p>GCPを移動</p></td>
<td><p><a class="reference internal" href="../../../_images/mActionPan.png"><img alt="pan" src="../../../_images/mActionPan.png" style="width: 1.5em;" /></a></p></td>
<td><p>パン</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../_images/mActionZoomIn.png"><img alt="zoomIn" src="../../../_images/mActionZoomIn.png" style="width: 1.5em;" /></a></p></td>
<td><p>拡大</p></td>
<td><p><a class="reference internal" href="../../../_images/mActionZoomOut.png"><img alt="zoomOut" src="../../../_images/mActionZoomOut.png" style="width: 1.5em;" /></a></p></td>
<td><p>縮小</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../_images/mActionZoomToLayer.png"><img alt="zoomToLayer" src="../../../_images/mActionZoomToLayer.png" style="width: 1.5em;" /></a></p></td>
<td><p>レイヤの全領域にズーム</p></td>
<td><p><a class="reference internal" href="../../../_images/mActionZoomLast.png"><img alt="zoomLast" src="../../../_images/mActionZoomLast.png" style="width: 1.5em;" /></a></p></td>
<td><p>前の領域へズーム</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../_images/mActionZoomNext.png"><img alt="zoomNext" src="../../../_images/mActionZoomNext.png" style="width: 1.5em;" /></a></p></td>
<td><p>次の表示領域にズーム</p></td>
<td><p><a class="reference internal" href="../../../_images/mActionLinkGeorefToQGis.png"><img alt="linkGeorefToQGis" src="../../../_images/mActionLinkGeorefToQGis.png" style="width: 2.5em;" /></a></p></td>
<td><p>ジオリファレンサをQGISにリンクする</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../../_images/mActionLinkQGisToGeoref.png"><img alt="linkQGisToGeoref" src="../../../_images/mActionLinkQGisToGeoref.png" style="width: 2.5em;" /></a></p></td>
<td><p>QGISをジオリファレンサにリンクする</p></td>
<td><p><a class="reference internal" href="../../../_images/mActionFullHistogramStretch.png"><img alt="fullHistogramStretch" src="../../../_images/mActionFullHistogramStretch.png" style="width: 1.5em;" /></a></p></td>
<td><p>ヒストグラムをデータセット全域の値で引きのばす</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../../_images/mActionLocalHistogramStretch.png"><img alt="localHistogramStretch" src="../../../_images/mActionLocalHistogramStretch.png" style="width: 1.5em;" /></a></p></td>
<td><p>ヒストグラムを表示領域の値で引きのばす</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>表：ジオリファレンサのツール</p>
<section id="usual-procedure">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">17.3.1. </span>通常の手順</a><a class="headerlink" href="#usual-procedure" title="Link to this heading"></a></h2>
<p>画像上の選択された点に対応するX、Y座標（度分秒（dd mm ss.ss）や度（dd.dd）、あるいは投影された座標（mmmm.mm））の設定手順には、 2つの選択肢があります：</p>
<ul class="simple">
<li><p>ラスタ自体が、画像上に座標値のある十字が「描かれて」いる場合があります。この場合には、その座標値を手動で入力します。</p></li>
<li><p>すでにジオリファレンスされたレイヤを使用する方法もあります。このレイヤはベクタデータでもラスタデータでもよく、ジオリファレンスしたい画像内にある同じオブジェクト/地物が含まれており、画像に使用したい座標系を持っているものです。この場合には、QGISのマップキャンバスにロードされた参照データセット上をクリックして、座標を入力できます。</p></li>
</ul>
<p>画像をジオリファレンスする通常の手順では、ラスタ上で複数の点を選択し、それらの座標を指定して、関連する変換タイプを選択します。入力パラメータと入力データに基づいて、ジオリファレンサはワールドファイルのパラメータを計算します。より多くの座標を指定するほど、より良い結果が得られるでしょう。</p>
<p>まず、QGISを起動し、QGISのメニューバーに表示されている <span class="menuselection">レイヤ ►</span> <a class="reference internal" href="../../../_images/mGeorefRun.png"><img alt="georefRun" src="../../../_images/mGeorefRun.png" style="width: 1.5em;" /></a> <span class="menuselection">ジオリファレンサ</span> をクリックします。<a class="reference internal" href="#figure-georeferencer-dialog"><span class="std std-numref">図 17.24</span></a> に示すように、ジオリファレンサダイアログが表示されます。</p>
<p>以下の例では、SDGSによるサウスダコタ州の地形図を使用します。これは後でGRASSの <code class="file docutils literal notranslate"><span class="pre">spearfish60</span></code> のデータと一緒に可視化します。地形図は以下のリンクからダウンロードできます： <a class="reference external" href="https://grass.osgeo.org/sampledata/spearfish_toposheet.tar.gz">https://grass.osgeo.org/sampledata/spearfish_toposheet.tar.gz</a></p>
<figure class="align-center" id="id2">
<span id="figure-georeferencer-dialog"></span><img alt="../../../_images/georef.png" src="../../../_images/georef.png" />
<figcaption>
<p><span class="caption-number">図 17.24 </span><span class="caption-text">ジオリファレンサダイアログ</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="entering-ground-control-points-gcps">
<span id="georeferencer-entering"></span><h3><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">17.3.1.1. </span>グラウンドコントロールポイント（GCP）の入力</a><a class="headerlink" href="#entering-ground-control-points-gcps" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>ジオリファレンスされていないラスタのジオリファレンスを開始するには、 <a class="reference internal" href="../../../_images/mActionAddRasterLayer.png"><img alt="addRasterLayer" src="../../../_images/mActionAddRasterLayer.png" style="width: 1.5em;" /></a> ボタンを使用してそのラスタをロードする必要があります。ラスタはダイアログのメインの作業領域に表示されます。ラスタがロードされると、基準点の入力を開始できます。</p></li>
<li><p><a class="reference internal" href="../../../_images/mActionAddGCPPoint.png"><img alt="addGCPPoint" src="../../../_images/mActionAddGCPPoint.png" style="width: 1.5em;" /></a> <sup>点を追加</sup> ボタンを使用して、メインの作業エリアにポイントを追加し、それらの座標を入力します（ <a class="reference internal" href="#figure-georeferencer-add-points"><span class="std std-numref">図 17.25</span></a> を参照）。この手順には3つの方法があります：</p>
<ul class="simple">
<li><p>ラスタ画像内の点をクリックして、その点のCRSとともにX座標とY座標を手動で入力する。</p></li>
<li><p>ラスタ画像内の点をクリックし、 <a class="reference internal" href="../../../_images/pencil.png"><img alt="pencil" src="../../../_images/pencil.png" style="width: 1.5em;" /></a> <sup>地図キャンバスから</sup> ボタンを押して、既にQGISのマップキャンバスに読み込まれたジオリファレンス済みの地図を使用して、X座標とY座標を追加する。CRSは自動的に設定されます。</p></li>
<li><p>メインマップキャンバスからGCPを入力するとき、メインキャンバスから点を選択している間、ジオリファレンスウインドウを隠すオプションがあります。<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">ジオリファレンサのウィンドウを自動で隠す</span> チェックボックスにチェックを入れると、 <a class="reference internal" href="../../../_images/pencil.png"><img alt="pencil" src="../../../_images/pencil.png" style="width: 1.5em;" /></a> <span class="guilabel">地図キャンバスから</span> をクリックした後、マップキャンバスに点が追加されるまで、メインのジオリファレンスウィンドウは隠されます。<span class="guilabel">地図座標の入力</span> ダイアログは開いたままになります。このボックスをオフにすると、マップキャンバス上で点を選択している間、両方のウィンドウが開いたままになります。このオプションはジオリファレンスウィンドウがメインインターフェイスにドッキングされていないときのみ効果があります。</p></li>
</ul>
</li>
<li><p>点の入力を繰り返します。最低4点の指定が必要ですが、より多くの座標を入力すれば、より良い結果が得られます。また、関連するGCPポイントの組を適切な場所に置くために、作業領域をズームしたりパンしたりするツールもあります。</p></li>
<li><p><a class="reference internal" href="../../../_images/mActionMoveGCPPoint.png"><img alt="moveGCPPoint" src="../../../_images/mActionMoveGCPPoint.png" style="width: 1.5em;" /></a> ツールを使用すると、GCPを修正する必要がある場合に、マップキャンバスとジオリファレンスウィンドウの両方でGCPを移動させることができます。</p></li>
</ol>
<figure class="align-center" id="id3">
<span id="figure-georeferencer-add-points"></span><img alt="../../../_images/choose_points.png" src="../../../_images/choose_points.png" />
<figcaption>
<p><span class="caption-number">図 17.25 </span><span class="caption-text">ラスタ画像へポイントを追加</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>地図に追加した点は通常、ラスタ画像と同じ場所の別個のテキストファイル（ <code class="file docutils literal notranslate"><span class="pre">[ファイル名].points</span></code> ）に保存されます。これにより、後日ジオリファレンサを再度開いて、新しい点を追加したり既存の点を削除して結果を最適化することができます。このポイントファイルには、次のような形式の値が含まれています： <code class="docutils literal notranslate"><span class="pre">mapX,</span> <span class="pre">mapY,</span> <span class="pre">pixelX,</span> <span class="pre">pixelY</span></code> 。 <a class="reference internal" href="../../../_images/mActionLoadGCPpoints.png"><img alt="loadGCPpoints" src="../../../_images/mActionLoadGCPpoints.png" style="width: 1.5em;" /></a> <sup>GCPを読み込み</sup> ボタンと <a class="reference internal" href="../../../_images/mActionSaveGCPpointsAs.png"><img alt="saveGCPPointsAs" src="../../../_images/mActionSaveGCPpointsAs.png" style="width: 1.5em;" /></a> <sup>名前を付けて保存</sup> ボタンを使用して、ファイルの管理ができます。</p>
</section>
<section id="defining-the-transformation-settings">
<span id="georeferencer-transformation"></span><h3><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">17.3.1.2. </span>変換の設定の定義</a><a class="headerlink" href="#defining-the-transformation-settings" title="Link to this heading"></a></h3>
<p>ラスタ画像にGCPを追加したら、ジオレファレンス処理のための変換の設定を定義する必要があります。</p>
<figure class="align-center" id="id4">
<span id="figure-georeferencer-transform"></span><img alt="../../../_images/transformation_settings.png" src="../../../_images/transformation_settings.png" />
<figcaption>
<p><span class="caption-number">図 17.26 </span><span class="caption-text">ジオリファレンサの変換設定の定義</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="available-transformation-algorithms">
<h4><a class="toc-backref" href="#id8" role="doc-backlink">利用可能な変換アルゴリズム</a><a class="headerlink" href="#available-transformation-algorithms" title="Link to this heading"></a></h4>
<p>入力データのタイプや品質、最終結果に入ることを許容する幾何学的な歪みの性質や量、グラウンドコントロールポイント（GCP）の数に応じて、多数の変換アルゴリズムが利用可能です。</p>
<p>現在、以下の <span class="guilabel">変換タイプ</span> が利用できます：</p>
<ul class="simple">
<li><p><strong>線形</strong> アルゴリズムはワールドファイルの作成に使用され、他のアルゴリズムとは異なり、実際にはラスタピクセルの変換は行われません。これは画像の位置合わせ（平行移動）と一様な拡大縮小は行いますが、回転やその他の変換は行いません。画像が高品質のラスタマップで、CRSは既知だが地理参照情報が不足している場合にはこのアルゴリズムが最適です。最低でも2つのGCPが必要です。</p></li>
<li><p><strong>ヘルマート</strong> 変換では、回転も可能です。ラスタが高品質の大縮尺地図やオルソ画像で、CRSのグリッド方位と一致していない場合には、この変換が特に有用です。最低でも2つのGCPが必要です。</p></li>
<li><p><strong>多項式1</strong> アルゴリズムはより一般的なアフィン変換で、一様せん断変形も行います。変形後は直線は直線のまま（つまり一直線上の点は一直線上のまま）、平行な線は平行なままです。このアルゴリズムは、異なる方向に異なるグラウンドピクセルサイズでプロットされている（またはデータが取得されている）可能性のあるデータカートグラムのジオリファレンスに特に有用です。 最低でも3つのGCPが必要です。</p></li>
<li><p><strong>多項式2-3</strong> アルゴリズムは、単なるアフィン変換ではなく、より一般的な2次または3次の多項式を使用します。このアルゴリズムでは、例えばエッジが曲がっている撮影地図などにある、曲率やその他の系統的なゆがみをを考慮できます。少なくとも6つ（多項式3は10個）のGCPが必要です。角度は保存されず、局所的な縮尺は画像全体で均一にはなりません。特に、直線が曲がってしまったり、データに合わせた多項式を大きく外挿させることによって、エッジやGCPから離れた場所で大きなゆがみを生じる可能性があります。</p></li>
<li><p><strong>投影変換</strong> アルゴリズムは多項式1を別の方法で一般化したもので、画像とマップキャンバスという2つの平行でない平面間の中心射影を表現する変換ができます。直線は変換後も直線に保たれますが、平行性は保存されず、画像全体のスケールは視点の変化に一致するように変化します。この変換タイプは、高品質の地図の（垂直スキャンではなく）傾いた写真や、斜め撮影の航空写真をジオリファレンスする際に最も有用です。最低でも4つのGCPが必要です。</p></li>
<li><p><strong>薄板スプライン</strong> （Thin Plate Spline）アルゴリズムは、複数のローカルな多項式を用いてラスタを「ラバーシート化」し、全体の表面曲率を最小化しながら指定されたGCPに一致させます。出力結果では、GCPから離れた領域はGCPのマッチングに合わせて移動することはありますが、局所的な変形は最小限に抑えられます。薄板スプラインは、破損した地図や変形した地図、微妙に不正確な地図、あるいはオルソ化されていない空中写真などのジオリファレンスに最も有用です。またこれは、投影タイプや投影パラメータが不明ではあるが、規則的なグリッドやアドホックなGCPの密な組み合わせを参照地図レイヤとマッチさせることのできる地図に対して、近似的なジオリファレンスや暗黙的な再投影を行う場合にも有用です。技術的には最低でも10個のGCPが必要ですが、良好な結果を得るためには通常、より多くのGCPが必要です。</p></li>
</ul>
<p>薄板スプライン以外のアルゴリズムはすべて、必要最低限のGCPよりも多くのGCPが指定された場合、全体の残差誤差が最小になるようにパラメータをフィッティングします。これは、座標入力時の誤差、すなわち、ポインタのクリックや入力座標のわずかな不正確さや、その他の小さな局所的な画像変形による影響を最小限に抑えるのに役立ちます。補正するためのGCPが他にない場合、このような誤差や変形は、ジオリファレンスされた画像のエッジ付近で特に大きな歪みとなる可能性があります。ただし、GCPを必要最低数よりも多く指定した場合には、出力画像のGCPは近似的にしか一致しません。一方で、薄板スプラインは指定したGCPすべてに正確にマッチしますが、座標入力時誤差があるGCPの周辺では大きな変形が生じる可能性があります。</p>
</section>
<section id="define-the-resampling-method">
<h4><a class="toc-backref" href="#id9" role="doc-backlink">リサンプリング方法の定義</a><a class="headerlink" href="#define-the-resampling-method" title="Link to this heading"></a></h4>
<p>どのようなリサンプリング方法を選択するかは、入力データと作業の最終目的によって異なります。（線形、ヘルマート、多項式1以外の変換を使用することによる不均一な幾何学的スケーリングによる影響以外で）ラスタの統計情報を変更したくない場合には、「最近傍（Nearest neighbour）」を選択するとよいでしょう。一方で、例えば「キュービック（Cubic）」リサンプリングはほとんどの場合、より視覚的に滑らかな結果が得られます。</p>
<p>5つの異なるリサンプリング方法から選択できます：</p>
<ol class="arabic simple">
<li><p>最近傍（Nearest neighbour）</p></li>
<li><p>Bilinear (2x2 kernel)</p></li>
<li><p>Cubic (4x4 kernel)</p></li>
<li><p>Cubic B-Spline (4x4 kernel)</p></li>
<li><p>Lanczos (6x6 kernel)</p></li>
</ol>
</section>
<section id="define-the-transformation-settings">
<h4><a class="toc-backref" href="#id10" role="doc-backlink">変換の設定の定義</a><a class="headerlink" href="#define-the-transformation-settings" title="Link to this heading"></a></h4>
<p>ジオリファレンスされた出力ラスタの作成のために、さまざまなオプションを指定する必要があります。</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">ワールドファイルの作成のみ（リニア変換）</span> のチェックボックスは、線形変換タイプを指定した場合にのみ利用可能です。これは、実際にはラスタ画像は変換されないことを意味しています。チェックを入れた場合、新しいワールドファイルが作成されるのみのため、 <span class="guilabel">出力ラスタ</span> フィールドは無効になります。</p></li>
<li><p>これ以外の変換タイプに対しては、 <span class="guilabel">出力ラスタ</span> を指定する必要があります。デフォルトでは、新規ファイル（[ファイル名]_modified）をオリジナルのラスタ画像ファイルと同じフォルダーに作成します。</p></li>
<li><p>続いて、ジオリファレンスされたラスタの <span class="guilabel">変換先CRS</span> （座標参照系）を指定する必要があります（ <a class="reference internal" href="../working_with_projections/working_with_projections.html#label-projections"><span class="std std-ref">投影法の操作</span></a> 参照）。</p></li>
<li><p>必要ならば <strong>PDFマップを作成</strong> や <strong>PDFレポートを作成</strong> できます。 このレポートには、使用した変換パラメータ、残差の画像、すべてのGCPとそのRMSエラーのリストといった情報が含まれています。</p></li>
<li><p>さらに、 <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">解像度を設定</span> チェックボックスにチェックを入れると、出力ラスタのピクセル解像度を指定できます。デフォルトの水平解像度と垂直解像度は 1 です。</p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">必要に応じて透明に0を使用</span> にチェックを入れると、値0のピクセルは透明で表示されるようになります。サウスダコタ地形図の例では、余白領域がすべて透明になります。</p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">GCPポイントを保存</span> は、GCPポイントを出力ラスタの隣のファイルに保管します。</p></li>
<li><p>最後に、 <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">完了後にプロジェクトに読み込む</span> にチェックを入れると、変換が完了したときに出力ラスタをQGISのマップキャンバスに自動的に読み込みます。</p></li>
</ul>
</section>
</section>
<section id="show-and-adapt-raster-properties">
<h3><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">17.3.1.3. </span>ラスタプロパティの表示と調整</a><a class="headerlink" href="#show-and-adapt-raster-properties" title="Link to this heading"></a></h3>
<p><span class="guilabel">設定</span> メニューの <span class="guilabel">ラスタプロパティ</span> オプションをクリックすると、ジオリファレンスしようとしているラスタファイルの <a class="reference internal" href="raster_properties.html#raster-properties-dialog"><span class="std std-ref">レイヤプロパティ</span></a> ダイアログが開きます。</p>
</section>
<section id="configure-the-georeferencer">
<span id="configure-georeferencer"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">17.3.1.4. </span>ジオリファレンサの構成</a><a class="headerlink" href="#configure-the-georeferencer" title="Link to this heading"></a></h3>
<p><span class="menuselection">設定 ► ジオリファレンサの構成</span> （またはキーボードショートカット <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd>+<kbd class="kbd docutils literal notranslate">P</kbd></kbd> ）でジオリファレンサの動作をカスタマイズできます。</p>
<ul class="simple">
<li><p><span class="guilabel">点のTip</span> の下にあるチェックボックスを使って、ジオリファレンサウィンドウとメインマップキャンバスの両方にGCP IDとX/Y座標を表示するかどうかを切り替えることができます。</p></li>
<li><p><span class="guilabel">残差単位</span> は、残差単位をピクセルで与えるか、マップの単位で与えるかを制御します</p></li>
<li><p><span class="guilabel">PDFレポート</span> では、レポート出力のマージン幅をmm単位で設定できます</p></li>
<li><p><span class="guilabel">PDF地図</span> では、マップ出力に使う用紙サイズを選ぶことができます</p></li>
<li><p>最後に、<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">ジオリファレンサウィンドウを結合して表示</span> を有効にすることができます。これはジオリファレンサウィンドウを、最小化できる別のウィンドウとして表示するのではなく、QGISのメインウィンドウにドッキングさせます。</p></li>
</ul>
</section>
<section id="running-the-transformation">
<span id="georeferencer-running"></span><h3><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">17.3.1.5. </span>変換の実行</a><a class="headerlink" href="#running-the-transformation" title="Link to this heading"></a></h3>
<p>すべてのGCPを設定しすべての変換設定が定義されたら、 <a class="reference internal" href="../../../_images/mActionStart.png"><img alt="start" src="../../../_images/mActionStart.png" style="width: 1.5em;" /></a> <sup>ジオリファレンスを開始</sup> ボタンを押すと、新しいジオリファレンスされたラスタが作成されます。</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="raster_analysis.html" class="btn btn-neutral float-left" title="17.2. ラスタ解析" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../working_with_mesh/mesh.html" class="btn btn-neutral float-right" title="18. メッシュデータの操作" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">最終更新: 2024 6月 25, 05:29 +0900
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/working_with_raster/georeferencer.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/user_manual/working_with_raster/georeferencer.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/user_manual/working_with_raster/georeferencer.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/user_manual/working_with_raster/georeferencer.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/user_manual/working_with_raster/georeferencer.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/user_manual/working_with_raster/georeferencer.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/user_manual/working_with_raster/georeferencer.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/working_with_raster/georeferencer.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/user_manual/working_with_raster/georeferencer.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/user_manual/working_with_raster/georeferencer.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/user_manual/working_with_raster/georeferencer.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/user_manual/working_with_raster/georeferencer.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/user_manual/working_with_raster/georeferencer.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/user_manual/working_with_raster/georeferencer.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/user_manual/working_with_raster/georeferencer.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/user_manual/working_with_raster/georeferencer.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/ja/docs/user_manual/working_with_raster/georeferencer.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/ja/docs/user_manual/working_with_raster/georeferencer.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/working_with_raster/georeferencer.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/ja/docs/user_manual/working_with_raster/georeferencer.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/ja/docs/user_manual/working_with_raster/georeferencer.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/ja/docs/user_manual/working_with_raster/georeferencer.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/ja/docs/user_manual/working_with_raster/georeferencer.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/ja/docs/user_manual/working_with_raster/georeferencer.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/ja/docs/user_manual/working_with_raster/georeferencer.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/user_manual/working_with_raster/georeferencer.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#ja/c331020ddf50f8f083260b958b6afdeb" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/ja" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>