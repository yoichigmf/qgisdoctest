<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>14.2. シンボルセレクタ &mdash; QGIS Documentation  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/user_manual/style_library/symbol_selector.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="../../../_static/translations.js?v=4dbe4bdc"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="検索" href="../../../search.html" />
    <link rel="next" title="14.3. ラベルの設定" href="label_settings.html" />
    <link rel="prev" title="14.1. スタイルマネージャ" href="style_manager.html" />
  <meta name="description" content="QGIS 3.34 documentation: 14.2. シンボルセレクタ">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ユーザ向け</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">QGIS Desktopユーザーガイド／マニュアル (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../preamble/preamble.html">1. はじめに</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/foreword.html">2. 序文</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/conventions.html">3. 記述ルール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/features.html">4. 機能</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/getting_started.html">5. 最初のステップ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/project_files.html">6. プロジェクトファイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_gui.html">7. QGISのユーザインタフェース</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/browser.html">8. ブラウザパネル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_configuration.html">9. QGISの設定</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_projections/working_with_projections.html">10. 投影法の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../map_views/index.html">11. 地図の可視化</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/general_tools.html">12. 一般ツール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../expressions/index.html">13. 式でレベルアップ</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">14. スタイルライブラリ</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="style_manager.html">14.1. スタイルマネージャ</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">14.2. シンボルセレクタ</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-symbol-layer-tree">14.2.1. シンボルレイヤツリー</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuring-a-symbol">14.2.2. シンボルの設定</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="label_settings.html">14.3. ラベルの設定</a></li>
<li class="toctree-l3"><a class="reference internal" href="3d_symbols.html">14.4. 3Dシンボルの作成</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../managing_data_source/index.html">15. データソースの管理</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector/index.html">16. ベクタデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_raster/index.html">17. ラスタデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_mesh/mesh.html">18. メッシュデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector_tiles/vector_tiles.html">19. ベクタタイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_point_clouds/point_clouds.html">20. 点群の操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_3d_tiles/3d_tiles.html">21. 3Dタイルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../print_composer/index.html">22. 地図のレイアウト</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_ogc/ogc_client_support.html">23. OGC / ISOプロトコルの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_gps/index.html">24. GPSデータの操作</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth_system/index.html">25. 認証システム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grass_integration/grass_integration.html">26. GRASS GIS の統合</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing/index.html">27. QGIS プロセシングフレームワーク</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_algs/index.html">28. プロセシングプロバイダとアルゴリズム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html">29. プラグイン</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/help_and_support.html">30. ヘルプとサポート</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/contributors.html">31. 協力者</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/index.html">32. 付録</a></li>
<li class="toctree-l2"><a class="reference internal" href="../literature_web/literature_and_web_references.html">33. 文献とWeb参照</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../server_manual/index.html">QGIS Serverガイド／マニュアル (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training_manual/index.html">トレーニングマニュアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gentle_gis_introduction/index.html">やさしい GIS 入門</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ドキュメント執筆者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_guidelines/index.html">ドキュメント作成のガイドライン</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">開発者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyqgis_developer_cookbook/index.html">PyQGISクックブック (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/index.html">開発者ガイド</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">QGISユーザガイド</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">14. </span>スタイルライブラリ</a></li>
      <li class="breadcrumb-item active"><span class="section-number">14.2. </span>シンボルセレクタ</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/user_manual/style_library/symbol_selector.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="style_manager.html" class="btn btn-neutral float-left" title="14.1. スタイルマネージャ" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="label_settings.html" class="btn btn-neutral float-right" title="14.3. ラベルの設定" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div><div class="admonition important">
<p class="admonition-title">重要</p>
<p>翻訳は <a class="reference external" href="https://qgis.org/en/site/getinvolved/translate.html#becoming-a-translator">あなたが参加できる</a> コミュニティの取り組みです。このページは現在 89.18% 翻訳されています。</p>
</div>
</div></blockquote>
<section id="the-symbol-selector">
<span id="symbol-selector"></span><h1><span class="section-number">14.2. </span>シンボルセレクタ<a class="headerlink" href="#the-symbol-selector" title="Link to this heading"></a></h1>
<nav class="contents local" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#the-symbol-layer-tree" id="id16">シンボルレイヤツリー</a></p></li>
<li><p><a class="reference internal" href="#configuring-a-symbol" id="id17">シンボルの設定</a></p>
<ul>
<li><p><a class="reference internal" href="#the-symbol" id="id18">シンボル</a></p></li>
<li><p><a class="reference internal" href="#the-symbol-layer" id="id19">シンボルレイヤ</a></p>
<ul>
<li><p><a class="reference internal" href="#common-parameters" id="id20">共通のパラメータ</a></p></li>
<li><p><a class="reference internal" href="#marker-symbols" id="id21">マーカーシンボル</a></p></li>
<li><p><a class="reference internal" href="#line-symbols" id="id22">ラインシンボル</a></p></li>
<li><p><a class="reference internal" href="#fill-symbols" id="id23">塗りつぶしシンボル</a></p></li>
<li><p><a class="reference internal" href="#parametrizable-svg" id="id24">パラメータ付きSVG</a></p></li>
<li><p><a class="reference internal" href="#the-geometry-generator" id="id25">ジオメトリジェネレータ</a></p></li>
<li><p><a class="reference internal" href="#the-vector-field-marker" id="id26">ベクタフィールドマーカー</a></p></li>
<li><p><a class="reference internal" href="#animated-marker" id="id27">Animated marker</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<p>シンボルセレクタはシンボルをデザインするためのメインダイアログです。マーカー、ライン、塗りつぶしのシンボルを作成したり、編集したりすることができます。</p>
<figure class="align-center" id="id3">
<span id="figure-symbol-selector"></span><img alt="../../../_images/symbolselector.png" src="../../../_images/symbolselector.png" />
<figcaption>
<p><span class="caption-number">図 14.10 </span><span class="caption-text">ラインシンボルのデザイン</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>シンボルセレクタダイアログは2つの主要な要素からなります：</p>
<ul class="simple">
<li><p>1つはシンボルツリーで、新たなグローバルシンボルを作るために結合されたシンボルレイヤを表示します。</p></li>
<li><p>そしてもう1つは、ツリー内で選択されたシンボルレイヤの構成の設定です。</p></li>
</ul>
<section id="the-symbol-layer-tree">
<span id="symbol-tree"></span><h2><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">14.2.1. </span>シンボルレイヤツリー</a><a class="headerlink" href="#the-symbol-layer-tree" title="Link to this heading"></a></h2>
<p>あるシンボルはいくつかの <span class="guilabel">シンボルレイヤ</span> から構成されます。シンボルツリーはこれらのシンボルレイヤの重なりを表示しており、これが新しいグローバルシンボルを形作るために結合されます。また、シンボルのプロパティが変更されると、動的なシンボル表現はすぐに更新されます。</p>
<p>シンボルツリー内で選択されたアイテムのレベルにもよりますが、ツリーの管理に役立つ様々なツールが利用可能です：</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> シンボルレイヤを追加：好きなだけシンボルレイヤを重ねることができます</p></li>
<li><p><a class="reference internal" href="../../../_images/symbologyRemove.png"><img alt="symbologyRemove" src="../../../_images/symbologyRemove.png" style="width: 1.5em;" /></a> シンボルレイヤを削除</p></li>
<li><p>シンボルレイヤの色を固定： <a class="reference internal" href="../../../_images/locked.png"><img alt="locked" src="../../../_images/locked.png" style="width: 1.5em;" /></a> ロックされた色は、ユーザーがグローバル（または上位の）シンボルレベルの色を変更しても変更されません</p></li>
<li><p><a class="reference internal" href="../../../_images/mActionDuplicateLayer.png"><img alt="duplicateLayer" src="../../../_images/mActionDuplicateLayer.png" style="width: 1.5em;" /></a> シンボルレイヤ（のグループ）を複製</p></li>
<li><p>シンボルレイヤを上下に移動</p></li>
</ul>
</section>
<section id="configuring-a-symbol">
<span id="edit-symbol"></span><h2><a class="toc-backref" href="#id17" role="doc-backlink"><span class="section-number">14.2.2. </span>シンボルの設定</a><a class="headerlink" href="#configuring-a-symbol" title="Link to this heading"></a></h2>
<p>QGISでは、シンボルの設定は2ステップになっています：シンボルと、シンボルレイヤです。</p>
<section id="the-symbol">
<h3><a class="toc-backref" href="#id18" role="doc-backlink"><span class="section-number">14.2.2.1. </span>シンボル</a><a class="headerlink" href="#the-symbol" title="Link to this heading"></a></h3>
<p>ツリーの最上位レベルはレイヤのジオメトリによって異なり、 <strong>マーカー</strong> 、 <strong>ライン</strong> もしくは <strong>塗りつぶし</strong> タイプです。各シンボルは、1つ以上のシンボル（ほかのタイプのシンボルも含む）またはシンボルレイヤを埋め込むことができます。</p>
<p>グローバルシンボルに適用するパラメータをいくつか設定することができます：</p>
<ul>
<li><p><span class="guilabel">単位</span> ： <strong>ミリメートル（Millimeters）</strong> 、 <strong>ポイント（Points）</strong> 、 <strong>ピクセル（Pixels）</strong> 、 <strong>縮尺済みメートル（Meters at Scale）</strong> 、 <strong>地図単位（Map units）</strong> もしくは <strong>インチ（Inches）</strong> のどれか（詳細については <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">単位セレクタ</span></a> を参照）</p></li>
<li><p><span class="guilabel">不透明度</span></p></li>
<li><p><span class="guilabel">色</span> ：このパラメータがユーザーによって変更されると、この値は全てのロックされていないサブシンボルの色にも適用されます</p></li>
<li><p><span class="guilabel">大きさ</span> と <span class="guilabel">回転</span> ：マーカーシンボルに対する設定</p></li>
<li><p><span class="guilabel">幅</span> ：ラインシンボルに対する設定</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>シンボルレベルの <span class="guilabel">大きさ</span> （マーカーシンボル） や、 <span class="guilabel">幅</span> （ラインシンボル）のプロパティを使用すると、シンボルに埋め込まれた全ての <a class="reference internal" href="#symbol-layer"><span class="std std-ref">シンボルレイヤ</span></a> の寸法がこれに比例してリサイズされます。</p>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>幅、大きさ、回転パラメータの横にある <a class="reference internal" href="../introduction/general_tools.html#data-defined"><span class="std std-ref">データによって定義された上書き</span></a> ボタンは、スタイルマネージャダイアログから設定する場合には使用不可になります。シンボルが地図レイヤに結合されると、このボタンは <a class="reference internal" href="../working_with_vector/vector_properties.html#proportional-symbols"><span class="std std-ref">比例シンボルや多変量解析</span></a> レンダリングを作成するのに役立ちます。</p>
</div>
</li>
<li><p><a class="reference internal" href="style_manager.html#vector-style-manager"><span class="std std-ref">シンボルライブラリ</span></a> のプレビュー：同じタイプのシンボルが表示され、すぐ上にある編集可能なドロップダウンリストから、自由形式のテキストや <a class="reference internal" href="style_manager.html#group-symbols"><span class="std std-ref">カテゴリ</span></a> でフィルタリングすることができます。また、 <a class="reference internal" href="../../../_images/mActionStyleManager.png"><img alt="styleManager" src="../../../_images/mActionStyleManager.png" style="width: 1.5em;" /></a> <sup>スタイルマネージャ</sup> ボタンを使用して同名のダイアログを開き、シンボルのリストを更新することもできます。 そこでは、 <a class="reference internal" href="style_manager.html#vector-style-manager"><span class="std std-ref">スタイルマネージャ</span></a> のセクションで公開されている機能を使用することができます。</p>
<p>シンボルは以下のいずれかの方法で表示されます：</p>
<ul class="simple">
<li><p>フレームの下にある <a class="reference internal" href="../../../_images/mActionOpenTable.png"><img alt="openTable" src="../../../_images/mActionOpenTable.png" style="width: 1.5em;" /></a> <sup>リストビュー</sup> ボタンを使用して、アイコンのリスト形式（サムネイル、名前、関連付けられたタグ）表示</p></li>
<li><p>または、<a class="reference internal" href="../../../_images/mActionIconView.png"><img alt="iconView" src="../../../_images/mActionIconView.png" style="width: 1.5em;" /></a> <sup>アイコンビュー</sup> ボタンを使用して、アイコンのプレビュー表示</p></li>
</ul>
</li>
<li><p>Press the <span class="guilabel">Save Symbol</span> button to open the <span class="guilabel">Save New Symbol</span> dialog.
Here, you can choose the <span class="guilabel">Destination</span> where you want to add the symbol being edited,
give it a <span class="guilabel">Name</span> and add <span class="guilabel">Tag(s)</span>.
You also have the option to <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <sup>Add to favorites</sup> your new symbol.</p></li>
<li><p><span class="guilabel">詳細設定</span> <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectString" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> オプションでは、以下の設定ができます：</p>
<ul>
<li><p>ラインと塗りつぶしシンボルに対しては、 <span class="guilabel">キャンバス範囲に地物を切り抜く</span> かどうかの設定</p>
</li>
<li><p>塗りつぶしシンボルに対して <span class="guilabel">右手ルールを強制</span> ：これにより、レンダリングされる塗りつぶし記号を、リングの向きに関する標準的な「右手ルール」（つまり、外側のリングが時計回り、内側のリングがすべて反時計回りのポリゴン）に強制的に従わせることができます。</p>
<p>この方向の強制固定はレンダリング時にのみ適用され、元の地物ジオメトリは変更されません。これにより、レンダリングされるデータセットや個々の地物のリングの向きとは無関係に、一貫性のある見た目の塗りつぶしシンボルが作成されます。</p>
</li>
<li><p>シンボルに適用されているレイヤの <a class="reference internal" href="../working_with_vector/vector_properties.html#vector-style-menu"><span class="std std-ref">シンボロジ</span></a> に応じて、 <span class="guilabel">アドバンスト</span> メニューでは以下の追加設定ができます：</p>
<ul class="simple">
<li><p><a class="reference internal" href="../working_with_vector/vector_properties.html#symbols-levels"><span class="std std-ref">描画順序...</span></a> ：シンボルのレンダリング順序の定義</p></li>
<li><p><a class="reference internal" href="../working_with_vector/vector_properties.html#data-defined-size-legend"><span class="std std-ref">データによる凡例サイズの定義</span></a></p></li>
<li><p><span class="guilabel">保存されたシンボルに一致</span> と <span class="guilabel">ファイルからのシンボルに一致...</span> で自動的に <a class="reference internal" href="../working_with_vector/vector_properties.html#categorized-advanced-menu"><span class="std std-ref">シンボルを分類に割り当て</span></a></p></li>
<li><p><a class="reference internal" href="../working_with_vector/vector_properties.html#animation-settings"><span class="std std-ref">Animation settings</span></a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="the-symbol-layer">
<span id="symbol-layer"></span><h3><a class="toc-backref" href="#id19" role="doc-backlink"><span class="section-number">14.2.2.2. </span>シンボルレイヤ</a><a class="headerlink" href="#the-symbol-layer" title="Link to this heading"></a></h3>
<p>ツリーの下位レベルでは、シンボルレイヤをカスタマイズすることができます。利用可能なシンボルレイヤのタイプは、上位のシンボルタイプに依存します。シンボルレイヤに <a class="reference internal" href="../../../_images/mIconPaintEffects.png"><img alt="paintEffects" src="../../../_images/mIconPaintEffects.png" style="width: 1.5em;" /></a> <a class="reference internal" href="../working_with_vector/vector_properties.html#draw-effects"><span class="std std-ref">描画エフェクト</span></a> を適用し、レンダリングを拡張することができます。</p>
<p>全てのシンボルレイヤタイプのオプションについて述べるのは不可能なので、以下では特別で重要なものに限って述べています。</p>
<section id="common-parameters">
<h4><a class="toc-backref" href="#id20" role="doc-backlink">共通のパラメータ</a><a class="headerlink" href="#common-parameters" title="Link to this heading"></a></h4>
<p>マーカー、ライン、塗りつぶしサブタイプにかかわらず、いくつかの共通のオプションとウィジェットがシンボルレイヤを作成するために利用できます。</p>
<ul class="simple">
<li><p>色操作を簡単に操作するための <a class="reference internal" href="../introduction/general_tools.html#color-selector"><span class="std std-ref">色セレクタ</span></a> ウィジェット</p></li>
<li><p><span class="guilabel">単位</span> ：<strong>ミリメートル（Millimeters）</strong> 、 <strong>ポイント（Points）</strong> 、 <strong>ピクセル（Pixels）</strong> 、 <strong>縮尺済みメートル（Meters at Scale）</strong> 、 <strong>地図単位（Map units）</strong> もしくは <strong>インチ（Inches）</strong> のどれか（詳細については <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">単位セレクタ</span></a> を参照）</p></li>
<li><p>ほとんど全てのオプションの横にある <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefine" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> <sup>データによって定義された上書き</sup> ウィジェット：各シンボルのカスタマイズ機能を拡張（詳細は <a class="reference internal" href="../introduction/general_tools.html#data-defined"><span class="std std-ref">データによって定義された上書きの設定</span></a> を参照）</p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">シンボルレイヤを有効化</span> オプションは、シンボルレイヤの可視性をコントロールします。無効化されたシンボルレイヤはレンダリング時に描画されませんが、シンボル内には保存されています。シンボルレイヤを非表示にできるようになることで、シンボルの最適なデザインを探す際にテストでシンボルレイヤを削除する必要がないため、便利になります。データ定義の上書きはこれに加え、様々なシンボルレイヤを式（すなわち地物属性）に基づいて表示・非表示にすることができます。</p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">描画エフェクト</span> ボタン： <a class="reference internal" href="../working_with_vector/vector_properties.html#draw-effects"><span class="std std-ref">レンダリング効果</span></a> を設定する際に使用</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>以下の説明では、シンボルレイヤタイプが地物のジオメトリにバインドされていることを前提としていますが、シンボルレイヤはお互いに埋め込むことができることに留意してください。この場合、下位レベルのシンボルレイヤのパラメータ（配置、オフセットなど...）は、地物ジオメトリ自体ではなく、上位レベルのシンボルにバインドされているかもしれません。</p>
</div>
</section>
<section id="marker-symbols">
<span id="vector-marker-symbols"></span><h4><a class="toc-backref" href="#id21" role="doc-backlink">マーカーシンボル</a><a class="headerlink" href="#marker-symbols" title="Link to this heading"></a></h4>
<p>マーカーシンボルはポイントジオメトリの地物に適したシンボルで、いくつかの <span class="guilabel">シンボルレイヤタイプ</span> があります：</p>
<ul id="simple-marker-symbol">
<li><p><strong>シンプルマーカー</strong> （デフォルト）</p>
<figure class="align-center" id="id4">
<span id="figure-simple-marker-symbol"></span><img alt="../../../_images/simpleMarkerSymbol.png" src="../../../_images/simpleMarkerSymbol.png" />
<figcaption>
<p><span class="caption-number">図 14.11 </span><span class="caption-text">シンプルマーカーのシンボルをデザインする</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>シンプルマーカーシンボルレイヤタイプには、以下のプロパティがあります:</p>
<ul class="simple">
<li><p><span class="guilabel">大きさ</span> ：さまざまな単位をサポートします</p></li>
<li><p><span class="guilabel">塗りつぶし色</span></p></li>
<li><p><span class="guilabel">ストローク色</span> 、定義済みリストからの <span class="guilabel">ストロークスタイル</span> 、 <span class="guilabel">ストローク幅</span></p></li>
<li><p><span class="guilabel">継ぎ目スタイル</span> ： <strong>Bevel</strong> 、 <strong>Miter</strong> 、 <strong>Round</strong> から選択します</p></li>
<li><p><span class="guilabel">両端スタイル</span> ： <strong>Square</strong> 、 <strong>Flat</strong> 、 <strong>Round</strong> から選択します</p></li>
<li><p><span class="guilabel">回転</span></p></li>
<li><p>地物からの <span class="guilabel">X</span> および <span class="guilabel">Y</span> 方向の <span class="guilabel">オフセット</span></p></li>
<li><p><span class="guilabel">アンカーポイント</span> ：シンボル上で象限点を定義し、配置の原点とします。これは、 <span class="guilabel">オフセット</span> が適用されるポイントです。</p></li>
</ul>
</li>
<li><p><strong>Animated marker</strong> (see <a class="reference internal" href="#animated-marker"><span class="std std-ref">Animated marker</span></a>)</p></li>
<li><p><strong>楕円マーカー</strong> ：シンプルなマーカーシンボルのレイヤで、シンボル幅と高さがカスタマイズ可能です</p></li>
<li><p><strong>塗りつぶしマーカー</strong> ： <a class="reference internal" href="#vector-fill-symbols"><span class="std std-ref">塗りつぶしのサブシンボル</span></a> をマーカーのレンダリングに使用する点を除けば、シンプルマーカーのシンボルレイヤと似ています。塗りつぶしのサブシンボルは、マーカーのレンダリングに既存のQGISの塗りつぶし（とストローク）スタイル、例えばグラデーションやShapeburst塗りつぶしを使用することができます。</p></li>
<li><p><strong>フォントマーカー</strong> ：シンプルマーカーのシンボルレイヤと似ていますが、インストールされたフォントをマーカーとして使用してレンダリングする点が異なります。追加プロパティには以下のものがあります：</p>
<ul class="simple">
<li><p><span class="guilabel">フォントファミリー</span></p></li>
<li><p><span class="guilabel">フォントスタイル</span></p></li>
<li><p><span class="guilabel">文字</span> は、シンボルとして表示される文字（列）です。文字は入力するか、フォント文字コレクションウィジェットから選択することができ、選択した設定はライブ <span class="guilabel">プレビュー</span> で確認できます。</p></li>
</ul>
</li>
<li><p><strong>ジオメトリジェネレータ</strong> （ <a class="reference internal" href="#geometry-generator-symbol"><span class="std std-ref">ジオメトリジェネレータ</span></a> を参照）</p></li>
</ul>
<ul class="simple" id="mask-marker-symbol">
<li><p><strong>マスクグリッド（Mask）</strong> ：このシンボルのサブシンボルはマスク形状を定義し、色の特性は無視されて不透明度だけが使用されます。これは、マーカーシンボルが色の近いラベルや他のシンボルと重なって見えづらい場合に便利です。詳細は <a class="reference internal" href="../working_with_vector/vector_properties.html#vector-mask-menu"><span class="std std-ref">マスクプロパティ</span></a> を参照してください。</p></li>
</ul>
<ul class="simple" id="raster-image-marker">
<li><p><strong>ラスタ画像マーカー</strong> ：マーカーシンボルとして画像（ <code class="file docutils literal notranslate"><span class="pre">PNG</span></code> 、 <code class="file docutils literal notranslate"><span class="pre">JPG</span></code> 、 <code class="file docutils literal notranslate"><span class="pre">BMP</span></code> 等）を使用します。画像はディスク上のファイル、リモートURL、スタイルデータベースに埋め込まれたもの（ <a class="reference internal" href="../introduction/general_tools.html#embedded-file-selector"><span class="std std-ref">詳細はこちら</span></a> ）、またはbase64文字列が使用できます。画像の幅と高さは独立に設定することもできますし、 <a class="reference internal" href="../../../_images/lockedGray.png"><img alt="lockedGray" src="../../../_images/lockedGray.png" style="width: 1.2em;" /></a> <sup>アスペクト比を固定する</sup> こともできます。サイズは任意の <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">共通の単位</span></a> を使用するか、画像のオリジナルサイズに対するパーセント（幅基準でスケール）で設定できます。</p></li>
<li><p><strong>ベクタフィールドマーカー</strong> （ <a class="reference internal" href="#vector-field-marker"><span class="std std-ref">ベクタフィールドマーカー</span></a> 参照）</p></li>
</ul>
<ul id="svg-marker">
<li><p><strong>SVGマーカー</strong> ：SVGパス（ <span class="menuselection">設定 ► オプション... ► システム</span> メニューで設定されたパス）にある画像をマーカーシンボルとしてレンダリングできます。シンボルの幅と高さは独立に設定することもできますし、 <a class="reference internal" href="../../../_images/lockedGray.png"><img alt="lockedGray" src="../../../_images/lockedGray.png" style="width: 1.2em;" /></a> <sup>アスペクト比を固定する</sup> こともできます。各SVGファイルの色やストロークを調整することもできます。画像はディスク上のファイル、リモートURL、スタイルデータベースに埋め込まれたもの（ <a class="reference internal" href="../introduction/general_tools.html#embedded-file-selector"><span class="std std-ref">詳細はこちら</span></a> ）、またはbase64文字列が使用できます。</p>
<p>シンボルは、 <span class="guilabel">Dynamic SVG parameters</span> で設定することもできます。SVGシンボルのパラメータ化については、 <a class="reference internal" href="#svg-symbol"><span class="std std-ref">パラメータ付きSVG</span></a> のセクションを参照してください。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>SVGのバージョン要件</p>
<p>QGISは <a class="reference external" href="https://www.w3.org/TR/SVGMobile12/">SVG Tiny 1.2 プロファイル</a> に従ったSVGファイルをレンダリングします。このプロファイルは、携帯電話やPDAからノートパソコンやデスクトップコンピュータまで、さまざまなデバイスへの実装が想定されているため、SVG 1.1 Full に含まれる機能のサブセットに加えて、SVGの機能を拡張する新しい機能も含まれています。</p>
<p>この仕様に含まれていない機能は、QGISでは正しくレンダリングされないものがあるかもしれません。</p>
</div>
</li>
</ul>
</section>
<section id="line-symbols">
<span id="vector-line-symbols"></span><h4><a class="toc-backref" href="#id22" role="doc-backlink">ラインシンボル</a><a class="headerlink" href="#line-symbols" title="Link to this heading"></a></h4>
<p>ラインシンボルはラインジオメトリの地物に適したシンボルで、以下のようなシンボルレイヤタイプがあります：</p>
<ul id="simple-line-symbol">
<li><p><strong>直線（Simple Line）</strong> （デフォルト）</p>
<figure class="align-center" id="id5">
<span id="figure-simple-line-symbol"></span><img alt="../../../_images/simpleLineSymbol.png" src="../../../_images/simpleLineSymbol.png" />
<figcaption>
<p><span class="caption-number">図 14.12 </span><span class="caption-text">シンプルラインのシンボルをデザインする</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>シンプルラインのシンボルレイヤタイプは <a class="reference internal" href="#simple-marker-symbol"><span class="std std-ref">シンプルマーカーシンボル</span></a> と同様のプロパティが多数ありますが、これに加えて、</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">破線を使用</span> ： <span class="guilabel">ストロークスタイル</span> の設定をカスタムの破線で上書きします。破線のモデルを形作る、連続した破線（dash）とスペースの長さを選択した単位で定義する必要があります。パターンの長さの合計がダイアログの下部に表示されます。</p></li>
<li><p><span class="guilabel">パターンオフセット</span> ：ラインにおける破線と空白の位置を微調整して、ラインの角を考慮したより良い位置に破線を配置できます（また、これは隣接する破線パターンの境界を「揃える」ために使用することもできます）。</p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">破線の間隔を線の長さに調整する</span> ：破線パターンの長さを調整し、線の終わりが空白ではなく完全な破線要素で終わるようにします。</p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">破線の間隔を鋭角に調整する</span> ：破線パターンの配置を動的に調整して、破線要素が鋭角部に出入りし、鋭角が完全な破線要素で表現されるようにします。これは <span class="guilabel">破線の間隔を線の長さに調整する</span> の設定に依存します。</p></li>
<li><p><span class="guilabel">開始</span> や <span class="guilabel">終了</span> 位置からの <span class="guilabel">線をトリミング</span> ：これにより、ラインを描画する際に実際のラインストリングから最初のx mmと最後のy mmを切り取ったラインをレンダリングできます。これはライン全体の長さに対するパーセンテージも含め様々な <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">単位</span></a> をサポートしており、さらに細かく制御するためにデータ定義とすることもできます。開始・終了のトリミング距離は例えば、ラインの始点と終点に配置されたマーカーシンボルレイヤにラインレイヤがに重なってはいけないような、複雑なシンボルを作成する場合に使用します。</p></li>
</ul>
</li>
</ul>
<ul id="arrow-symbol">
<li><p><strong>矢印</strong> ：ラインを曲がった（または直線的な）矢印として描画します。ヘッドは一方向または両方向とすることができ、ヘッドの設定が可能です（データ定義とすることもできます）。</p>
<ul class="simple">
<li><p><span class="guilabel">ヘッドの種類</span></p></li>
<li><p><span class="guilabel">矢印の種類</span></p></li>
<li><p><span class="guilabel">矢印の幅</span></p></li>
<li><p><span class="guilabel">矢印の始点での幅</span></p></li>
<li><p><span class="guilabel">ヘッドの長さ</span></p></li>
<li><p><span class="guilabel">ヘッドの太さ</span></p></li>
<li><p><span class="guilabel">オフセット</span></p></li>
</ul>
<p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">湾曲した矢印</span> （ライン地物は少なくとも3つの頂点を持っていなければなりません）を作成したり、 <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">各セグメント上に矢印を繰り返す</span> ことができます。また、矢印のボディのレンダリングにはグラデーションや shapeburst といった <a class="reference internal" href="#vector-fill-symbols"><span class="std std-ref">塗りつぶしシンボル</span></a> を使用します。ジオメトリジェネレータと組み合わせると、このタイプのレイヤシンボルはフローマップを表現するのに役立ちます。</p>
</li>
<li><p><strong>ジオメトリジェネレータ</strong> （ <a class="reference internal" href="#geometry-generator-symbol"><span class="std std-ref">ジオメトリジェネレータ</span></a> を参照）</p></li>
</ul>
<ul id="interpolated-line-symbol">
<li><p><strong>補間された線</strong> ：ラインのレンダリングについて、ラインの <span class="guilabel">ストローク幅</span> や <span class="guilabel">色</span> を一定（パラメータを <span class="guilabel">固定幅</span> や <span class="guilabel">単一色</span> に設定）としたり、ジオメトリに沿って変化させたりすることができます。可変とする場合には、以下の入力が必要です：</p>
<ul class="simple">
<li><p><span class="guilabel">開始値</span> と <span class="guilabel">終了値</span> ：地物ジオメトリの両端における値で、値の補間のために使用します。この値は、固定値、地物の属性、または式に基づく値を使用できます。</p></li>
<li><p><span class="guilabel">最小値</span> と <span class="guilabel">最大値</span> ：補間が実行される値の上下限です。 <a class="reference internal" href="../../../_images/mActionRefresh.png"><img alt="refresh" src="../../../_images/mActionRefresh.png" style="width: 1.5em;" /></a> <sup>Load</sup> ボタンを押すと、レイヤに適用された開始値・終了値の最小値と最大値に基づいて自動的に値が入力されます。</p></li>
<li><p>ストローク幅オプションにのみ、以下の設定があります：</p>
<ul>
<li><p><span class="guilabel">最小幅</span> と <span class="guilabel">最大幅</span> ：可変幅の範囲を定義します。 <span class="guilabel">最小値</span> には <span class="guilabel">最小幅</span> が、 <span class="guilabel">最大値</span> には <span class="guilabel">最大幅</span> が割り当てられます。幅の値には <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">単位</span></a> を関連付けられます。</p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">絶対値を使用</span> ：補間には絶対値を考慮します（負の値は正の値として使用します）。</p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">範囲外の値を無視</span> ：地物の <code class="docutils literal notranslate"><span class="pre">[開始値</span> <span class="pre">-</span> <span class="pre">終了値]</span></code> の範囲が <code class="docutils literal notranslate"><span class="pre">[最小値</span> <span class="pre">-</span> <span class="pre">最大値]</span></code> の範囲に含まれない場合、デフォルトでは範囲外の部分の地物ジオメトリは最小幅や最大幅でレンダリングされます。このオプションにチェックを入れると、範囲外の部分の地物ジオメトリは全くレンダリングされません。</p></li>
</ul>
</li>
<li><p>可変色については、 <a class="reference internal" href="../working_with_raster/raster_properties.html#color-ramp-shader"><span class="std std-ref">カラーランプ</span></a> の任意の補間方法を利用できます。</p></li>
</ul>
<figure class="align-center" id="id6">
<span id="figure-interpolated-line-symbol"></span><a class="reference internal image-reference" href="../../../_images/interpolatedLineSymbol.png"><img alt="../../../_images/interpolatedLineSymbol.png" src="../../../_images/interpolatedLineSymbol.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">図 14.13 </span><span class="caption-text">補間された線の例</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ul>
<ul id="marker-line-symbol">
<li><p><strong>マーカーライン</strong> ：ラインの長さにわたって <a class="reference internal" href="#vector-marker-symbols"><span class="std std-ref">マーカーシンボル</span></a> を繰り返します。</p>
<ul>
<li><p><span class="guilabel">マーカーの位置</span> ：位置は、（最初の頂点から開始する）等間隔の設定にすることもできますが、ラインジオメトリのプロパティに基づく設定（最初の点、最後の点、内部の点、ラインの中央の点、セグメントの中央の点、すべてのカーブ点）にすることもできます。</p></li>
<li><p>最初の点または最後の点を有効にすると、 <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">各パートの両端に配置</span> オプションを使用でき、マルチパートジオメトリの各パートの最初または最後の頂点にもマーカーをレンダリングします。</p></li>
<li><p><span class="guilabel">ラインに沿ったオフセット</span> ：マーカーの配置には、好みの ref:<cite>単位 &lt;unit_selector&gt;</cite> （ミリメートル、ポイント、地図単位、縮尺済みメートル、パーセントなど）で指定した、ラインに沿った方向のオフセットを指定することもできます。</p>
<ul class="simple">
<li><p>正の値を指定すると、（マーカーの位置が <span class="guilabel">最初の点</span> や <span class="guilabel">With interval</span> の場合には）ラインの方向にマーカーシンボルをオフセットします。位置が <span class="guilabel">最後の点</span> の場合は反対方向にオフセットします。</p></li>
<li><p>負の値を指定すると、ラインが閉じていない場合には、オフセットは生じない（位置が <span class="guilabel">最初の点</span> や <span class="guilabel">最後の点</span> の場合）か、（最後の頂点から）反対向きにシンボルをオフセットします。</p></li>
<li><p>閉じたリングの場合には、QGISはリングでオフセットが（前方または後方に）周回するものとして扱います。例えば、オフセットを150%（または -10%、-110%）に設定すると、オフセットは閉じたリングの50%（またはいずれも90%）として扱います。</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">線の向きに沿って回転</span> オプションは、各マーカーシンボルをラインの方向に対する相対的な向きとするかどうかを設定します。</p>
<p>ラインはさまざまな方向のセグメントの連続であることが多いので、マーカーの回転は線に沿って指定された距離を平均することで計算されます。例えば、 <span class="guilabel">角度の平均化範囲</span> プロパティを <code class="docutils literal notranslate"><span class="pre">4mm</span></code> に設定すると、シンボル位置の前後 <code class="docutils literal notranslate"><span class="pre">2mm</span></code> にある、線に沿った2点がそのマーカーシンボルの線の角度を計算するのに使われます。これは全体的な線の方向からの局所的なわずかな変動を平滑化（あるいは除去）する効果があり、結果としてマーカーラインシンボルの見た目の方向がより良くなります。</p>
</li>
<li><p><span class="guilabel">オフセット量</span> ：マーカーシンボルをライン地物からオフセットさせることもできます。</p></li>
</ul>
</li>
</ul>
<ul id="hashed-line-symbol">
<li><p><strong>ハッシュ線</strong> ：ラインシンボルの長さにわたって線分（ハッシュ）を繰り返します。ハッシュはラインのサブシンボルを使用して個々のセグメントがレンダリングされます。言い換えると、ハッシュ線はマーカーシンボルが線分に置き換わったマーカーラインのようなものです。従って、ハッシュ線はマーカーラインと <a class="reference internal" href="#marker-line-symbol"><span class="std std-ref">同様のプロパティ</span></a> を持ち、これに加えて以下のプロパティがあります：</p>
<ul class="simple">
<li><p><span class="guilabel">ハッシュ線の長さ</span></p></li>
<li><p><span class="guilabel">ハッシュ線の回転</span></p></li>
</ul>
<figure class="align-center" id="id7">
<span id="figure-hashed-line-symbol"></span><a class="reference internal image-reference" href="../../../_images/hashedLineSymbol.png"><img alt="../../../_images/hashedLineSymbol.png" src="../../../_images/hashedLineSymbol.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">図 14.14 </span><span class="caption-text">ハッシュ線の例</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ul>
<ul id="raster-line-symbol">
<li><p><strong>ラスタ線</strong>: ライン地物の形状の長さに従ってラスタ画像をレンダリングし、繰り返します。guilabel:<cite>ストローク幅</cite>, <span class="guilabel">オフセット</span>, <span class="guilabel">継ぎ目スタイル</span>, <span class="guilabel">両端スタイル</span>, <span class="guilabel">不透明度</span> を調整することができます。</p>
<figure class="align-center" id="id8">
<span id="figure-raster-line-symbol"></span><a class="reference internal image-reference" href="../../../_images/rasterLineSymbol.png"><img alt="../../../_images/rasterLineSymbol.png" src="../../../_images/rasterLineSymbol.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">図 14.15 </span><span class="caption-text">ラスタ線の例</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ul>
<ul id="lineburst-symbol">
<li><p><strong>線バースト</strong>: 線の幅に沿ってグラデーションを描画します。<span class="guilabel">2つの色</span> または <span class="guilabel">カラーランプ</span> を選択することができ、<span class="guilabel">ストローク幅</span>, <span class="guilabel">オフセット</span>, <span class="guilabel">継ぎ目スタイル</span>, <span class="guilabel">両端スタイル</span> を調整することができます。</p>
<figure class="align-center" id="id9">
<span id="figure-lineburst-symbol"></span><a class="reference internal image-reference" href="../../../_images/lineburstSymbol.png"><img alt="../../../_images/lineburstSymbol.png" src="../../../_images/lineburstSymbol.png" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">図 14.16 </span><span class="caption-text">線バーストの例</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ul>
</section>
<section id="fill-symbols">
<span id="vector-fill-symbols"></span><h4><a class="toc-backref" href="#id23" role="doc-backlink">塗りつぶしシンボル</a><a class="headerlink" href="#fill-symbols" title="Link to this heading"></a></h4>
<p>ポリゴンジオメトリの地物に適するように、塗りつぶしシンボルにも以下のような様々なシンボルレイヤタイプがあります：</p>
<ul>
<li><p><strong>シンプル塗りつぶし</strong> （デフォルト）：ポリゴンを均一な色で塗りつぶします</p>
<figure class="align-center" id="id10">
<span id="figure-simple-fill-symbol"></span><img alt="../../../_images/simpleFillSymbol.png" src="../../../_images/simpleFillSymbol.png" />
<figcaption>
<p><span class="caption-number">図 14.17 </span><span class="caption-text">シンプル塗りつぶしのシンボルをデザインする</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
<li><p><strong>重心塗りつぶし</strong> ：表示されている地物の重心位置に <a class="reference internal" href="#vector-marker-symbols"><span class="std std-ref">マーカーシンボル</span></a> を配置します。重心位置の計算はマップキャンバスで表示されている領域にクリップされたポリゴンに対して行われ、穴は無視されているため、マーカーの位置は地物の実際の重心位置ではないかもしれません。正確な重心位置が必要な場合には、 <a class="reference internal" href="#geometry-generator-symbol"><span class="std std-ref">ジオメトリジェネレータシンボル</span></a> を使用してください。</p>
<p>以下の設定ができます：</p>
<ul class="simple">
<li><p><span class="guilabel">マーカーをポリゴンの内側に強制移動する</span></p></li>
<li><p><span class="guilabel">マルチパート地物の全パートにマーカーを描画</span> するか、最大パートにのみ描画するかを設定できます</p></li>
<li><p>マーカーシンボルは全体を表示するか、それとも一部を表示するかを設定できます。一部表示は、現在の地物ジオメトリと重複する部分を残す（ <span class="guilabel">ポリゴンでマーカーを切り抜く</span> ）か、シンボルが属するジオメトリパートと重複する部分を残す （ <span class="guilabel">現在の地物の部分でマーカーを切り抜く</span> ）かを設定できます。</p></li>
</ul>
</li>
<li><p><strong>ジオメトリジェネレータ</strong> （ <a class="reference internal" href="#geometry-generator-symbol"><span class="std std-ref">ジオメトリジェネレータ</span></a> を参照）</p></li>
<li><p><strong>グラデーション塗りつぶし</strong>: 単純な 2 色のグラデーション、または事前に定義された <a class="reference internal" href="style_manager.html#color-ramp"><span class="std std-ref">グラデーションカラーランプ</span></a> に基づく、放射状、線形、または円錐状のグラデーションを使用してポリゴンを塗りつぶします。グラデーションは回転させることができ、1 つの地物ごとに適用することも、マップの範囲全体に適用することもできます。また、始点と終点は座標または（地物またはマップの）重心を使用して設定できます。データ定義のオフセットも定義できます。</p></li>
<li><p><strong>ラインパターン塗りつぶし</strong> ：ポリゴンを <a class="reference internal" href="#vector-line-symbols"><span class="std std-ref">ラインシンボルレイヤ</span></a> によるハッチングパターンで塗りつぶします。次の設定ができます：</p>
<ul class="simple">
<li><p><span class="guilabel">整列</span>: パターンと地物の位置関係を定義します：</p>
<ul>
<li><p><span class="guilabel">パターンを地物に揃える</span>: 各地物内にラインが描画されます。</p></li>
<li><p><span class="guilabel">パターンを地図領域に揃える</span>: パターンがマップの範囲全体にレンダリングされ、ラインが地物を横切ってきれいに整列します</p></li>
</ul>
</li>
<li><p>ラインを反時計回りに <span class="guilabel">回転</span> します</p></li>
<li><p><span class="guilabel">間隔</span>: 2つの隣り合うラインの距離</p></li>
<li><p>地物の境界線からの <span class="guilabel">オフセット</span> 距離</p></li>
<li><p><span class="guilabel">切り抜き</span>: 塗りつぶす線をどのようにポリゴンの形に切り抜くかを制御できます。オプションは以下の通りです：</p>
<ul>
<li><p><span class="guilabel">レンダリング中のみクリッピング</span>: 地物のバウンディングボックス全体を覆うラインが生成され、描画中にクリップされます。線の両端（始点と終点）は表示されません。</p></li>
<li><p><span class="guilabel">レンダリング前に線をクリッピング</span>: 線はレンダリング前にポリゴンの正確な形に切り抜かれます。線の両端（両端スタイル、始点/終点マーカーラインオブジェクトなどを含む）は表示され、（ラインシンボルの設定によっては）ポリゴンの外にはみ出ることもあります。</p></li>
<li><p><span class="guilabel">クリッピングしない</span>: クリッピングは全く行われません。ラインは地物のバウンディングボックス全体を覆います</p></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>ポイントパターン塗りつぶし</strong> ：ポリゴンを <a class="reference internal" href="#vector-marker-symbols"><span class="std std-ref">マーカーシンボル</span></a> によるグリッドパターンで塗りつぶします。次の設定ができます：</p>
<ul>
<li><p><span class="guilabel">整列</span>: パターンと地物の位置関係を定義します：</p>
<ul>
<li><p><span class="guilabel">パターンを地物に揃える</span>: マーカーラインが各地物の中にレンダリングされます</p></li>
<li><p><span class="guilabel">パターンを地図領域に揃える</span>: パターンがマップ範囲全体にレンダリングされ、マーカーが地物をまたいできれいに配置されます</p>
<figure class="align-center" id="id11">
<span id="figure-point-pattern-alignment"></span><img alt="../../../_images/pointPatternAlignment.png" src="../../../_images/pointPatternAlignment.png" />
<figcaption>
<p><span class="caption-number">図 14.18 </span><span class="caption-text">地物（左）とマップ範囲（右）へのポイントパターンの整列</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ul>
</li>
<li><p><span class="guilabel">距離</span> ：2つの隣り合うマーカーどうしの <span class="guilabel">水平</span> 距離と <span class="guilabel">垂直</span> 距離</p></li>
<li><p><span class="guilabel">変位</span> ：連続する列方向（または行方向）のマーカー間の並びの <span class="guilabel">水平</span> （または <span class="guilabel">垂直</span> ）方向のオフセット</p></li>
<li><p><span class="guilabel">オフセット</span> ：地物の境界線からの <span class="guilabel">水平</span> 距離および <span class="guilabel">垂直</span> 距離</p></li>
<li><p><span class="guilabel">切り抜き</span>: 塗りつぶすマーカーをどのようにポリゴンの形に切り抜くかを制御できます。オプションは以下の通りです：</p>
<ul>
<li><p><span class="guilabel">切り抜くシェープ</span>:  ポリゴンの内側の部分だけが見えるようマーカーを切り抜きます</p></li>
<li><p><span class="guilabel">シェープ内のマーカー重心</span>: マーカーの重心がポリゴンの内側にあるマーカーだけが描画されますが、これらのマーカーはポリゴンの外に出ないよう切り抜かれません</p></li>
<li><p><span class="guilabel">シェープ内のマーカー</span>: ポリゴンの中に完全に入るマーカーだけが表示されます</p></li>
<li><p><span class="guilabel">クリッピングしない</span>: ポリゴンと交差するマーカーは完全にレンダリングされます（厳密には「マーカーのバウンディングボックスと交差する」です）</p>
<figure class="align-center" id="id12">
<span id="figure-clip-point-pattern-fill"></span><img alt="../../../_images/clipPointPatternFill.png" src="../../../_images/clipPointPatternFill.png" />
<figcaption>
<p><span class="caption-number">図 14.19 </span><span class="caption-text">塗りつぶしにおけるマーカーの切り抜き - 左から右へ： 切り抜くシェープ、シェープ内のマーカー重心、シェープ内のマーカー、クリッピングしない</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ul>
</li>
<li><p>パターン全体を時計回りに <span class="guilabel">回転</span> します</p></li>
<li><p><span class="guilabel">パターンをランダム化</span> グループ設定では、ポイントパターン塗りつぶしの各ポイントを、指定した最大距離 <span class="guilabel">水平方向</span> または <span class="guilabel">垂直方向</span> までランダムにずらすことができます。最大オフセットは、ミリメートル、ポイント、地図単位、あるいは 「パーセント」 (パーセントはパターンの幅や高さに対する相対値) など、サポートされている任意の単位で指定できます。</p>
<p>オプションで乱数シードを設定することで、マップの更新時にシンボルパターンが「飛び跳ねる」のを防ぐことができます。データによる定義の上書きにも対応しています。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p><span class="guilabel">パターンをランダム化</span> と <a class="reference internal" href="#random-marker-fill"><span class="std std-ref">ランダム塗りつぶし</span></a> シンボルタイプの主な違いは、ポイントパターンによるランダムオフセットでは、マーカーを準「規則的」に配置できることです － パターン内の点が効果的にグリッドに拘束されるため、空の領域やマーカーの重なりがないセミランダムな塗りつぶしを作成できます。(ランダム塗りつぶしとは対照的に、ポイントは常に完全にランダムに配置されます...その結果、点の視覚的なクラスタや不要な空白領域が生じることがあります)。</p>
</div>
</li>
</ul>
</li>
</ul>
<ul class="simple" id="random-marker-fill">
<li><p><strong>ランダム塗りつぶし</strong> ：ポリゴン境界内のランダムな位置に配置した <a class="reference internal" href="#vector-marker-symbols"><span class="std std-ref">マーカーシンボル</span></a> でポリゴンを塗りつぶします。以下の設定ができます：</p>
<ul>
<li><p><span class="guilabel">カウント方法</span> ：レンダリングするマーカーシンボルの数について、絶対値カウントとするか、または密度ベースのカウントとするか</p></li>
<li><p><span class="guilabel">点の数</span> ：レンダリングするマーカーシンボルの数</p></li>
<li><p>オプションの乱数 <span class="guilabel">シード</span> を設定することで、一貫性のある配置にできます</p></li>
<li><p><span class="guilabel">面積密度</span> ：密度ベースのカウント方法の場合は、マップが更新されるたびに、異なるスケールやズームレベルでもマーカーの塗りつぶし密度が同じままとなります（QGISサーバーやタイルベースのレンダリングでもうまく配置されるようなランダム配置も可能です）</p></li>
<li><p><span class="guilabel">ポリゴンでマーカーを切り抜く</span> ：端付近にレンダリングされたマーカーをポリゴン境界で切り抜くかどうか</p></li>
</ul>
</li>
<li><p><strong>ラスタイメージ塗りつぶし</strong> ：ポリゴンをラスタ画像（ <code class="file docutils literal notranslate"><span class="pre">PNG</span></code> 、 <code class="file docutils literal notranslate"><span class="pre">JPG</span></code> 、 <code class="file docutils literal notranslate"><span class="pre">BMP</span></code> 等）でタイル状に塗りつぶします。画像はディスク上のファイルや、リモートURL、文字列でエンコードされた埋め込みファイル（ <a class="reference internal" href="../introduction/general_tools.html#embedded-file-selector"><span class="std std-ref">詳細はこちら</span></a> ）が利用できます。オプション（データ定義可）には、不透明度、画像の幅、座標モード（オブジェクトまたはビューポート）、回転およびオフセットがあります。画像の幅は任意の <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">共通の単位</span></a> を使用するか、画像のオリジナルサイズに対するパーセントで設定できます。</p></li>
<li><p><strong>SVG塗りつぶし</strong>: 与えられた大きさ（<span class="guilabel">テクスチャ幅</span>）の <span class="xref std std-ref">SVGマーカー</span> を用いてポリゴンを塗りつぶします。</p></li>
<li><p><strong>Shapeburst塗りつぶし</strong>: ポリゴンの境界からポリゴンの中心に向かってグラデーションが描かれるグラデーション塗りつぶしをバッファリングします。設定可能なパラメータには、境界からシェードまでの距離、カラーランプまたは単純な2つの色のグラデーションの使用、オプションで塗りつぶしのぼかし、オフセットなどがあります。</p></li>
<li><p><strong>アウトライン：矢印</strong> ：ポリゴン境界の表現にラインの <a class="reference internal" href="#arrow-symbol"><span class="std std-ref">矢印シンボル</span></a> レイヤを使用します。アウトライン矢印の設定は、ラインの矢印シンボルの設定と同様です。</p></li>
<li><p><strong>アウトライン：ハッシュ線</strong> ：ポリゴン境界（ <span class="guilabel">リング</span> ）の表現に <a class="reference internal" href="#hashed-line-symbol"><span class="std std-ref">ハッシュ線シンボル</span></a> レイヤを使用します。リングは、内側リングのみ、外側リングのみ、またはすべてのリングを対象にできます。その他の設定は、ラインのハッシュ線シンボルと同様です。</p></li>
<li><p><strong>アウトライン：マーカーライン</strong> ：ポリゴン境界（ <span class="guilabel">リング</span> ）の表現に <a class="reference internal" href="#marker-line-symbol"><span class="std std-ref">マーカーラインシンボル</span></a> レイヤを使用します。リングは、内側リングのみ、外側リングのみ、またはすべてのリングを対象にできます。その他の設定は、ラインのマーカーラインシンボルと同様です。</p></li>
<li><p><strong>アウトライン：直線（Simple line）</strong> ：ポリゴン境界（ <span class="guilabel">リング</span> ）の表現に <a class="reference internal" href="#simple-line-symbol"><span class="std std-ref">直線シンボル</span></a> レイヤを使用します。リングは、内側リングのみ、外側リングのみ、またはすべてのリングを対象にできます。 <span class="guilabel">ポリゴンの内部にだけ線を描画する</span> オプションは、ポリゴンの内側にポリゴン境界線を表示することで、隣接するポリゴンの境界線をわかりやすく表現するのに便利です。その他の設定は、ラインシンボルと同様です。</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>ジオメトリタイプがポリゴンの場合、ライン/ポリゴンのキャンバス範囲への自動クリッピングを無効にするよう選択することができます。いくつかのケース（例：中心点塗りつぶしで、中心が常に実際の地物の中心でなければならない場合など）では、クリッピングによって好ましくないシンボロジが発生してしまうことがあります。</p>
</div>
</section>
<section id="parametrizable-svg">
<span id="svg-symbol"></span><h4><a class="toc-backref" href="#id24" role="doc-backlink">パラメータ付きSVG</a><a class="headerlink" href="#parametrizable-svg" title="Link to this heading"></a></h4>
<p>You have the possibility to change the colors of a <span class="guilabel">SVG marker</span>.
You have to add the placeholders <code class="docutils literal notranslate"><span class="pre">param(fill)</span></code> for fill color, <code class="docutils literal notranslate"><span class="pre">param(fill-opacity)</span></code> for
fill opacity, <code class="docutils literal notranslate"><span class="pre">param(outline)</span></code> and <code class="docutils literal notranslate"><span class="pre">param(outline-opacity)</span></code> for stroke color and opacity respectively,
and <code class="docutils literal notranslate"><span class="pre">param(outline-width)</span></code> for stroke width. These placeholders can optionally
be followed by a default value, e.g.:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;svg</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100%&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;100%&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;rect</span><span class="w"> </span><span class="na">fill=</span><span class="s">&quot;param(fill) #ff0000&quot;</span><span class="w"> </span><span class="na">fill-opacity=</span><span class="s">&quot;param(fill-opacity) 1&quot;</span><span class="w"> </span><span class="na">stroke=</span><span class="s">&quot;param(outline) #00ff00&quot;</span><span class="w"> </span><span class="na">stroke-opacity=</span><span class="s">&quot;param(outline-opacity) 1&quot;</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;param(outline-width) 10&quot;</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;100&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;100&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/rect&gt;</span>
<span class="nt">&lt;/svg&gt;</span>
</pre></div>
</div>
<p>より一般的には、SVGでは <code class="docutils literal notranslate"><span class="pre">param(param_name)</span></code> を使用して自由にパラメータを設定することができます。このパラメータは属性値としても、ノードテキストとしても利用できます：</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;g</span><span class="w"> </span><span class="na">stroke-width=</span><span class="s">&quot;.265&quot;</span><span class="w"> </span><span class="na">text-anchor=</span><span class="s">&quot;middle&quot;</span><span class="w"> </span><span class="na">alignment-baseline=</span><span class="s">&quot;param(align)&quot;</span><span class="nt">&gt;</span>
<span class="w">  </span><span class="nt">&lt;text</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;98&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;147.5&quot;</span><span class="w"> </span><span class="na">font-size=</span><span class="s">&quot;6px&quot;</span><span class="nt">&gt;</span>param(text1)<span class="nt">&lt;/text&gt;</span>
<span class="w">  </span><span class="nt">&lt;text</span><span class="w"> </span><span class="na">x=</span><span class="s">&quot;98&quot;</span><span class="w"> </span><span class="na">y=</span><span class="s">&quot;156.3&quot;</span><span class="w"> </span><span class="na">font-size=</span><span class="s">&quot;4.5px&quot;</span><span class="nt">&gt;</span>param(text2)<span class="nt">&lt;/text&gt;</span>
<span class="nt">&lt;/g&gt;</span>
</pre></div>
</div>
<p>このパラメータは、 <span class="guilabel">Dynamic SVG parameters</span> テーブル内で式として定義できます。</p>
<figure class="align-center" id="id13">
<img alt="../../../_images/svg_parameters.png" src="../../../_images/svg_parameters.png" />
<figcaption>
<p><span class="caption-number">図 14.20 </span><span class="caption-text">Dynamic SVG parameters テーブル</span><a class="headerlink" href="#id13" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>QGIS is looking for a complete SVG node. So if your parameter is within a more complex node,
you need to inject the complete node with the expression.
For instance, <code class="docutils literal notranslate"><span class="pre">transform=&quot;rotate(param(angle)&quot;</span></code> will not work.
Instead, you need to do <code class="docutils literal notranslate"><span class="pre">transform=&quot;param(rotation)&quot;</span></code> and <code class="docutils literal notranslate"><span class="pre">rotation</span></code> parameter will be defined
with the expression <code class="docutils literal notranslate"><span class="pre">'rotate('</span> <span class="pre">||</span> <span class="pre">coalesce(my_field,</span> <span class="pre">0)</span> <span class="pre">||</span> <span class="pre">')'</span></code>.</p>
</div>
</section>
<section id="the-geometry-generator">
<span id="geometry-generator-symbol"></span><h4><a class="toc-backref" href="#id25" role="doc-backlink">ジオメトリジェネレータ</a><a class="headerlink" href="#the-geometry-generator" title="Link to this heading"></a></h4>
<p>Available with all types of symbols, the <span class="guilabel">geometry generator</span> symbol
layer allows to use <a class="reference internal" href="../expressions/expression.html#expression-builder"><span class="std std-ref">expression syntax</span></a> to generate a
geometry on the fly during the rendering process. The resulting geometry does
not have to match with the original <span class="guilabel">Geometry type</span> and you can add
several differently modified symbol layers on top of each other.</p>
<p><span class="guilabel">単位</span> プロパティを設定できます。ジオメトリジェネレータシンボルがレイヤに適用されるのではない場合（例えばレイアウトアイテムで使用する場合）、このプロパティによって、生成される出力結果をより制御しやすくなります。</p>
<p>いくつかの例：</p>
<ul>
<li><p>Render symbol as the centroid of a feature</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>centroid( $geometry )
</pre></div>
</div>
</li>
<li><p>Visually overlap features within a 100 map units distance from a point feature,
i.e generate a 100m buffer around the point</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>buffer( $geometry, 100 )
</pre></div>
</div>
</li>
<li><p>Create a radial effect of points surrounding the central feature point
when used as a MultiPoint geometry generator</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>collect_geometries(
 array_foreach(
  generate_series( 0, 330, 30 ),
  project( $geometry, 3, radians( @element ) )
 )
)
</pre></div>
</div>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../../_images/radial_symbols.png"><img alt="../../../_images/radial_symbols.png" src="../../../_images/radial_symbols.png" style="width: 100%;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
</li>
<li><p>Create a radial effect of points surrounding the central feature point.
The number of points varies based on a field.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>with_variable(
 &#39;symbol_numbers&#39;,
 ceil(fid/10),
 collect_geometries(
  array_foreach(
   generate_series( 0, 360, 360/@symbol_numbers ),
   project( $geometry, 2, radians( @element ) )
  )
 )
)
</pre></div>
</div>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../../_images/radial_symbols_datadefined.png"><img alt="../../../_images/radial_symbols_datadefined.png" src="../../../_images/radial_symbols_datadefined.png" style="width: 100%;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
</li>
<li><p>Create a curved arrow line connecting features of two layers based on their <a class="reference internal" href="../introduction/qgis_configuration.html#project-relations"><span class="std std-ref">relation</span></a></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15.0%" />
<col style="width: 85.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>collect_geometries(
 with_variable(
  &#39;destination_points&#39;,
  relation_aggregate(
   &#39;the_relation_id&#39;,
   &#39;array_agg&#39;,
   centroid( $geometry )
  ),
  array_foreach(
   @destination_points,
   make_line(
    centroid( @geometry ),
    project(
     centroid(
      make_line( centroid( @geometry ), @element )
     ),
     10, 50
    ),
    @element
   )
  )
 )
)
</pre></div>
</div>
</td>
<td><figure class="align-center">
<a class="reference internal image-reference" href="../../../_images/arrow_relations.png"><img alt="../../../_images/arrow_relations.png" src="../../../_images/arrow_relations.png" style="width: 100%;" /></a>
</figure>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</section>
<section id="the-vector-field-marker">
<span id="vector-field-marker"></span><h4><a class="toc-backref" href="#id26" role="doc-backlink">ベクタフィールドマーカー</a><a class="headerlink" href="#the-vector-field-marker" title="Link to this heading"></a></h4>
<p>ベクタフィールドマーカーは、地殻変動や潮汐流などのベクトル場データを表示するために使用されます。これはベクトル量を、データ点の選択された属性に応じてスケーリングされ方向付けられた線（可能ならば矢印）として表示します。これはポイントデータの描画にのみ使用でき、ラインやポリゴンレイヤはこのシンボロジでは描画できません。</p>
<p>ベクトル場はデータの属性によって定義され、 以下のどれかで表されます：</p>
<ul class="simple">
<li><p><strong>デカルト座標</strong> 成分（フィールドの <code class="docutils literal notranslate"><span class="pre">x</span></code> と <code class="docutils literal notranslate"><span class="pre">y</span></code> 成分）</p></li>
<li><p>または <strong>極座標</strong> 系：この場合には、属性は <code class="docutils literal notranslate"><span class="pre">長さ</span></code> と <code class="docutils literal notranslate"><span class="pre">角度</span></code> を定義します。角度は北から時計回りに測るか、東から反時計回りに測るかを選べ、角度単位は度もしくはラジアンです。</p></li>
<li><p><strong>高さのみ</strong> データ：これはデータの属性値を使ってスケーリングされた垂直方向の矢印を表示します。これは、例えば変形の鉛直成分を表現するのに適しています。</p></li>
</ul>
<p>フィールドの大きさは、フィールドを見るのに適したサイズに拡大・縮小することができます。</p>
</section>
<section id="animated-marker">
<span id="index-0"></span><span id="id2"></span><h4><a class="toc-backref" href="#id27" role="doc-backlink">Animated marker</a><a class="headerlink" href="#animated-marker" title="Link to this heading"></a></h4>
<p>Animated marker symbol type allows you to use a <code class="file docutils literal notranslate"><span class="pre">.GIF</span></code>, <code class="file docutils literal notranslate"><span class="pre">.WebP</span></code>,
<code class="file docutils literal notranslate"><span class="pre">.MNG</span></code>, etc. animation file to represent points on your map.
You can specify:</p>
<ul class="simple">
<li><p><span class="guilabel">File</span> path,</p></li>
<li><p><span class="guilabel">Frame rate</span>: number of steps that are shown per second,
indicating how fast the animation is played,</p></li>
<li><p><span class="guilabel">Size</span> in any <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">supported unit</span></a>,</p></li>
<li><p><span class="guilabel">Opacity</span>,</p></li>
<li><p><span class="guilabel">Rotation</span>,</p></li>
<li><p><span class="guilabel">Offset</span> in <span class="guilabel">x</span> and <span class="guilabel">y</span> directions
from the marker position,</p></li>
<li><p><span class="guilabel">Anchor point</span></p></li>
</ul>
<p>There are two ways to handle animated symbols:</p>
<ul>
<li><p><strong>When your map is not configured as an animation</strong> (i.e. it's a standard QGIS
project without animations), the frame for the animated markers will be
determined solely by the current timestamp.</p>
<figure class="align-center" id="id14">
<a class="reference internal image-reference" href="../../../_images/animated_marker_map.gif"><img alt="../../../_images/animated_marker_map.gif" src="../../../_images/animated_marker_map.gif" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">図 14.21 </span><span class="caption-text">Animated marker when map is not configured as animation</span><a class="headerlink" href="#id14" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
<li><p><strong>When your map is</strong> <a class="reference internal" href="../map_views/map_view.html#maptimecontrol"><span class="std std-ref">configured as an animation</span></a>,
the animated markers will sync with the animation's timeline.
This means that animated markers will pause when the animation is paused,
progress with the animation, and so forth. The map will also be redrawn
according to the frame rate established for temporal animation. This mode
is also applied when exporting an animation using the temporal controller.</p>
<figure class="align-center" id="id15">
<a class="reference internal image-reference" href="../../../_images/animated_marker_animation.gif"><img alt="../../../_images/animated_marker_animation.gif" src="../../../_images/animated_marker_animation.gif" style="width: 100%;" /></a>
<figcaption>
<p><span class="caption-number">図 14.22 </span><span class="caption-text">Animated marker when map is configured as animation</span><a class="headerlink" href="#id15" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ul>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="style_manager.html" class="btn btn-neutral float-left" title="14.1. スタイルマネージャ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="label_settings.html" class="btn btn-neutral float-right" title="14.3. ラベルの設定" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">最終更新: 2024 5月 30, 01:33 +0900
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/style_library/symbol_selector.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/user_manual/style_library/symbol_selector.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/user_manual/style_library/symbol_selector.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/user_manual/style_library/symbol_selector.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/user_manual/style_library/symbol_selector.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/user_manual/style_library/symbol_selector.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/user_manual/style_library/symbol_selector.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/style_library/symbol_selector.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/user_manual/style_library/symbol_selector.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/user_manual/style_library/symbol_selector.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/user_manual/style_library/symbol_selector.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/user_manual/style_library/symbol_selector.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/user_manual/style_library/symbol_selector.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/user_manual/style_library/symbol_selector.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/user_manual/style_library/symbol_selector.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/user_manual/style_library/symbol_selector.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/ja/docs/user_manual/style_library/symbol_selector.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/ja/docs/user_manual/style_library/symbol_selector.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/style_library/symbol_selector.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/ja/docs/user_manual/style_library/symbol_selector.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/ja/docs/user_manual/style_library/symbol_selector.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/ja/docs/user_manual/style_library/symbol_selector.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/ja/docs/user_manual/style_library/symbol_selector.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/ja/docs/user_manual/style_library/symbol_selector.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/ja/docs/user_manual/style_library/symbol_selector.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/user_manual/style_library/symbol_selector.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#ja/30f9aa79b0963190013fe6e3c03b2f73" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/ja" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>