<!DOCTYPE html>
<html class="writer-html5" lang="ja" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.2. Webマップサービス (WMS) &mdash; QGIS Documentation  ドキュメント</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/server_manual/services/wms.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=c033477b"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script src="../../../_static/translations.js?v=4dbe4bdc"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../../genindex.html" />
    <link rel="search" title="検索" href="../../../search.html" />
    <link rel="next" title="3.3. Web Feature Service (WFS)" href="wfs.html" />
    <link rel="prev" title="3.1. 基本" href="basics.html" />
  <meta name="description" content="QGIS 3.34 documentation: 3.2. Webマップサービス (WMS)">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">ユーザ向け</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../user_manual/index.html">QGIS Desktopユーザーガイド／マニュアル (QGIS 3.34)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">QGIS Serverガイド／マニュアル (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../introduction.html">1. はじめに</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started.html">2. 最初のステップ</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../services.html">3. サービス</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="basics.html">3.1. 基本</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">3.2. Webマップサービス (WMS)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#getcapabilities">3.2.1. GetCapabilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getmap">3.2.2. GetMap</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getfeatureinfo">3.2.3. GetFeatureInfo</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getlegendgraphic">3.2.4. GetLegendGraphic</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getstyle-s">3.2.5. GetStyle(s)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#describelayer">3.2.6. DescribeLayer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getprint">3.2.7. GetPrint</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getprojectsettings">3.2.8. GetProjectSettings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#getschemaextension">3.2.9. GetSchemaExtension</a></li>
<li class="toctree-l4"><a class="reference internal" href="#external-wms-layers">3.2.10. 外部WMSレイヤ</a></li>
<li class="toctree-l4"><a class="reference internal" href="#redlining">3.2.11. 赤線引き</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="wfs.html">3.3. Web Feature Service (WFS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="wcs.html">3.4. Web Coverage Service (WCS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="wmts.html">3.5. ウェブマップタイルサービス(WMTS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ogcapif.html">3.6. OGC API機能</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../catalog.html">4. カタログ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins.html">5. プラグイン</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config.html">6. 高度な構成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../development_server.html">7. 開発用サーバ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../containerized_deployment.html">8. コンテナによるデプロイメント</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html">9. よくある質問</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../training_manual/index.html">トレーニングマニュアル</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gentle_gis_introduction/index.html">やさしい GIS 入門</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ドキュメント執筆者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_guidelines/index.html">ドキュメント作成のガイドライン</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">開発者向け</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyqgis_developer_cookbook/index.html">PyQGISクックブック (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/index.html">開発者ガイド</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">QGIS Server ガイド / マニュアル</a></li>
          <li class="breadcrumb-item"><a href="../services.html"><span class="section-number">3. </span>サービス</a></li>
      <li class="breadcrumb-item active"><span class="section-number">3.2. </span>Webマップサービス (WMS)</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/server_manual/services/wms.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="basics.html" class="btn btn-neutral float-left" title="3.1. 基本" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wfs.html" class="btn btn-neutral float-right" title="3.3. Web Feature Service (WFS)" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div><div class="admonition important">
<p class="admonition-title">重要</p>
<p>翻訳は <a class="reference external" href="https://qgis.org/en/site/getinvolved/translate.html#becoming-a-translator">あなたが参加できる</a> コミュニティの取り組みです。このページは現在 96.73% 翻訳されています。</p>
</div>
</div></blockquote>
<section id="web-map-service-wms">
<h1><span class="section-number">3.2. </span>Webマップサービス (WMS)<a class="headerlink" href="#web-map-service-wms" title="Link to this heading"></a></h1>
<p>QGISサーバに実装された <strong>1.1.1</strong> と <strong>1.3.0</strong> のWMS標準は、QGISプロジェクトから作成された地図又は凡例画像を要求するためのHTTPインターフェースを提供します。典型的なWMSリクエストは、使用するQGISプロジェクト、レンダリングするレイヤ、生成する画像の形式を決定します。<strong>Styled Layer Descriptor (SLD)</strong> ではベーシックサポートも利用できます。</p>
<p>仕様:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://portal.ogc.org/files/?artifact_id=1081&amp;amp;version=1&amp;amp;format=pdf">WMS 1.1.1</a></p></li>
<li><p><a class="reference external" href="https://portal.ogc.org/files/?artifact_id=14416&amp;format=pdf">WMS 1.3.0</a></p></li>
<li><p><a class="reference external" href="https://portal.ogc.org/files/?artifact_id=22364&amp;format=pdf">SLD 1.1.0 WMS profile</a></p></li>
</ul>
<p>QGIS Serverが提供する標準リクエスト</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>リクエスト</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getcapabilities"><span class="std std-ref">GetCapabilities</span></a></p></td>
<td><p>サーバーに関する情報を含むXMLメタデータを返します</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getmap"><span class="std std-ref">GetMap</span></a></p></td>
<td><p>マップを返します</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getfeatureinfo"><span class="std std-ref">GetFeatureInfo</span></a></p></td>
<td><p>ピクセル位置のデータ（ジオメトリと値）を取得します</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic"><span class="std std-ref">GetLegendGraphic</span></a></p></td>
<td><p>凡例シンボルを返します</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getstyle"><span class="std std-ref">GetStyle(s)</span></a></p></td>
<td><p>SLD によるスタイル記述の XML 文書を返します</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-describelayer"><span class="std std-ref">DescribeLayer</span></a></p></td>
<td><p>ベクタレイヤとラスタレイヤについて、それぞれWFSとWCSの有無に関する情報を返します</p></td>
</tr>
</tbody>
</table>
<p>QGIS Serverが提供するベンダーのリクエスト：</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>リクエスト</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getprint"><span class="std std-ref">GetPrint</span></a></p></td>
<td><p>QGISのレイアウトを返します</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getprojectsettings"><span class="std std-ref">GetProjectSettings</span></a></p></td>
<td><p>QGIS Server に関する特定の情報を返します</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getschemaextension"><span class="std std-ref">GetSchemaExtension</span></a></p></td>
<td><p>オプションの拡張機能に関する XML メタデータを返します</p></td>
</tr>
</tbody>
</table>
<section id="getcapabilities">
<span id="wms-getcapabilities"></span><h2><span class="section-number">3.2.1. </span>GetCapabilities<a class="headerlink" href="#getcapabilities" title="Link to this heading"></a></h2>
<p>OGC WMS 1.1.1 及び 1.3.0 仕様に従った <strong>GetCapabilities</strong> リクエストの標準パラメータ:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-service"><span class="std std-ref">SERVICE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスの名称 (<strong>WMS</strong>)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="basics.html#services-basics-request"><span class="std std-ref">REQUEST</span></a></p></td>
<td><p>Yes</p></td>
<td><p>リクエストの名称 (<strong>GetCapabilities</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-version"><span class="std std-ref">VERSION</span></a></p></td>
<td><p>No</p></td>
<td><p>サービスのバージョン</p></td>
</tr>
</tbody>
</table>
<p><strong>GetCapabilities</strong> リクエストは以下のベンダーパラメータもサポートしています:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-map"><span class="std std-ref">MAP</span></a></p></td>
<td><p>Yes</p></td>
<td><p>QGISプロジェクトファイル</p></td>
</tr>
</tbody>
</table>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetCapabilities
</pre></div>
</div>
</section>
<section id="getmap">
<span id="wms-getmap"></span><h2><span class="section-number">3.2.2. </span>GetMap<a class="headerlink" href="#getmap" title="Link to this heading"></a></h2>
<p>OGC WMS 1.1.1 及び 1.3.0 仕様に従った <strong>GetMap</strong> リクエストの標準パラメータ:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-service"><span class="std std-ref">SERVICE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスの名称 (<strong>WMS</strong>)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="basics.html#services-basics-request"><span class="std std-ref">REQUEST</span></a></p></td>
<td><p>Yes</p></td>
<td><p>リクエストの名称 (<strong>GetMap</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-version"><span class="std std-ref">VERSION</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスのバージョン</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-layers"><span class="std std-ref">LAYERS</span></a></p></td>
<td><p>No</p></td>
<td><p>表示するレイヤ</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-styles"><span class="std std-ref">STYLES</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤのスタイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-srs"><span class="std std-ref">SRS / CRS</span></a></p></td>
<td><p>Yes</p></td>
<td><p>座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-bbox"><span class="std std-ref">BBOX</span></a></p></td>
<td><p>Yes</p></td>
<td><p>マップの範囲</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-width"><span class="std std-ref">WIDTH</span></a></p></td>
<td><p>Yes</p></td>
<td><p>ピクセル単位の画像の幅</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-height"><span class="std std-ref">HEIGHT</span></a></p></td>
<td><p>Yes</p></td>
<td><p>ピクセル単位の画像の高さ</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getmap-format"><span class="std std-ref">FORMAT</span></a></p></td>
<td><p>No</p></td>
<td><p>画像の形式</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-transparent"><span class="std std-ref">TRANSPARENT</span></a></p></td>
<td><p>No</p></td>
<td><p>透明な背景</p></td>
</tr>
<tr class="row-odd"><td><p>SLD</p></td>
<td><p>No</p></td>
<td><p>スタイリングに使用するSLDのURL</p></td>
</tr>
<tr class="row-even"><td><p>SLD_BODY</p></td>
<td><p>No</p></td>
<td><p>スタイリングに使用するインラインSLD(XML)</p></td>
</tr>
</tbody>
</table>
<p>QGIS Serverでは、標準的なものに加えて、 <a class="reference internal" href="#wms-redlining"><span class="std std-ref">redlining</span></a>、 <a class="reference internal" href="#wms-external"><span class="std std-ref">external WMS layers</span></a>、および以下の追加パラメータがサポートされています:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21.1%" />
<col style="width: 10.5%" />
<col style="width: 68.4%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-map"><span class="std std-ref">MAP</span></a></p></td>
<td><p>Yes</p></td>
<td><p>QGISプロジェクトファイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-bgcolor"><span class="std std-ref">BGCOLOR</span></a></p></td>
<td><p>No</p></td>
<td><p>背景色を指定します</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-dpi"><span class="std std-ref">DPI</span></a></p></td>
<td><p>No</p></td>
<td><p>出力解像度を指定します</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-imagequality"><span class="std std-ref">IMAGE_QUALITY</span></a></p></td>
<td><p>No</p></td>
<td><p>JPEG圧縮</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-opacities"><span class="std std-ref">OPACITIES</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤまたはグループの不透明度</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-filter"><span class="std std-ref">FILTER</span></a></p></td>
<td><p>No</p></td>
<td><p>地物のサブセット</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-selection"><span class="std std-ref">SELECTION</span></a></p></td>
<td><p>No</p></td>
<td><p>地物を強調します</p></td>
</tr>
<tr class="row-odd"><td><p>FILE_NAME</p></td>
<td><p>No</p></td>
<td><p>ダウンロードするファイルのファイル名</p>
<p><code class="docutils literal notranslate"><span class="pre">FORMAT=application/dxf</span></code> の場合のみ</p>
</td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getmap-formatoptions"><span class="std std-ref">FORMAT_OPTIONS</span></a></p></td>
<td><p>No</p></td>
<td><p>指定されたファイル形式のオプション</p>
<p><code class="docutils literal notranslate"><span class="pre">FORMAT=application/dxf</span></code> の場合のみ</p>
</td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-tiled"><span class="std std-ref">TILED</span></a></p></td>
<td><p>No</p></td>
<td><p><em>tiledモード</em> での作業</p></td>
</tr>
</tbody>
</table>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">MAP</span><span class="o">=</span>/home/qgis/projects/world.qgs
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>mylayer1,mylayer2,mylayer3
<span class="p">&amp;</span><span class="nv">STYLES</span><span class="o">=</span>style1,default,style3
<span class="p">&amp;</span><span class="nv">OPACITIES</span><span class="o">=</span><span class="m">125</span>,200,125
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">WIDTH</span><span class="o">=</span><span class="m">400</span>
<span class="p">&amp;</span><span class="nv">HEIGHT</span><span class="o">=</span><span class="m">400</span>
<span class="p">&amp;</span><span class="nv">FORMAT</span><span class="o">=</span>image/png
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">DPI</span><span class="o">=</span><span class="m">300</span>
<span class="p">&amp;</span><span class="nv">TILED</span><span class="o">=</span>TRUE
</pre></div>
</div>
<section id="version">
<span id="wms-version"></span><h3>VERSION<a class="headerlink" href="#version" title="Link to this heading"></a></h3>
<p>このパラメータでは、使用するサービスのバージョンを指定することができます。<code class="docutils literal notranslate"><span class="pre">VERSION</span></code> パラメータに指定できる値は以下の通りです:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">1.1.1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1.3.0</span></code></p></li>
</ul>
<p>バージョン番号によって、次のパラメータで説明するように、若干の違いがあることが予想されます:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CRS</span></code> / <code class="docutils literal notranslate"><span class="pre">SRS</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">BBOX</span></code></p></li>
</ul>
</section>
<section id="layers">
<span id="wms-layers"></span><h3>LAYERS<a class="headerlink" href="#layers" title="Link to this heading"></a></h3>
<p>マップ上に表示するレイヤーを指定するパラメータです。名前はカンマで区切る必要があります。</p>
<p>さらに、QGIS Serverでは、レイヤを選択するためのオプションがいくつか導入されています:</p>
<ul class="simple">
<li><p>the layer id: the project option allowing to select layers by their id
is in <span class="menuselection">QGIS Server ► WMS</span> tab of the <span class="menuselection">Project ► Properties...</span> dialog.
Check the <span class="guilabel">Use layer ids as names</span> checkbox to activate this option.</p></li>
<li><p><a class="reference internal" href="basics.html#services-basics-short-name"><span class="std std-ref">短い名前</span></a></p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>mylayerid1,mylayerid2
<span class="p">&amp;</span>...
</pre></div>
</div>
</section>
<section id="styles">
<span id="wms-styles"></span><h3>STYLES<a class="headerlink" href="#styles" title="Link to this heading"></a></h3>
<p>このパラメータは、レンダリングステップのレイヤのスタイルを指定するために使用されます。スタイルはカンマで区切る必要があります。デフォルトのスタイル名は <code class="docutils literal notranslate"><span class="pre">default</span></code> です。</p>
</section>
<section id="srs-crs">
<span id="wms-srs"></span><h3>SRS / CRS<a class="headerlink" href="#srs-crs" title="Link to this heading"></a></h3>
<p>このパラメータは、WMS <strong>1.1.1</strong> におけるマップ出力の空間参照系を示すもので、<code class="docutils literal notranslate"><span class="pre">EPSG:XXXX</span></code> のような形式で指定する必要があります。なお、現在のバージョンが <strong>1.1.1</strong> の場合は <code class="docutils literal notranslate"><span class="pre">CRS</span></code> もサポートされます。</p>
<p>WMS <strong>1.3.0</strong> では、<code class="docutils literal notranslate"><span class="pre">CRS</span></code> パラメータが望ましいですが、<code class="docutils literal notranslate"><span class="pre">SRS</span></code> もサポートされています。</p>
<p>もし <code class="docutils literal notranslate"><span class="pre">CRS</span></code> と <code class="docutils literal notranslate"><span class="pre">SRS</span></code> の両方のパラメータがリクエストに含まれていた場合、 <code class="docutils literal notranslate"><span class="pre">VERSION</span></code> パラメータで示される現在のバージョンが決定的に重要であることに注意してください。</p>
<p>次のケースでは、<code class="docutils literal notranslate"><span class="pre">CRS</span></code> が指示されていないため、<code class="docutils literal notranslate"><span class="pre">SRS</span></code> パラメータは <code class="docutils literal notranslate"><span class="pre">VERSION</span></code> パラメータが何であろうと保持されます:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">SRS</span><span class="o">=</span>EPSG:2854
<span class="p">&amp;</span>...
</pre></div>
</div>
<p>次のケースでは、<code class="docutils literal notranslate"><span class="pre">VERSION</span></code> パラメータのため、<code class="docutils literal notranslate"><span class="pre">CRS</span></code> の代わりに``SRS``パラメータが保持されます:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.1.1
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">SRS</span><span class="o">=</span>EPSG:2854
<span class="p">&amp;</span>...
</pre></div>
</div>
<p>次のケースでは、<code class="docutils literal notranslate"><span class="pre">VERSION</span></code> パラメータのため、<code class="docutils literal notranslate"><span class="pre">SRS</span></code> の代わりに <code class="docutils literal notranslate"><span class="pre">CRS</span></code> パラメータが保持されます：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">SRS</span><span class="o">=</span>EPSG:2854
<span class="p">&amp;</span>...
</pre></div>
</div>
</section>
<section id="bbox">
<span id="wms-bbox"></span><h3>BBOX<a class="headerlink" href="#bbox" title="Link to this heading"></a></h3>
<p>このパラメータを使用すると、現在のCRSに従った単位でマップの範囲を指定することができます。座標はカンマで区切る必要があります。</p>
<p><code class="docutils literal notranslate"><span class="pre">BBOX</span></code> パラメータは <code class="docutils literal notranslate"><span class="pre">min_a,min_b,max_a,max_b</span></code> のように形成されますが、<code class="docutils literal notranslate"><span class="pre">a</span></code> と <code class="docutils literal notranslate"><span class="pre">b</span></code> の軸の定義は、現在の <code class="docutils literal notranslate"><span class="pre">VERSION</span></code> パラメータによって異なります:</p>
<ul class="simple">
<li><p>WMS <strong>1.1.1</strong> において、軸の順序は常に東／北です</p></li>
<li><p>WMS <strong>1.3.0</strong> において、軸の順序はCRSの権限に依存します</p></li>
</ul>
<p>例えば <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code> と WMS <strong>1.1.1</strong> の場合、<code class="docutils literal notranslate"><span class="pre">a</span></code> は経度（東）、<code class="docutils literal notranslate"><span class="pre">b</span></code> は緯度（北）で、次のようなリクエストとなります:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.1.1
<span class="p">&amp;</span><span class="nv">SRS</span><span class="o">=</span>epsg:4326
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span>-180,-90,180,90
<span class="p">&amp;</span>...
</pre></div>
</div>
<p>しかし、WMS <strong>1.3.0</strong> の場合、EPSGデータベースで定義されている軸の順序は北/東なので、<code class="docutils literal notranslate"><span class="pre">a</span></code> は緯度、<code class="docutils literal notranslate"><span class="pre">b</span></code> は経度です：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>epsg:4326
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span>-90,-180,90,180
<span class="p">&amp;</span>...
</pre></div>
</div>
</section>
<section id="width">
<span id="wms-width"></span><h3>WIDTH<a class="headerlink" href="#width" title="Link to this heading"></a></h3>
<p>出力画像の幅をピクセル単位で指定することができるパラメータです。</p>
</section>
<section id="height">
<span id="wms-height"></span><h3>HEIGHT<a class="headerlink" href="#height" title="Link to this heading"></a></h3>
<p>出力画像の高さをピクセル単位で指定することができるパラメータです。</p>
</section>
<section id="format">
<span id="wms-getmap-format"></span><h3>FORMAT<a class="headerlink" href="#format" title="Link to this heading"></a></h3>
<p>このパラメータは、マップ画像の形式を指定するために使うことができます。使用可能な値は次の通りです:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">jpg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jpeg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/jpeg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/png</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/png;</span> <span class="pre">mode=1bit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/png;</span> <span class="pre">mode=8bit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/png;</span> <span class="pre">mode=16bit</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/webp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">application/dxf</span></code>: WFSサービスで読み取り権限を持つレイヤーのみがDXF形式でエクスポートされます</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">FORMAT</span><span class="o">=</span>application/dxf
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>Haltungen,Normschacht,Spezialbauwerke
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG%3A21781
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">696136</span>.28844801,245797.12108743,696318.91114315,245939.25832905
<span class="p">&amp;</span><span class="nv">WIDTH</span><span class="o">=</span><span class="m">1042</span>
<span class="p">&amp;</span><span class="nv">HEIGHT</span><span class="o">=</span><span class="m">811</span>
<span class="p">&amp;</span><span class="nv">FORMAT_OPTIONS</span><span class="o">=</span>MODE:SYMBOLLAYERSYMBOLOGY<span class="p">;</span>SCALE:250
<span class="p">&amp;</span><span class="nv">FILE_NAME</span><span class="o">=</span>plan.dxf
</pre></div>
</div>
</li>
</ul>
</section>
<section id="transparent">
<span id="wms-transparent"></span><h3>TRANSPARENT<a class="headerlink" href="#transparent" title="Link to this heading"></a></h3>
<p>この ブール型パラメータを使って、背景の不透明度を指定することができます。使用可能な値は以下の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
<p>ただし、<code class="docutils literal notranslate"><span class="pre">FORMAT</span></code> で示される画像の形式がPNGと異なる場合、このパラメータは無視されます。</p>
</section>
<section id="bgcolor">
<span id="wms-bgcolor"></span><h3>BGCOLOR<a class="headerlink" href="#bgcolor" title="Link to this heading"></a></h3>
<p>このパラメータはマップ画像の背景色を指定することができます。ただし、PNG画像の場合は <code class="docutils literal notranslate"><span class="pre">TRANSPARENT</span></code> パラメータと組み合わせることができません（透明度が優先されます）。色はリテラルでも16進数でもかまいません。</p>
<p>リテラル表記によるURLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">BGCOLOR</span><span class="o">=</span>green
<span class="p">&amp;</span>...
</pre></div>
</div>
<p>16進数表記によるURLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">BGCOLOR</span><span class="o">=</span>0x00FF00
<span class="p">&amp;</span>...
</pre></div>
</div>
</section>
<section id="dpi">
<span id="wms-dpi"></span><h3>DPI<a class="headerlink" href="#dpi" title="Link to this heading"></a></h3>
<p>このパラメータを使って、要求される出力分解能を指定することができます。</p>
</section>
<section id="image-quality">
<span id="wms-imagequality"></span><h3>IMAGE_QUALITY<a class="headerlink" href="#image-quality" title="Link to this heading"></a></h3>
<p>このパラメータは、JPEG画像に対してのみ使用されます。デフォルトでは、JPEGの圧縮率は <code class="docutils literal notranslate"><span class="pre">-1</span></code> です。</p>
<p>QGISプロジェクトごとのデフォルトは、 <span class="menuselection">プロジェクト ► プロパティ...</span> ダイアログの <span class="menuselection">OWS Server ► WMS capabilities</span> メニューで変更することができます。<code class="docutils literal notranslate"><span class="pre">GetMap</span></code> リクエストでオーバーライドしたい場合は、<code class="docutils literal notranslate"><span class="pre">IMAGE_QUALITY</span></code> パラメータを使用することができます。</p>
</section>
<section id="opacities">
<span id="wms-opacities"></span><h3>OPACITIES<a class="headerlink" href="#opacities" title="Link to this heading"></a></h3>
<p>不透明度の値をカンマで区切ったリストです。不透明度は、レイヤまたはグループレベルで設定することができます。設定可能な値は、<code class="docutils literal notranslate"><span class="pre">0</span></code> （完全に透明）から <code class="docutils literal notranslate"><span class="pre">255</span></code> （完全に不透明）までの範囲です。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">WIDTH</span><span class="o">=</span><span class="m">400</span>
<span class="p">&amp;</span><span class="nv">HEIGHT</span><span class="o">=</span><span class="m">200</span>
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">42</span>,-6,52,15
<span class="p">&amp;</span><span class="nv">OPACITIES</span><span class="o">=</span><span class="m">255</span>,0
</pre></div>
</div>
<figure class="align-center" id="id7">
<img alt="../../../_images/wms_getmap_opacities.png" src="../../../_images/wms_getmap_opacities.png" />
<figcaption>
<p><span class="caption-number">図 3.2 </span><span class="caption-text">左は <code class="docutils literal notranslate"><span class="pre">OPACITIES=255,0</span></code>、右は``OPACITIES=255,255``</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="filter">
<span id="wms-filter"></span><h3>FILTER<a class="headerlink" href="#filter" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">FILTER</span></code> パラメータを使用すると、レイヤーのサブセットを選択することができます。構文は基本的にQGISのサブセット文字列と同じです。ただし、QGIS Serverを介したデータベースへのSQLインジェクションを避けるために、いくつかの制限があります。パラメータに危険な文字列が見つかった場合、QGIS Serverは次のエラーを返します：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&lt;ServiceExceptionReport&gt;
<span class="w">  </span>&lt;ServiceException<span class="w"> </span><span class="nv">code</span><span class="o">=</span><span class="s2">&quot;Security&quot;</span>&gt;The<span class="w"> </span>filter<span class="w"> </span>string<span class="w"> </span>XXXXXXXXX<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>rejected<span class="w"> </span>because<span class="w"> </span>of<span class="w"> </span>security<span class="w"> </span>reasons.
<span class="w">  </span>Note:<span class="w"> </span>Text<span class="w"> </span>strings<span class="w"> </span>have<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>enclosed<span class="w"> </span><span class="k">in</span><span class="w"> </span>single<span class="w"> </span>or<span class="w"> </span>double<span class="w"> </span>quotes.<span class="w"> </span>A<span class="w"> </span>space<span class="w"> </span>between<span class="w"> </span>each<span class="w"> </span>word<span class="w"> </span>/<span class="w"> </span>special<span class="w"> </span>character<span class="w"> </span>is<span class="w"> </span>mandatory.
<span class="w">  </span>Allowed<span class="w"> </span>Keywords<span class="w"> </span>and<span class="w"> </span>special<span class="w"> </span>characters<span class="w"> </span>are<span class="w"> </span>IS,NOT,NULL,AND,OR,IN,<span class="o">=</span>,&lt;,<span class="o">=</span>&lt;,&gt;,&gt;<span class="o">=</span>,!<span class="o">=</span>,<span class="s1">&#39;,&#39;</span>,<span class="o">(</span>,<span class="o">)</span>,DMETAPHONE,SOUNDEX.
<span class="w">  </span>Not<span class="w"> </span>allowed<span class="w"> </span>are<span class="w"> </span>semicolons<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>filter<span class="w"> </span>expression.&lt;/ServiceException&gt;
&lt;/ServiceExceptionReport&gt;
</pre></div>
</div>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">WIDTH</span><span class="o">=</span><span class="m">400</span>
<span class="p">&amp;</span><span class="nv">HEIGHT</span><span class="o">=</span><span class="m">300</span>
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">41</span>,-6,52,10
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries_shapeburst,countries,places
<span class="p">&amp;</span><span class="nv">FILTER</span><span class="o">=</span>countries_shapeburst,countries:<span class="s2">&quot;name&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;France&#39;</span><span class="p">;</span>places:<span class="w"> </span><span class="s2">&quot;name&quot;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Paris&#39;</span>
</pre></div>
</div>
<figure class="align-center" id="id8">
<img alt="../../../_images/wms_getmap_filter.png" src="../../../_images/wms_getmap_filter.png" />
<figcaption>
<p><span class="caption-number">図 3.3 </span><span class="caption-text">FILTERパラメータを指定したGetMapリクエストに対するサーバーの応答</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>この例では、同じフィルター <code class="docutils literal notranslate"><span class="pre">&quot;name&quot;</span> <span class="pre">=</span> <span class="pre">'France'</span></code> がレイヤ <code class="docutils literal notranslate"><span class="pre">countries</span></code> と <code class="docutils literal notranslate"><span class="pre">countries_shapeburst</span></code> に適用され、フィルター <code class="docutils literal notranslate"><span class="pre">&quot;name&quot;</span> <span class="pre">=</span> <span class="pre">'Paris'</span></code> が <code class="docutils literal notranslate"><span class="pre">places</span></code> にのみ適用されています。</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>FILTERがある場合は、GetFeatureInfoで属性検索を行い、X/Yパラメータを省略することが可能です。QGIS Serverは、マッチした地物の情報を返し、XML出力に結合バウンディングボックスを生成します。</p>
</div>
</section>
<section id="selection">
<span id="wms-selection"></span><h3>SELECTION<a class="headerlink" href="#selection" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">SELECTION</span></code> パラメータは、1つまたは複数のレイヤから地物をハイライトすることができます。ベクタ地物は、地物IDをカンマで区切ったリストを渡すことで選択することができます。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>mylayer1,mylayer2
<span class="p">&amp;</span><span class="nv">SELECTION</span><span class="o">=</span>mylayer1:3,6,9<span class="p">;</span>mylayer2:1,5,6
<span class="p">&amp;</span>...
</pre></div>
</div>
<p>次の画像は、<code class="docutils literal notranslate"><span class="pre">SELECTION</span></code> オプションを使ったGetMapリクエストの応答を示しています　例 <code class="docutils literal notranslate"><span class="pre">http://myserver.com/...&amp;SELECTION=countries:171,65</span></code>。</p>
<p>これらの地物IDは、ソースデータセットでは <strong>France</strong> と <strong>Romania</strong> に対応しているので、黄色でハイライトされています。</p>
<figure class="align-center" id="id9">
<span id="figure-server-selection"></span><img alt="../../../_images/server_selection_parameter.png" src="../../../_images/server_selection_parameter.png" />
<figcaption>
<p><span class="caption-number">図 3.4 </span><span class="caption-text">SELECTIONパラメーターを指定したGetMapリクエストに対するサーバーの応答</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="format-options">
<span id="wms-getmap-formatoptions"></span><h3>FORMAT_OPTIONS<a class="headerlink" href="#format-options" title="Link to this heading"></a></h3>
<p>This parameter can be used to specify options for the selected format.
Only for <code class="docutils literal notranslate"><span class="pre">FORMAT=application/dxf</span></code> in GetMap request.
Takes a list of key:value pairs separated by semicolon:</p>
<ul class="simple">
<li><p>SCALE: シンボロジルール、フィルター、スタイルに使用されます（データの実際のスケーリングではありません - データは元の縮尺のままです）。</p></li>
<li><p>MODE: QGIS DesktopのDXFエクスポートダイアログで提供されるエクスポートオプションに対応します。可能な値は <code class="docutils literal notranslate"><span class="pre">NOSYMBOLOGY</span></code>、<code class="docutils literal notranslate"><span class="pre">FEATURESYMBOLOGY</span></code>、<code class="docutils literal notranslate"><span class="pre">SYMBOLLAYERSYMBOLOGY</span></code> です。</p></li>
<li><p>LAYERATTRIBUTES: specify a field or in case of many layers a comma separated list of fields
that contains values for DXF layer names - if not specified, the original QGIS layer names are used.</p></li>
<li><p>USE_TITLE_AS_LAYERNAME: 有効にすると、レイヤのタイトルがレイヤ名として使用されるようになります。</p></li>
<li><p>CODEC: エンコードに使用するコーデックを指定します。デフォルトはISO-8859-1です。有効な値については、QGISデスクトップのDXFエクスポートダイアログを確認してください。</p></li>
<li><p>NO_MTEXT: ラベルに MTEXT の代わりに TEXT を使用します。</p></li>
<li><p>FORCE_2D：2D出力を強制します。ポリライン幅に必要です。</p></li>
</ul>
</section>
<section id="tiled">
<span id="wms-tiled"></span><h3>TILED<a class="headerlink" href="#tiled" title="Link to this heading"></a></h3>
<p>パフォーマンス上の理由から、QGIS Serverはタイルモードで使用することができます。このモードでは、クライアントが複数の小さな固定サイズのタイルを要求し、それらを組み立ててマップ全体を形成します。この場合、2つのタイルの境界付近のシンボルは、どちらかのタイルにしか存在しないため、カットされて表示されることがあります。</p>
<p><code class="docutils literal notranslate"><span class="pre">TILED</span></code> パラメータを <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> に設定すると、QGIS Serverに <em>タイル</em> モードで動作し、QGISプロジェクトで設定された <em>タイルバッファ</em> を適用するように指示します（ <a class="reference internal" href="../getting_started.html#creatingwmsfromproject"><span class="std std-ref">プロジェクトを設定する</span></a> を参照）。</p>
<p><code class="docutils literal notranslate"><span class="pre">TILED</span></code> が <code class="docutils literal notranslate"><span class="pre">TRUE</span></code> で、かつ QGIS プロジェクトで非ゼロのタイルバッファが設定されている場合、タイル境界でのカットシンボルを避けるために、タイル範囲外の地物が描画されます。</p>
<p><code class="docutils literal notranslate"><span class="pre">TILED</span></code> のデフォルトは <code class="docutils literal notranslate"><span class="pre">FALSE</span></code> です。</p>
</section>
</section>
<section id="getfeatureinfo">
<span id="wms-getfeatureinfo"></span><h2><span class="section-number">3.2.3. </span>GetFeatureInfo<a class="headerlink" href="#getfeatureinfo" title="Link to this heading"></a></h2>
<p>OGC WMS 1.1.1 および 1.3.0 仕様に従った <strong>GetFeatureInfo</strong> リクエストの標準パラメータ:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-service"><span class="std std-ref">SERVICE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスの名称 (<strong>WMS</strong>)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="basics.html#services-basics-request"><span class="std std-ref">REQUEST</span></a></p></td>
<td><p>Yes</p></td>
<td><p>リクエストの名称 (<strong>GetFeatureInfo</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-version"><span class="std std-ref">VERSION</span></a></p></td>
<td><p>No</p></td>
<td><p>サービスのバージョン</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-querylayers"><span class="std std-ref">QUERY_LAYERS</span></a></p></td>
<td><p>Yes</p></td>
<td><p>クエリするレイヤ</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-layers"><span class="std std-ref">LAYERS</span></a></p></td>
<td><p>Yes</p></td>
<td><p>表示するレイヤ（<cite>QUERY_LAYERS</cite> と同じ）</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-styles"><span class="std std-ref">STYLES</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤのスタイル</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-srs"><span class="std std-ref">SRS / CRS</span></a></p></td>
<td><p>Yes</p></td>
<td><p>座標参照系</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-bbox"><span class="std std-ref">BBOX</span></a></p></td>
<td><p>No</p></td>
<td><p>マップの範囲</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-width"><span class="std std-ref">WIDTH</span></a></p></td>
<td><p>Yes</p></td>
<td><p>ピクセル単位の画像の幅</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-height"><span class="std std-ref">HEIGHT</span></a></p></td>
<td><p>Yes</p></td>
<td><p>ピクセル単位の画像の高さ</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-transparent"><span class="std std-ref">TRANSPARENT</span></a></p></td>
<td><p>No</p></td>
<td><p>透明な背景</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-infoformat"><span class="std std-ref">INFO_FORMAT</span></a></p></td>
<td><p>No</p></td>
<td><p>出力形式</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-featurecount"><span class="std std-ref">FEATURE_COUNT</span></a></p></td>
<td><p>No</p></td>
<td><p>返す地物の最大数</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-i"><span class="std std-ref">I</span></a></p></td>
<td><p>No</p></td>
<td><p>クエリする点のピクセル列</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-x"><span class="std std-ref">X</span></a></p></td>
<td><p>No</p></td>
<td><p><cite>I</cite> パラメータと同じだが、WMS 1.1.1 の場合</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-j"><span class="std std-ref">J</span></a></p></td>
<td><p>No</p></td>
<td><p>クエリする点のピクセル行</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-y"><span class="std std-ref">Y</span></a></p></td>
<td><p>No</p></td>
<td><p><cite>J</cite> パラメータと同じだが、WMS 1.1.1 の場合</p></td>
</tr>
<tr class="row-odd"><td><p>WMS_PRECISION</p></td>
<td><p>No</p></td>
<td><p>ジオメトリを返す際に使用する精度（桁数）（ <a class="reference internal" href="../getting_started.html#addgeometrytofeatureresponse"><span class="std std-ref">how to add geometry to feature response</span></a> を参照してください）。デフォルト値は <code class="docutils literal notranslate"><span class="pre">-1</span></code> で、プロジェクトで定義された精度が使用されることを意味します。</p></td>
</tr>
</tbody>
</table>
<p>QGIS Serverは、標準的なものに加えて、以下の追加パラメータをサポートしています:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-map"><span class="std std-ref">MAP</span></a></p></td>
<td><p>Yes</p></td>
<td><p>QGISプロジェクトファイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-filter"><span class="std std-ref">FILTER</span></a></p></td>
<td><p>No</p></td>
<td><p>地物のサブセット</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-fipointtolerance"><span class="std std-ref">FI_POINT_TOLERANCE</span></a></p></td>
<td><p>No</p></td>
<td><p>ポイントレイヤに対するピクセル単位の許容範囲</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-filinetolerance"><span class="std std-ref">FI_LINE_TOLERANCE</span></a></p></td>
<td><p>No</p></td>
<td><p>ラインレイヤに対するピクセル単位の許容範囲</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-fipolygontolerance"><span class="std std-ref">FI_POLYGON_TOLERANCE</span></a></p></td>
<td><p>No</p></td>
<td><p>ポリゴンレイヤに対するピクセル単位の許容範囲</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-filtergeom"><span class="std std-ref">FILTER_GEOM</span></a></p></td>
<td><p>No</p></td>
<td><p>ジオメトリのフィルタリング</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-withdisplayname"><span class="std std-ref">WITH_DISPLAY_NAME</span></a></p></td>
<td><p>No</p></td>
<td><p>Add the feature display name to the output</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-withmaptip"><span class="std std-ref">WITH_MAPTIP</span></a></p></td>
<td><p>No</p></td>
<td><p>出力にマップチップを追加します</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-withgeometry"><span class="std std-ref">WITH_GEOMETRY</span></a></p></td>
<td><p>No</p></td>
<td><p>出力にジオメトリを追加します</p></td>
</tr>
</tbody>
</table>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">MAP</span><span class="o">=</span>/home/qgis/projects/world.qgs
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>mylayer1,mylayer2,mylayer3
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">WIDTH</span><span class="o">=</span><span class="m">400</span>
<span class="p">&amp;</span><span class="nv">HEIGHT</span><span class="o">=</span><span class="m">400</span>
<span class="p">&amp;</span><span class="nv">INFO_FORMAT</span><span class="o">=</span>text/xml
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">QUERY_LAYERS</span><span class="o">=</span>mylayer1
<span class="p">&amp;</span><span class="nv">FEATURE_COUNT</span><span class="o">=</span><span class="m">3</span>
<span class="p">&amp;</span><span class="nv">I</span><span class="o">=</span><span class="m">250</span>
<span class="p">&amp;</span><span class="nv">J</span><span class="o">=</span><span class="m">250</span>
</pre></div>
</div>
<section id="info-format">
<span id="wms-infoformat"></span><h3>INFO_FORMAT<a class="headerlink" href="#info-format" title="Link to this heading"></a></h3>
<p>このパラメータは結果のフォーマットを指定するために使用されます。利用可能な値は以下のとおりです：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">text/xml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">text/html</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">text/plain</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">application/vnd.ogc.gml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">application/json</span></code></p></li>
</ul>
</section>
<section id="query-layers">
<span id="wms-querylayers"></span><h3>QUERY_LAYERS<a class="headerlink" href="#query-layers" title="Link to this heading"></a></h3>
<p>このパラメータは、マップ上に表示するレイヤを指定します。名前はカンマで区切られます。</p>
<p>さらに、QGIS Serverでは、レイヤーを選択する以下のオプションを導入しています:</p>
<ul class="simple">
<li><p>短い名前</p></li>
<li><p>レイヤid</p></li>
</ul>
<p>詳しくは <a class="reference internal" href="#wms-layers"><span class="std std-ref">GetMap</span></a> で定義されている <code class="docutils literal notranslate"><span class="pre">LAYERS</span></code> パラメータを参照してください。</p>
</section>
<section id="feature-count">
<span id="wms-featurecount"></span><h3>FEATURE_COUNT<a class="headerlink" href="#feature-count" title="Link to this heading"></a></h3>
<p>このパラメータは、レイヤーごとに返す地物の最大数を指定します。例えば、 <code class="docutils literal notranslate"><span class="pre">QUERY_LAYERS</span></code> が <code class="docutils literal notranslate"><span class="pre">layer1,layer2</span></code> で、 <code class="docutils literal notranslate"><span class="pre">FEATURE_COUNT</span></code> が <code class="docutils literal notranslate"><span class="pre">3</span></code> の場合、レイヤ1から最大3つの地物が返されることになります。同様に、レイヤ2からは最大3つの地物が返されます。</p>
<p>デフォルトでは１つの地物だけが返されます。</p>
</section>
<section id="i">
<span id="wms-i"></span><h3>I<a class="headerlink" href="#i" title="Link to this heading"></a></h3>
<p>WMS 1.3.0で定義されたパラメータで、クエリポイントのピクセル列を指定することができます。</p>
</section>
<section id="x">
<span id="wms-x"></span><h3>X<a class="headerlink" href="#x" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">I</span></code> と同じパラメータですが、WMS 1.1.1 で定義されています。</p>
</section>
<section id="j">
<span id="wms-j"></span><h3>J<a class="headerlink" href="#j" title="Link to this heading"></a></h3>
<p>WMS 1.3.0で定義されたパラメータで、クエリポイントのピクセル行を指定することができます。</p>
</section>
<section id="y">
<span id="wms-y"></span><h3>Y<a class="headerlink" href="#y" title="Link to this heading"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">J</span></code> と同じパラメータですが、WMS 1.1.1 で定義されています。</p>
</section>
<section id="fi-point-tolerance">
<span id="wms-fipointtolerance"></span><h3>FI_POINT_TOLERANCE<a class="headerlink" href="#fi-point-tolerance" title="Link to this heading"></a></h3>
<p>このパラメータではラインレイヤでの許容誤差（ピクセル）を指定します。</p>
</section>
<section id="fi-line-tolerance">
<span id="wms-filinetolerance"></span><h3>FI_LINE_TOLERANCE<a class="headerlink" href="#fi-line-tolerance" title="Link to this heading"></a></h3>
<p>ラインレイヤの許容範囲をピクセル単位で指定するパラメータです。</p>
</section>
<section id="fi-polygon-tolerance">
<span id="wms-fipolygontolerance"></span><h3>FI_POLYGON_TOLERANCE<a class="headerlink" href="#fi-polygon-tolerance" title="Link to this heading"></a></h3>
<p>ポリゴンレイヤの許容範囲をピクセル単位で指定するパラメータです。</p>
</section>
<section id="filter-geom">
<span id="wms-filtergeom"></span><h3>FILTER_GEOM<a class="headerlink" href="#filter-geom" title="Link to this heading"></a></h3>
<p>このパラメータは、地物が交差しなければならないWKTジオメトリを指定します。</p>
</section>
<section id="with-display-name">
<span id="wms-withdisplayname"></span><h3>WITH_DISPLAY_NAME<a class="headerlink" href="#with-display-name" title="Link to this heading"></a></h3>
<p>This parameter specifies whether to add feature display name to the output.</p>
<p>利用可能な値は次の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
</section>
<section id="with-maptip">
<span id="wms-withmaptip"></span><h3>WITH_MAPTIP<a class="headerlink" href="#with-maptip" title="Link to this heading"></a></h3>
<p>このパラメータは、出力にマップチップを加えるかどうかを指定します。</p>
<p>利用可能な値は次の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
</section>
<section id="with-geometry">
<span id="wms-withgeometry"></span><h3>WITH_GEOMETRY<a class="headerlink" href="#with-geometry" title="Link to this heading"></a></h3>
<p>このパラメータは、出力にジオメトリを追加するかどうかを指定します。この機能を使用するには、まずQGISプロジェクトで <span class="guilabel">Add geometry to feature response</span> オプションを有効にする必要があります。<a class="reference internal" href="../getting_started.html#creatingwmsfromproject"><span class="std std-ref">Configure your project</span></a> を参照してください。</p>
<p>利用可能な値は次の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
</section>
</section>
<section id="getlegendgraphic">
<span id="wms-getlegendgraphic"></span><h2><span class="section-number">3.2.4. </span>GetLegendGraphic<a class="headerlink" href="#getlegendgraphic" title="Link to this heading"></a></h2>
<p>OGC WMS 1.1.1および1.3.0仕様に従った <strong>GetLegendGraphic</strong> リクエストの標準パラメータ</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-service"><span class="std std-ref">SERVICE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスの名称 (<strong>WMS</strong>)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="basics.html#services-basics-request"><span class="std std-ref">REQUEST</span></a></p></td>
<td><p>Yes</p></td>
<td><p>リクエストの名称 (<strong>GetLegendGraphic</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-version"><span class="std std-ref">VERSION</span></a></p></td>
<td><p>No</p></td>
<td><p>サービスのバージョン</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-layers"><span class="std std-ref">LAYERS</span></a></p></td>
<td><p>Yes</p></td>
<td><p>表示するレイヤ</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-styles"><span class="std std-ref">STYLES</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤのスタイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-srs"><span class="std std-ref">SRS / CRS</span></a></p></td>
<td><p>No</p></td>
<td><p>座標参照系</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-bbox"><span class="std std-ref">BBOX</span></a></p></td>
<td><p>No</p></td>
<td><p>マップの範囲</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-width"><span class="std std-ref">WIDTH</span></a></p></td>
<td><p>No</p></td>
<td><p>ピクセル単位の画像の幅</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-height"><span class="std std-ref">HEIGHT</span></a></p></td>
<td><p>No</p></td>
<td><p>ピクセル単位の画像の高さ</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-format"><span class="std std-ref">FORMAT</span></a></p></td>
<td><p>No</p></td>
<td><p>凡例の形式</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-transparent"><span class="std std-ref">TRANSPARENT</span></a></p></td>
<td><p>No</p></td>
<td><p>透明な背景</p></td>
</tr>
</tbody>
</table>
<p>QGIS Serverでは、標準的なパラメータに加えて、凡例要素のサイズやレイヤタイトルやアイテムラベルのフォントプロパティを変更するための追加パラメータをサポートしています：</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-map"><span class="std std-ref">MAP</span></a></p></td>
<td><p>Yes</p></td>
<td><p>QGISプロジェクトファイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-srcwidth"><span class="std std-ref">SRCWIDTH</span></a></p></td>
<td><p>No</p></td>
<td><p>マップの幅</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-srcheight"><span class="std std-ref">SRCHEIGHT</span></a></p></td>
<td><p>No</p></td>
<td><p>マップの高さ</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-showfeaturecount"><span class="std std-ref">SHOWFEATURECOUNT</span></a></p></td>
<td><p>No</p></td>
<td><p>地物の地物数を追加します</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-rule"><span class="std std-ref">RULE</span></a></p></td>
<td><p>No</p></td>
<td><p>ルールシンボルをレンダリング</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-rulelabel"><span class="std std-ref">RULELABEL</span></a></p></td>
<td><p>No</p></td>
<td><p>アイテムラベルをレンダリング</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-boxspace"><span class="std std-ref">BOXSPACE</span></a></p></td>
<td><p>No</p></td>
<td><p>凡例フレームと内容の間隔 (mm)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-layerspace"><span class="std std-ref">LAYERSPACE</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤの垂直間隔 (mm)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-layertitlespace"><span class="std std-ref">LAYERTITLESPACE</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤタイトルとアイテムの垂直間隔 (mm)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-symbolspace"><span class="std std-ref">SYMBOLSPACE</span></a></p></td>
<td><p>No</p></td>
<td><p>シンボルとアイテムの垂直間隔 (mm)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-iconlabelspace"><span class="std std-ref">ICONLABELSPACE</span></a></p></td>
<td><p>No</p></td>
<td><p>シンボルとラベルの水平間隔 (mm)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-symbolwidth"><span class="std std-ref">SYMBOLWIDTH</span></a></p></td>
<td><p>No</p></td>
<td><p>シンボルプレビューの幅 (mm)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-symbolheight"><span class="std std-ref">SYMBOLHEIGHT</span></a></p></td>
<td><p>No</p></td>
<td><p>シンボルプレビューの高さ (mm)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-layertitle"><span class="std std-ref">LAYERTITLE</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤタイトルをレンダリング</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-layerfontfamily"><span class="std std-ref">LAYERFONTFAMILY</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤのフォントファミリー</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-layerfontbold"><span class="std std-ref">LAYERFONTBOLD</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤタイトルを太字でレンダリング</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-layerfontsize"><span class="std std-ref">LAYERFONTSIZE</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤタイトルのフォントサイズ (pt)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-layerfontitalic"><span class="std std-ref">LAYERFONTITALIC</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤタイトルを斜体でレンダリング</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-layerfontcolor"><span class="std std-ref">LAYERFONTCOLOR</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤタイトルの色</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-itemfontfamily"><span class="std std-ref">ITEMFONTFAMILY</span></a></p></td>
<td><p>No</p></td>
<td><p>アイテムのフォントファミリー</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-itemfontbold"><span class="std std-ref">ITEMFONTBOLD</span></a></p></td>
<td><p>No</p></td>
<td><p>アイテムラベルを太字でレンダリング</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-itemfontsize"><span class="std std-ref">ITEMFONTSIZE</span></a></p></td>
<td><p>No</p></td>
<td><p>アイテムラベルのフォントサイズ (pt)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-itemfontitalic"><span class="std std-ref">ITEMFONTITALIC</span></a></p></td>
<td><p>No</p></td>
<td><p>アイテムラベルを斜体でレンダリング</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getlegendgraphic-itemfontcolor"><span class="std std-ref">ITEMFONTCOLOR</span></a></p></td>
<td><p>No</p></td>
<td><p>アイテムラベルの色</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getlegendgraphic-addlayergroups"><span class="std std-ref">ADDLAYERGROUPS</span></a></p></td>
<td><p>No</p></td>
<td><p>Adds the layer groups to JSON output</p></td>
</tr>
</tbody>
</table>
<section id="wms-getlegendgraphic-bbox">
<span id="id1"></span><h3>BBOX<a class="headerlink" href="#wms-getlegendgraphic-bbox" title="Link to this heading"></a></h3>
<p>このパラメータは凡例が作成される地理的な区域を指定するために使用することができます（その形式の説明は <a class="reference internal" href="#wms-bbox"><span class="std std-ref">ここ</span></a> にあります）が、 <code class="docutils literal notranslate"><span class="pre">RULE</span></code> パラメータと組み合わせることはできません。<code class="docutils literal notranslate"><span class="pre">SRS</span></code>/<code class="docutils literal notranslate"><span class="pre">CRS</span></code> パラメータは <code class="docutils literal notranslate"><span class="pre">BBOX</span></code> パラメータを使用する際に必須となります。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries,airports
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p><code class="docutils literal notranslate"><span class="pre">BBOX</span></code> パラメータが定義されている場合、凡例は <em>内容型の凡例</em> として参照されます。</p>
</div>
</section>
<section id="wms-getlegendgraphic-width">
<span id="id2"></span><h3>WIDTH<a class="headerlink" href="#wms-getlegendgraphic-width" title="Link to this heading"></a></h3>
<p>このパラメータはデフォルトでは使用されませんが、 <code class="docutils literal notranslate"><span class="pre">RULE</span></code> パラメータが設定された場合には必須となります。この場合、出力画像の幅をピクセル単位で指定することができます。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>getlegendgraphic
<span class="p">&amp;</span><span class="nv">LAYER</span><span class="o">=</span>testlayer%20%C3%A8%C3%A9
<span class="p">&amp;</span><span class="nv">RULE</span><span class="o">=</span>rule1
<span class="p">&amp;</span><span class="nv">WIDTH</span><span class="o">=</span><span class="m">30</span>
<span class="p">&amp;</span><span class="nv">HEIGHT</span><span class="o">=</span><span class="m">30</span>
</pre></div>
</div>
</section>
<section id="wms-getlegendgraphic-height">
<span id="id3"></span><h3>HEIGHT<a class="headerlink" href="#wms-getlegendgraphic-height" title="Link to this heading"></a></h3>
<p>このパラメータはデフォルトでは使用されませんが、 <code class="docutils literal notranslate"><span class="pre">RULE</span></code> パラメータが設定されている場合は必須となります。この場合、出力画像の高さをピクセル単位で指定することができます。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYER</span><span class="o">=</span>testlayer%20%C3%A8%C3%A9
<span class="p">&amp;</span><span class="nv">RULE</span><span class="o">=</span>rule1
<span class="p">&amp;</span><span class="nv">WIDTH</span><span class="o">=</span><span class="m">30</span>
<span class="p">&amp;</span><span class="nv">HEIGHT</span><span class="o">=</span><span class="m">30</span>
</pre></div>
</div>
</section>
<section id="wms-getlegendgraphic-format">
<span id="id4"></span><h3>FORMAT<a class="headerlink" href="#wms-getlegendgraphic-format" title="Link to this heading"></a></h3>
<p>このパラメータを使用して、凡例画像の形式を指定することができます。使用可能な値は以下の通りです:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">image/jpeg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/png</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">application/json</span></code></p></li>
</ul>
<p>JSONの場合、シンボルはBase64でエンコードされ、レイアウトやフォントに関するその他のオプションは、凡例がクライアント側で構築される必要があるため、考慮されません。<code class="docutils literal notranslate"><span class="pre">RULE</span></code> パラメータはこの形式と組み合わせることができません。</p>
<p>URLの例とそれに対応するJSONの出力:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS<span class="p">&amp;</span>
<span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic<span class="p">&amp;</span>
<span class="nv">LAYERS</span><span class="o">=</span>airports<span class="p">&amp;</span>
<span class="nv">FORMAT</span><span class="o">=</span>application/json
</pre></div>
</div>
<p>そして、それに対応するJSONの出力:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;nodes&quot;</span><span class="p">:[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;icon&quot;</span><span class="p">:</span><span class="s2">&quot;&lt;base64 icon&gt;&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;airports&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;layer&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="srcwidth">
<span id="wms-getlegendgraphic-srcwidth"></span><h3>SRCWIDTH<a class="headerlink" href="#srcwidth" title="Link to this heading"></a></h3>
<p>このパラメータは <code class="docutils literal notranslate"><span class="pre">RULE</span></code> パラメータが設定されているときに定義することができます。この場合、<code class="docutils literal notranslate"><span class="pre">SRCWIDTH</span></code> の値は <code class="docutils literal notranslate"><span class="pre">WIDTH</span></code> パラメータとして基となる <code class="docutils literal notranslate"><span class="pre">GetMap</span></code> リクエストに転送され、<code class="docutils literal notranslate"><span class="pre">WIDTH</span></code> パラメータは <code class="docutils literal notranslate"><span class="pre">GetLegendGraphics</span></code> の画像凡例の大きさに使われます。</p>
</section>
<section id="srcheight">
<span id="wms-getlegendgraphic-srcheight"></span><h3>SRCHEIGHT<a class="headerlink" href="#srcheight" title="Link to this heading"></a></h3>
<p>このパラメータは <code class="docutils literal notranslate"><span class="pre">RULE</span></code> パラメータが設定されているときに定義することができます。この場合、<code class="docutils literal notranslate"><span class="pre">SRCHEIGHT</span></code> の値は <code class="docutils literal notranslate"><span class="pre">HEIGHT</span></code> パラメータとして基となる <code class="docutils literal notranslate"><span class="pre">GetMap</span></code> リクエストに転送され、<code class="docutils literal notranslate"><span class="pre">HEIGHT</span></code> パラメータは <code class="docutils literal notranslate"><span class="pre">GetLegendGraphics</span></code> の画像凡例の大きさに使われます。</p>
</section>
<section id="showfeaturecount">
<span id="wms-getlegendgraphic-showfeaturecount"></span><h3>SHOWFEATURECOUNT<a class="headerlink" href="#showfeaturecount" title="Link to this heading"></a></h3>
<p>このパラメータは、凡例で地物カウントを有効にするために使用することができます。使用可能な値は以下の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
<p>例:</p>
<figure class="align-center">
<img alt="../../../_images/getfeaturecount_legend.png" src="../../../_images/getfeaturecount_legend.png" />
</figure>
</section>
<section id="rule">
<span id="wms-getlegendgraphic-rule"></span><h3>RULE<a class="headerlink" href="#rule" title="Link to this heading"></a></h3>
<p>This parameter is available on layers with <span class="guilabel">Rule-based</span> rendering and
allows to build a legend with only the named rule symbol. It cannot be combined
with <code class="docutils literal notranslate"><span class="pre">BBOX</span></code> parameter nor the JSON format. <code class="docutils literal notranslate"><span class="pre">HEIGHT</span></code> and <code class="docutils literal notranslate"><span class="pre">WIDTH</span></code> must be
specified.</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>mylayer,
<span class="p">&amp;</span><span class="nv">RULE</span><span class="o">=</span>myrulename,
<span class="p">&amp;</span><span class="nv">WIDTH</span><span class="o">=</span><span class="m">20</span>,
<span class="p">&amp;</span><span class="nv">HEIGHT</span><span class="o">=</span><span class="m">20</span>
</pre></div>
</div>
</section>
<section id="rulelabel">
<span id="wms-getlegendgraphic-rulelabel"></span><h3>RULELABEL<a class="headerlink" href="#rulelabel" title="Link to this heading"></a></h3>
<p>このパラメータは、アイテムラベルの描画を制御することができます。使用可能な値は次の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code>: アイテムラベルを表示します</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code>: アイテムラベルを隠します</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AUTO</span></code>: <span class="guilabel">単一のシンボル</span> レンダリングのレイヤのアイテムラベルを隠します</p></li>
</ul>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries,airports
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">RULELABEL</span><span class="o">=</span>AUTO
</pre></div>
</div>
<figure class="align-center" id="id10">
<img alt="../../../_images/wms_getlegendgraphic_rulelabel.png" src="../../../_images/wms_getlegendgraphic_rulelabel.png" />
<figcaption>
<p><span class="caption-number">図 3.5 </span><span class="caption-text">単一シンボルのレイヤにはラベルを使わずに凡例をレンダリング</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="boxspace">
<span id="wms-getlegendgraphic-boxspace"></span><h3>BOXSPACE<a class="headerlink" href="#boxspace" title="Link to this heading"></a></h3>
<p>このパラメータでは、凡例フレームと内容の間隔をミリメートル単位で指定することができます。デフォルトの間隔は <code class="docutils literal notranslate"><span class="pre">2</span></code> mm です。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">BOXSPACE</span><span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<figure class="align-center" id="id11">
<img alt="../../../_images/wms_getlegendgraphic_boxspace.png" src="../../../_images/wms_getlegendgraphic_boxspace.png" />
<figcaption>
<p><span class="caption-number">図 3.6 </span><span class="caption-text">左は <code class="docutils literal notranslate"><span class="pre">BOXSPACE=0</span></code>、右は <code class="docutils literal notranslate"><span class="pre">BOXSPACE=15</span></code></span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="layerspace">
<span id="wms-getlegendgraphic-layerspace"></span><h3>LAYERSPACE<a class="headerlink" href="#layerspace" title="Link to this heading"></a></h3>
<p>このパラメータでは、レイヤ間の垂直間隔をミリメートル単位で指定することができます。デフォルトの間隔値は、<code class="docutils literal notranslate"><span class="pre">3</span></code> mmです。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">LAYERSPACE</span><span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<figure class="align-center" id="id12">
<img alt="../../../_images/wms_getlegendgraphic_layerspace.png" src="../../../_images/wms_getlegendgraphic_layerspace.png" />
<figcaption>
<p><span class="caption-number">図 3.7 </span><span class="caption-text">左は <code class="docutils literal notranslate"><span class="pre">LAYERSPACE=0</span></code>、右は <code class="docutils literal notranslate"><span class="pre">LAYERSPACE=10</span></code></span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="layertitlespace">
<span id="wms-getlegendgraphic-layertitlespace"></span><h3>LAYERTITLESPACE<a class="headerlink" href="#layertitlespace" title="Link to this heading"></a></h3>
<p>このパラメータでは、レイヤのタイトルとそれに続くアイテムの間の垂直間隔をミリメートル単位で指定することができます。デフォルトの間隔は <code class="docutils literal notranslate"><span class="pre">3</span></code> mm です。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">LAYERTITLESPACE</span><span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<figure class="align-center" id="id13">
<img alt="../../../_images/wms_getlegendgraphic_layertitlespace.png" src="../../../_images/wms_getlegendgraphic_layertitlespace.png" />
<figcaption>
<p><span class="caption-number">図 3.8 </span><span class="caption-text">左は <code class="docutils literal notranslate"><span class="pre">LAYERTITLESPACE=0</span></code>、右は <code class="docutils literal notranslate"><span class="pre">LAYERTITLESPACE=10</span></code></span><a class="headerlink" href="#id13" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="symbolspace">
<span id="wms-getlegendgraphic-symbolspace"></span><h3>SYMBOLSPACE<a class="headerlink" href="#symbolspace" title="Link to this heading"></a></h3>
<p>このパラメータでは、シンボルとそれに続くアイテムの間の垂直間隔をミリメートル単位で指定します。デフォルトの間隔は <code class="docutils literal notranslate"><span class="pre">2</span></code> mm です。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">SYMBOLSPACE</span><span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<figure class="align-center" id="id14">
<img alt="../../../_images/wms_getlegendgraphic_symbolspace.png" src="../../../_images/wms_getlegendgraphic_symbolspace.png" />
<figcaption>
<p><span class="caption-number">図 3.9 </span><span class="caption-text">左は <code class="docutils literal notranslate"><span class="pre">SYMBOLSPACE=0</span></code>、右は <code class="docutils literal notranslate"><span class="pre">SYMBOLSPACE=5</span></code></span><a class="headerlink" href="#id14" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="iconlabelspace">
<span id="wms-getlegendgraphic-iconlabelspace"></span><h3>ICONLABELSPACE<a class="headerlink" href="#iconlabelspace" title="Link to this heading"></a></h3>
<p>このパラメータでは、シンボルとラベルテキストの間の水平間隔をミリメートル単位で指定することができます。デフォルトの間隔は <code class="docutils literal notranslate"><span class="pre">2</span></code> mm です。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>getlegendgraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries,
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">ICONLABELSPACE</span><span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<figure class="align-center" id="id15">
<img alt="../../../_images/wms_getlegendgraphic_iconlabelspace.png" src="../../../_images/wms_getlegendgraphic_iconlabelspace.png" />
<figcaption>
<p><span class="caption-number">図 3.10 </span><span class="caption-text">左は <code class="docutils literal notranslate"><span class="pre">ICONLABELSPACE=0</span></code>、右は <code class="docutils literal notranslate"><span class="pre">ICONLABELSPACE=10</span></code></span><a class="headerlink" href="#id15" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="symbolwidth">
<span id="wms-getlegendgraphic-symbolwidth"></span><h3>SYMBOLWIDTH<a class="headerlink" href="#symbolwidth" title="Link to this heading"></a></h3>
<p>このパラメータでは、シンボルプレビューの幅をミリメートル単位で指定することができます。デフォルトの幅は <code class="docutils literal notranslate"><span class="pre">7</span></code> mm です。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries,
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">SYMBOLWIDTH</span><span class="o">=</span><span class="m">2</span>
</pre></div>
</div>
<figure class="align-center" id="id16">
<img alt="../../../_images/wms_getlegendgraphic_symbolwidth.png" src="../../../_images/wms_getlegendgraphic_symbolwidth.png" />
<figcaption>
<p><span class="caption-number">図 3.11 </span><span class="caption-text">左は <code class="docutils literal notranslate"><span class="pre">SYMBOLWIDTH=2</span></code>、右は <code class="docutils literal notranslate"><span class="pre">SYMBOLWIDTH=20</span></code></span><a class="headerlink" href="#id16" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="symbolheight">
<span id="wms-getlegendgraphic-symbolheight"></span><h3>SYMBOLHEIGHT<a class="headerlink" href="#symbolheight" title="Link to this heading"></a></h3>
<p>このパラメータでは、シンボルプレビューの高さをミリメートル単位で指定することができます。デフォルトでは、高さは <code class="docutils literal notranslate"><span class="pre">4</span></code> mm です。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries,
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">SYMBOLHEIGHT</span><span class="o">=</span><span class="m">2</span>
</pre></div>
</div>
<figure class="align-center" id="id17">
<img alt="../../../_images/wms_getlegendgraphic_symbolheight.png" src="../../../_images/wms_getlegendgraphic_symbolheight.png" />
<figcaption>
<p><span class="caption-number">図 3.12 </span><span class="caption-text">左は <code class="docutils literal notranslate"><span class="pre">SYMBOLHEIGHT=2</span></code>、右は <code class="docutils literal notranslate"><span class="pre">SYMBOLHEIGHT=6</span></code></span><a class="headerlink" href="#id17" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="layertitle">
<span id="wms-getlegendgraphic-layertitle"></span><h3>LAYERTITLE<a class="headerlink" href="#layertitle" title="Link to this heading"></a></h3>
<p>このパラメータは、レイヤのタイトルを描画するかどうかを指定します。</p>
<p>利用可能な値は次の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code> （デフォルト値）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
</section>
<section id="layerfontfamily">
<span id="wms-getlegendgraphic-layerfontfamily"></span><h3>LAYERFONTFAMILY<a class="headerlink" href="#layerfontfamily" title="Link to this heading"></a></h3>
<p>このパラメータは、レイヤタイトルの描画に使用するフォントファミリーを指定します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries
<span class="p">&amp;</span><span class="nv">LAYERFONTFAMILY</span><span class="o">=</span>monospace
</pre></div>
</div>
</section>
<section id="layerfontbold">
<span id="wms-getlegendgraphic-layerfontbold"></span><h3>LAYERFONTBOLD<a class="headerlink" href="#layerfontbold" title="Link to this heading"></a></h3>
<p>このパラメータは、レイヤのタイトルを太字で描画するかどうかを指定します。使用可能な値は以下の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">LAYERFONTBOLD</span><span class="o">=</span>TRUE
</pre></div>
</div>
<figure class="align-center" id="id18">
<img alt="../../../_images/wms_getlegendgraphic_layerfontbold.png" src="../../../_images/wms_getlegendgraphic_layerfontbold.png" />
<figcaption>
<p><span class="caption-number">図 3.13 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">LAYERFONTBOLD=TRUE</span></code> の凡例</span><a class="headerlink" href="#id18" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="layerfontsize">
<span id="wms-getlegendgraphic-layerfontsize"></span><h3>LAYERFONTSIZE<a class="headerlink" href="#layerfontsize" title="Link to this heading"></a></h3>
<p>このパラメータは、レイヤのタイトルを描画する際のフォントサイズをポイント単位で指定します。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">LAYERFONTSIZE</span><span class="o">=</span><span class="m">20</span>
</pre></div>
</div>
<figure class="align-center" id="id19">
<img alt="../../../_images/wms_getlegendgraphic_layerfontsize.png" src="../../../_images/wms_getlegendgraphic_layerfontsize.png" />
<figcaption>
<p><span class="caption-number">図 3.14 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">LAYERFONTSIZE=20</span></code> の凡例</span><a class="headerlink" href="#id19" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="layerfontitalic">
<span id="wms-getlegendgraphic-layerfontitalic"></span><h3>LAYERFONTITALIC<a class="headerlink" href="#layerfontitalic" title="Link to this heading"></a></h3>
<p>このパラメータは、レイヤーのタイトルを斜体で描画するかどうかを指定します。使用可能な値は以下の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">LAYERFONTITALIC</span><span class="o">=</span>TRUE
</pre></div>
</div>
<figure class="align-center" id="id20">
<img alt="../../../_images/wms_getlegendgraphic_layerfontitalic.png" src="../../../_images/wms_getlegendgraphic_layerfontitalic.png" />
<figcaption>
<p><span class="caption-number">図 3.15 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">LAYERFONTITALIC=TRUE</span></code> の凡例</span><a class="headerlink" href="#id20" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="layerfontcolor">
<span id="wms-getlegendgraphic-layerfontcolor"></span><h3>LAYERFONTCOLOR<a class="headerlink" href="#layerfontcolor" title="Link to this heading"></a></h3>
<p>このパラメータはレイヤタイトルの色を指定します。色はリテラル（<code class="docutils literal notranslate"><span class="pre">red</span></code>, <code class="docutils literal notranslate"><span class="pre">green</span></code>, ...）または16進数表記（<code class="docutils literal notranslate"><span class="pre">0xFF0000</span></code>, <code class="docutils literal notranslate"><span class="pre">0x00FF00</span></code>, ...）で指定できます。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">LAYERFONTCOLOR</span><span class="o">=</span>0x5f9930
</pre></div>
</div>
<figure class="align-center" id="id21">
<img alt="../../../_images/wms_getlegendgraphic_layerfontcolor.png" src="../../../_images/wms_getlegendgraphic_layerfontcolor.png" />
<figcaption>
<p><span class="caption-number">図 3.16 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">LAYERFONTCOLOR=0x5f9930</span></code> の凡例</span><a class="headerlink" href="#id21" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="itemfontfamily">
<span id="wms-getlegendgraphic-itemfontfamily"></span><h3>ITEMFONTFAMILY<a class="headerlink" href="#itemfontfamily" title="Link to this heading"></a></h3>
<p>このパラメータは、アイテムラベルを描画するのに使うフォントファミリーを指定します。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>countries
<span class="p">&amp;</span><span class="nv">ITEMFONTFAMILY</span><span class="o">=</span>monospace
</pre></div>
</div>
</section>
<section id="itemfontbold">
<span id="wms-getlegendgraphic-itemfontbold"></span><h3>ITEMFONTBOLD<a class="headerlink" href="#itemfontbold" title="Link to this heading"></a></h3>
<p>このパラメータは、アイテムラベルを太字で描画するかどうかを指定します。使用可能な値は次の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">ITEMFONTBOLD</span><span class="o">=</span>TRUE
</pre></div>
</div>
<figure class="align-center" id="id22">
<img alt="../../../_images/wms_getlegendgraphic_itemfontbold.png" src="../../../_images/wms_getlegendgraphic_itemfontbold.png" />
<figcaption>
<p><span class="caption-number">図 3.17 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">ITEMFONTBOLD=TRUE</span></code> の凡例</span><a class="headerlink" href="#id22" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="itemfontsize">
<span id="wms-getlegendgraphic-itemfontsize"></span><h3>ITEMFONTSIZE<a class="headerlink" href="#itemfontsize" title="Link to this heading"></a></h3>
<p>このパラメータは、レイヤのタイトルを描画する際のフォントサイズをポイント単位で指定します。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">ITEMFONTSIZE</span><span class="o">=</span><span class="m">20</span>
</pre></div>
</div>
<figure class="align-center" id="id23">
<img alt="../../../_images/wms_getlegendgraphic_itemfontsize.png" src="../../../_images/wms_getlegendgraphic_itemfontsize.png" />
<figcaption>
<p><span class="caption-number">図 3.18 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">ITEMFONTSIZE=30</span></code> の凡例</span><a class="headerlink" href="#id23" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="itemfontitalic">
<span id="wms-getlegendgraphic-itemfontitalic"></span><h3>ITEMFONTITALIC<a class="headerlink" href="#itemfontitalic" title="Link to this heading"></a></h3>
<p>このパラメータは、アイテムラベルを斜体で描画するかどうかを指定します。利用可能な値は次の通りです（大文字と小文字は区別されません）:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code></p></li>
</ul>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">ITEMFONTITALIC</span><span class="o">=</span>TRUE
</pre></div>
</div>
<figure class="align-center" id="id24">
<img alt="../../../_images/wms_getlegendgraphic_itemfontitalic.png" src="../../../_images/wms_getlegendgraphic_itemfontitalic.png" />
<figcaption>
<p><span class="caption-number">図 3.19 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">ITEMFONTITALIC=TRUE</span></code> の凡例</span><a class="headerlink" href="#id24" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="itemfontcolor">
<span id="wms-getlegendgraphic-itemfontcolor"></span><h3>ITEMFONTCOLOR<a class="headerlink" href="#itemfontcolor" title="Link to this heading"></a></h3>
<p>このパラメータは、アイテムラベルの色を指定します。色はリテラル（<code class="docutils literal notranslate"><span class="pre">red</span></code>, <code class="docutils literal notranslate"><span class="pre">green</span></code>, ...）または16進数表記（<code class="docutils literal notranslate"><span class="pre">0xFF0000</span></code>, <code class="docutils literal notranslate"><span class="pre">0x00FF00</span></code>, ...）で指定することができます。</p>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetLegendGraphic
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>airports,places
<span class="p">&amp;</span><span class="nv">BBOX</span><span class="o">=</span><span class="m">43</span>.20,-2.93,49.35,8.32
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">TRANSPARENT</span><span class="o">=</span>TRUE
<span class="p">&amp;</span><span class="nv">ITEMFONTCOLOR</span><span class="o">=</span>0x5f9930
</pre></div>
</div>
<figure class="align-center" id="id25">
<img alt="../../../_images/wms_getlegendgraphic_itemfontcolor.png" src="../../../_images/wms_getlegendgraphic_itemfontcolor.png" />
<figcaption>
<p><span class="caption-number">図 3.20 </span><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">ITEMFONTCOLOR=0x5f9930</span></code> の凡例</span><a class="headerlink" href="#id25" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="addlayergroups">
<span id="wms-getlegendgraphic-addlayergroups"></span><h3>ADDLAYERGROUPS<a class="headerlink" href="#addlayergroups" title="Link to this heading"></a></h3>
<p>This parameter specifies if the JSON output will also
display the names of the layers groups (and subgroups) in the legend entry.
Possible values are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TRUE</span></code>: display the groups labels</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FALSE</span></code> (default): hide the groups labels</p></li>
</ul>
<figure class="align-center" id="id26">
<img alt="../../../_images/wms_getlegendgraphic_addlayergroups.png" src="../../../_images/wms_getlegendgraphic_addlayergroups.png" />
<figcaption>
<p><span class="caption-number">図 3.21 </span><span class="caption-text">Legend without (left) and with (right) layer groups labels display</span><a class="headerlink" href="#id26" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The corresponding JSON output showing groups name would look like:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;nodes&quot;</span><span class="p">:</span>
<span class="w">  </span><span class="p">[{</span><span class="w"> </span><span class="nt">&quot;nodes&quot;</span><span class="p">:</span>
<span class="w">     </span><span class="p">[{</span><span class="w"> </span><span class="nt">&quot;icon&quot;</span><span class="p">:</span><span class="s2">&quot;iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAUklEQVQ4jWNgGAXDHzASUqCsrPwfmX/37l28evBKKisr/0+a7IMiNi93C15DcUpgM4wYQ5nwuZAcMIQNvHv3LuO83C0kG0hysoFZRrJNo2AYAQC87BpkGQj1fwAAAABJRU5ErkJggg==&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;layer_a&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;layer&quot;</span>
<span class="w">     </span><span class="p">},</span>
<span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;nodes&quot;</span><span class="p">:</span>
<span class="w">       </span><span class="p">[{</span><span class="w"> </span><span class="nt">&quot;icon&quot;</span><span class="p">:</span><span class="s2">&quot;iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAHUlEQVQ4jWNgGAWjYCQDxh887r8G2hGjYBQMGAAA1x0CR0FzIkYAAAAASUVORK5CYII=&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;layer_b&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;layer&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;icon&quot;</span><span class="p">:</span><span class="s2">&quot;iVBORw0KGgoAAAANSUhEUgAAABMAAAAUCAYAAABvVQZ0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAHUlEQVQ4jWNgGAWjYCQDxtmzZ/8aaEeMglEwYAAAaIoCzTtn5XoAAAAASUVORK5CYII=&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;layer_c&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;layer&quot;</span>
<span class="w">       </span><span class="p">}],</span>
<span class="w">       </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;lines&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;group&quot;</span>
<span class="w">     </span><span class="p">},</span>
<span class="w">     </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;icon&quot;</span><span class="p">:</span><span class="s2">&quot;iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAKklEQVQ4jWNUVlX/z0AlwMLAwMDAnXmQKoYxUcWUUcNGDRs1bNSwYWYYACXDAsvQaTuVAAAAAElFTkSuQmCC&quot;</span><span class="p">,</span>
<span class="w">       </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;layer_d&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;layer&quot;</span>
<span class="w">     </span><span class="p">}],</span>
<span class="w">     </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;top-level-group&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;group&quot;</span>
<span class="w">  </span><span class="p">}],</span>
<span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="getstyle-s">
<span id="wms-getstyle"></span><h2><span class="section-number">3.2.5. </span>GetStyle(s)<a class="headerlink" href="#getstyle-s" title="Link to this heading"></a></h2>
<p>OGC WMS 1.1.1 仕様に準拠した <strong>GetStyle</strong> (または <strong>GetStyles</strong>) リクエストの標準パラメータ：</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-service"><span class="std std-ref">SERVICE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスの名称 (<strong>WMS</strong>)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="basics.html#services-basics-request"><span class="std std-ref">REQUEST</span></a></p></td>
<td><p>Yes</p></td>
<td><p>リクエストの名称（<strong>GetStyle</strong> 又は <strong>GetStyles</strong>）</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-layers"><span class="std std-ref">LAYERS</span></a></p></td>
<td><p>Yes</p></td>
<td><p>クエリするレイヤ</p></td>
</tr>
</tbody>
</table>
<p><strong>GetStyle</strong> リクエストは、以下のベンダーパラメータもサポートしています:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-map"><span class="std std-ref">MAP</span></a></p></td>
<td><p>Yes</p></td>
<td><p>QGISプロジェクトファイル</p></td>
</tr>
</tbody>
</table>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetStyles
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>mylayer1,mylayer2
</pre></div>
</div>
</section>
<section id="describelayer">
<span id="wms-describelayer"></span><h2><span class="section-number">3.2.6. </span>DescribeLayer<a class="headerlink" href="#describelayer" title="Link to this heading"></a></h2>
<p>OGC WMS 1.1.1 及び 1.3.0 仕様に従った <strong>DescribeLayer</strong> リクエストの標準パラメータ:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-service"><span class="std std-ref">SERVICE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスの名称 (<strong>WMS</strong>)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="basics.html#services-basics-request"><span class="std std-ref">REQUEST</span></a></p></td>
<td><p>Yes</p></td>
<td><p>リクエストの名称 (<strong>DescribeLayer</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-layers"><span class="std std-ref">LAYERS</span></a></p></td>
<td><p>Yes</p></td>
<td><p>説明するレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-describelayer-sldversion"><span class="std std-ref">SLD_VERSION</span></a></p></td>
<td><p>Yes</p></td>
<td><p>SLDのバージョン</p></td>
</tr>
</tbody>
</table>
<p><strong>DescribeLayer</strong> リクエストは次のベンダーパラメータもサポートしています:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-map"><span class="std std-ref">MAP</span></a></p></td>
<td><p>Yes</p></td>
<td><p>QGISプロジェクトファイル</p></td>
</tr>
</tbody>
</table>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>DescribeLayer
<span class="p">&amp;</span><span class="nv">SLD_VERSION</span><span class="o">=</span><span class="m">1</span>.1.0
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>mylayer1
</pre></div>
</div>
<p>XML文書は次のようになります:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;DescribeLayerResponse</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/sld&quot;</span><span class="w"> </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="w"> </span><span class="na">xmlns:ows=</span><span class="s">&quot;http://www.opengis.net/ows&quot;</span><span class="w"> </span><span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span><span class="w"> </span><span class="na">xmlns:se=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span><span class="w"> </span><span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/sld http://schemas.opengis.net/sld/1.1.0/DescribeLayer.xsd&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;Version&gt;</span>1.1.0<span class="nt">&lt;/Version&gt;</span>
<span class="w">    </span><span class="nt">&lt;LayerDescription&gt;</span>
<span class="w">        </span><span class="nt">&lt;owsType&gt;</span>wfs<span class="nt">&lt;/owsType&gt;</span>
<span class="w">        </span><span class="nt">&lt;se:OnlineResource</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;http://localhost/qgisserver&quot;</span><span class="w"> </span><span class="na">xlink:type=</span><span class="s">&quot;simple&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;TypeName&gt;</span>
<span class="w">            </span><span class="nt">&lt;se:FeatureTypeName&gt;</span>my_vector_layer<span class="nt">&lt;/se:FeatureTypeName&gt;</span>
<span class="w">        </span><span class="nt">&lt;/TypeName&gt;</span>
<span class="w">    </span><span class="nt">&lt;/LayerDescription&gt;</span>
<span class="w">    </span><span class="nt">&lt;LayerDescription&gt;</span>
<span class="w">        </span><span class="nt">&lt;owsType&gt;</span>wcs<span class="nt">&lt;/owsType&gt;</span>
<span class="w">        </span><span class="nt">&lt;se:OnlineResource</span><span class="w"> </span><span class="na">xlink:href=</span><span class="s">&quot;http://localhost/qgisserver&quot;</span><span class="w"> </span><span class="na">xlink:type=</span><span class="s">&quot;simple&quot;</span><span class="nt">/&gt;</span>
<span class="w">        </span><span class="nt">&lt;TypeName&gt;</span>
<span class="w">            </span><span class="nt">&lt;se:FeatureTypeName&gt;</span>my_raster_layer<span class="nt">&lt;/se:FeatureTypeName&gt;</span>
<span class="w">        </span><span class="nt">&lt;/TypeName&gt;</span>
<span class="w">    </span><span class="nt">&lt;/LayerDescription&gt;</span>
<span class="nt">&lt;/DescribeLayerResponse&gt;</span>
</pre></div>
</div>
<section id="sld-version">
<span id="wms-describelayer-sldversion"></span><h3>SLD_VERSION<a class="headerlink" href="#sld-version" title="Link to this heading"></a></h3>
<p>このパラメータでは、SLDのバージョンを指定することができます。<cite>値 `11.0`</cite> のみが利用できます。</p>
</section>
</section>
<section id="getprint">
<span id="wms-getprint"></span><h2><span class="section-number">3.2.7. </span>GetPrint<a class="headerlink" href="#getprint" title="Link to this heading"></a></h2>
<p>QGISサーバには、PDFまたはピクセル形式のプリントレイアウト出力を作成する機能があります。公表されたプロジェクトでのプリントレイアウトがテンプレートとして使用されます。GETPRINT要求では、クライアントは含まれているレイアウト地図とラベルのパラメータを指定する可能性があります。</p>
<p><strong>GetPrint</strong> リクエストは、 <a class="reference internal" href="#wms-redlining"><span class="std std-ref">redlining</span></a>、 <a class="reference internal" href="#wms-external"><span class="std std-ref">external WMS layers</span></a> のほか、次のパラメータをサポートします:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-map"><span class="std std-ref">MAP</span></a></p></td>
<td><p>Yes</p></td>
<td><p>QGISプロジェクトファイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="basics.html#services-basics-service"><span class="std std-ref">SERVICE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスの名称 (<strong>WMS</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-request"><span class="std std-ref">REQUEST</span></a></p></td>
<td><p>Yes</p></td>
<td><p>リクエストの名称 (<strong>GetPrint</strong>)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-version"><span class="std std-ref">VERSION</span></a></p></td>
<td><p>No</p></td>
<td><p>サービスのバージョン</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-layers"><span class="std std-ref">LAYERS</span></a></p></td>
<td><p>No</p></td>
<td><p>表示するレイヤ</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-template"><span class="std std-ref">TEMPLATE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>使用するレイアウトのテンプレート</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-srs"><span class="std std-ref">SRS / CRS</span></a></p></td>
<td><p>Yes</p></td>
<td><p>座標参照系</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-getprint-format"><span class="std std-ref">FORMAT</span></a></p></td>
<td><p>No</p></td>
<td><p>出力形式</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-getprint-formatoptions"><span class="std std-ref">FORMAT_OPTIONS</span></a></p></td>
<td><p>No</p></td>
<td><p>指定されたファイル形式のオプション</p>
<p>Only for <code class="docutils literal notranslate"><span class="pre">FORMAT=application/pdf</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-atlaspk"><span class="std std-ref">ATLAS_PK</span></a></p></td>
<td><p>No</p></td>
<td><p>地図帳機能</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-styles"><span class="std std-ref">STYLES</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤのスタイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-transparent"><span class="std std-ref">TRANSPARENT</span></a></p></td>
<td><p>No</p></td>
<td><p>透明な背景</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-opacities"><span class="std std-ref">OPACITIES</span></a></p></td>
<td><p>No</p></td>
<td><p>レイヤまたはグループの不透明度</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-selection"><span class="std std-ref">SELECTION</span></a></p></td>
<td><p>No</p></td>
<td><p>地物を強調します</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-mapextent"><span class="std std-ref">mapX:EXTENT</span></a></p></td>
<td><p>No</p></td>
<td><p>map <cite>X</cite> の範囲</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-maplayers"><span class="std std-ref">mapX:LAYERS</span></a></p></td>
<td><p>No</p></td>
<td><p>map <cite>X</cite> のレイヤ</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-mapstyles"><span class="std std-ref">mapX:STYLES</span></a></p></td>
<td><p>No</p></td>
<td><p>map <cite>X</cite> のレイヤのスタイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-mapscale"><span class="std std-ref">mapX:SCALE</span></a></p></td>
<td><p>No</p></td>
<td><p>map <cite>X</cite> のレイヤの縮尺</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-maprotation"><span class="std std-ref">mapX:ROTATION</span></a></p></td>
<td><p>No</p></td>
<td><p>map <cite>X</cite> の角度</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#wms-mapgridintervalx"><span class="std std-ref">mapX:GRID_INTERVAL_X</span></a></p></td>
<td><p>No</p></td>
<td><p>map <cite>X</cite> のx軸のグリッド間隔</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#wms-mapgridintervaly"><span class="std std-ref">mapX:GRID_INTERVAL_Y</span></a></p></td>
<td><p>No</p></td>
<td><p>map <cite>X</cite> のy軸のグリッド間隔</p></td>
</tr>
</tbody>
</table>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetPrint
<span class="p">&amp;</span><span class="nv">MAP</span><span class="o">=</span>/home/qgis/projects/world.qgs
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">FORMAT</span><span class="o">=</span>png
<span class="p">&amp;</span><span class="nv">TEMPLATE</span><span class="o">=</span>Layout%201
<span class="p">&amp;</span>map0:EXTENT<span class="o">=</span>-180,-90,180,90
<span class="p">&amp;</span>map0:LAYERS<span class="o">=</span>mylayer1,mylayer2,mylayer3
<span class="p">&amp;</span>map0:OPACITIES<span class="o">=</span><span class="m">125</span>,200,125
<span class="p">&amp;</span>map0:ROTATION<span class="o">=</span><span class="m">45</span>
</pre></div>
</div>
<p>レイアウトテンプレートには複数のマップが含まれている可能性があることに注意してください。このとき、特定のマップを設定したい場合は、 <code class="docutils literal notranslate"><span class="pre">mapX:</span></code> パラメータを使う必要があります。ここで、 <code class="docutils literal notranslate"><span class="pre">X</span></code> は <strong>GetProjectSettings</strong> リクエストのおかげで取得できる正の数です。</p>
<p>例:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;WMS_Capabilities&gt;</span>
...
<span class="nt">&lt;ComposerTemplates</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;wms:_ExtendedCapabilities&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;ComposerTemplate</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;297&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;210&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Druckzusammenstellung 1&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;ComposerMap</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;171&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;133&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;map0&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;ComposerMap</span><span class="w"> </span><span class="na">width=</span><span class="s">&quot;49&quot;</span><span class="w"> </span><span class="na">height=</span><span class="s">&quot;46&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;map1&quot;</span><span class="nt">/&gt;&lt;/ComposerTemplate&gt;</span>
<span class="nt">&lt;/ComposerTemplates&gt;</span>
...
<span class="nt">&lt;/WMS_Capabilities&gt;</span>
</pre></div>
</div>
<section id="template">
<span id="wms-template"></span><h3>TEMPLATE<a class="headerlink" href="#template" title="Link to this heading"></a></h3>
<p>このパラメータを使って、印刷に使うレイアウトテンプレートの名前を指定することができます。</p>
</section>
<section id="wms-getprint-format">
<span id="id5"></span><h3>FORMAT<a class="headerlink" href="#wms-getprint-format" title="Link to this heading"></a></h3>
<p>このパラメータは、マップ画像の形式を指定します。使用可能な値は以下の通りです:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">png</span></code> （デフォルト値）</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/png</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jpg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jpeg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/jpeg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">svg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/svg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">image/svg+xml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pdf</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">application/pdf</span></code></p></li>
</ul>
<p>もし <code class="docutils literal notranslate"><span class="pre">FORMAT</span></code> パラメータがこれらの値のいずれとも異なる場合は、例外が返されます。</p>
</section>
<section id="wms-getprint-formatoptions">
<span id="id6"></span><h3>FORMAT_OPTIONS<a class="headerlink" href="#wms-getprint-formatoptions" title="Link to this heading"></a></h3>
<p>This parameter can be used to specify options for the selected format.
Only for <code class="docutils literal notranslate"><span class="pre">FORMAT=application/pdf</span></code> in GetPrint requests.
Takes a list of key:value pairs separated by semicolon:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">RASTERIZE_WHOLE_IMAGE</span></code>: whether the whole pdf should be exported as an image. Default: false.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">FORCE_VECTOR_OUTPUT</span></code>: whether pdf should be exported as vector. Default: false.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">APPEND_GEOREFERENCE</span></code>: whether georeference info shall be added to the pdf. Default: true.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXPORT_METADATA</span></code>: whether metadata shall be added to the pdf. Default: true.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TEXT_RENDER_FORMAT</span></code>: sets the text render format for pdf export.
It can be <code class="docutils literal notranslate"><span class="pre">AlwaysOutlines</span></code> (default) or <code class="docutils literal notranslate"><span class="pre">AlwaysText</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SIMPLIFY_GEOMETRY</span></code>: whether features geometries shall be simplified. Default: true.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WRITE_GEO_PDF</span></code>: whether a GeoPDF shall be exported. Default: false.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">USE_ISO_32000_EXTENSION_FORMAT_GEOREFERENCING</span></code>: whether Iso32000 georeferencing shall be used. Default: false.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">USE_OGC_BEST_PRACTICE_FORMAT_GEOREFERENCING</span></code>: whether OGC best practice georeferencing shall be used. Default: false.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXPORT_THEMES</span></code>: a comma separated list of map themes to use for a GeoPDF export</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PREDEFINED_MAP_SCALES</span></code>: a comma separated list of map scales to render the map</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LOSSLESS_IMAGE_COMPRESSION</span></code>: whether images embedded in pdf must be compressed using a lossless algorithm. Default: false.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DISABLE_TILED_RASTER_RENDERING</span></code>: whether rasters shall be untiled in the pdf. Default: false.</p></li>
</ul>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetPrint
<span class="p">&amp;</span><span class="nv">MAP</span><span class="o">=</span>/home/qgis/projects/world.qgs
<span class="p">&amp;</span><span class="nv">CRS</span><span class="o">=</span>EPSG:4326
<span class="p">&amp;</span><span class="nv">FORMAT</span><span class="o">=</span>pdf
<span class="p">&amp;</span><span class="nv">TEMPLATE</span><span class="o">=</span>Layout%201
<span class="p">&amp;</span><span class="nv">FORMAT_OPTIONS</span><span class="o">=</span>FORCE_VECTOR_OUTPUT:TRUE<span class="p">;</span>TEXT_RENDER_FORMAT:AlwaysOutlines<span class="p">;</span>PREDEFINED_MAP_SCALES:250
</pre></div>
</div>
</section>
<section id="atlas-pk">
<span id="wms-atlaspk"></span><h3>ATLAS_PK<a class="headerlink" href="#atlas-pk" title="Link to this heading"></a></h3>
<p>このパラメータは、印刷したい地物を指定することで、地図帳レンダリングを有効化することができます。すべての地物を含む地図帳を取得するには、<code class="docutils literal notranslate"><span class="pre">*</span></code> シンボルを使用することができます（プロジェクト設定で許されている地物の最大数に従います）。</p>
<p><code class="docutils literal notranslate"><span class="pre">FORMAT</span></code> が <code class="docutils literal notranslate"><span class="pre">pdf</span></code> の場合、地物ページを組み合わせた1つのPDFドキュメントが返されます。それ以外の形式の場合は、1つのページが返されます。</p>
</section>
<section id="mapx-extent">
<span id="wms-mapextent"></span><h3>mapX:EXTENT<a class="headerlink" href="#mapx-extent" title="Link to this heading"></a></h3>
<p>このパラメータは、レイアウトマップアイテムの範囲をxmin,ymin,xmax,ymaxで指定します。</p>
</section>
<section id="mapx-rotation">
<span id="wms-maprotation"></span><h3>mapX:ROTATION<a class="headerlink" href="#mapx-rotation" title="Link to this heading"></a></h3>
<p>このパラメータは、マップの角度を度で指定します。</p>
</section>
<section id="mapx-grid-interval-x">
<span id="wms-mapgridintervalx"></span><h3>mapX:GRID_INTERVAL_X<a class="headerlink" href="#mapx-grid-interval-x" title="Link to this heading"></a></h3>
<p>このパラメータは、X 方向のグリッド線密度を指定します。</p>
</section>
<section id="mapx-grid-interval-y">
<span id="wms-mapgridintervaly"></span><h3>mapX:GRID_INTERVAL_Y<a class="headerlink" href="#mapx-grid-interval-y" title="Link to this heading"></a></h3>
<p>このパラメータは、Y 方向のグリッド線密度を指定します。</p>
</section>
<section id="mapx-scale">
<span id="wms-mapscale"></span><h3>mapX:SCALE<a class="headerlink" href="#mapx-scale" title="Link to this heading"></a></h3>
<p>このパラメータは、レイアウト地図アイテムの地図縮尺を指定します。これは、クライアントとサーバーで縮尺分母を計算するアルゴリズムが異なる場合でもレイヤとラベルの縮尺に基づく可視性を確保するのに役立ちます。</p>
</section>
<section id="mapx-layers">
<span id="wms-maplayers"></span><h3>mapX:LAYERS<a class="headerlink" href="#mapx-layers" title="Link to this heading"></a></h3>
<p>このパラメータは、レイアウトマップアイテムのレイヤを指定します。このパラメータの詳細については <a class="reference internal" href="#wms-layers"><span class="std std-ref">GetMap Layers</span></a> を参照してください。</p>
</section>
<section id="mapx-styles">
<span id="wms-mapstyles"></span><h3>mapX:STYLES<a class="headerlink" href="#mapx-styles" title="Link to this heading"></a></h3>
<p>このパラメータは、特定のレイアウトマップアイテムに定義されているレイヤのスタイルを指定します。このパラメータの詳細については <a class="reference internal" href="#wms-styles"><span class="std std-ref">GetMap Styles</span></a> を参照してください。</p>
</section>
</section>
<section id="getprojectsettings">
<span id="wms-getprojectsettings"></span><h2><span class="section-number">3.2.8. </span>GetProjectSettings<a class="headerlink" href="#getprojectsettings" title="Link to this heading"></a></h2>
<p>このリクエストタイプは <a class="reference internal" href="#wms-getcapabilities"><span class="std std-ref">GetCapabilities</span></a> と同様に動作しますが、よりQGIS Serverに特化しており、 <a class="reference internal" href="#wms-getcapabilities"><span class="std std-ref">GetCapabilities</span></a> の出力では得られない追加情報をクライアントが読み取ることができるようになっています：</p>
<ul class="simple">
<li><p>レイヤーの初期可視性</p></li>
<li><p>ベクターの属性とその編集タイプに関する情報</p></li>
<li><p>レイヤーの順序と描画順序に関する情報</p></li>
<li><p>WFSに掲載されたレイヤのリスト</p></li>
<li><p>レイヤツリー内のグループが <a class="reference internal" href="../../user_manual/introduction/general_tools.html#group-layers-interact"><span class="std std-ref">mutually exclusive</span></a> であるかどうかを表示します</p></li>
</ul>
<p><strong>GetProjectSettings</strong> リクエストは次のパラメータをサポートしています:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-map"><span class="std std-ref">MAP</span></a></p></td>
<td><p>Yes</p></td>
<td><p>QGISプロジェクトファイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="basics.html#services-basics-service"><span class="std std-ref">SERVICE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスの名称 (<strong>WMS</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-request"><span class="std std-ref">REQUEST</span></a></p></td>
<td><p>Yes</p></td>
<td><p>リクエストの名称 (<strong>GetProjectSettings</strong>)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="getschemaextension">
<span id="wms-getschemaextension"></span><h2><span class="section-number">3.2.9. </span>GetSchemaExtension<a class="headerlink" href="#getschemaextension" title="Link to this heading"></a></h2>
<p><strong>GetSchemaExtension</strong> リクエストは、QGIS Serverが実装するようなWMSサービスのオプションの拡張機能および操作を取得することができます。</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>パラメータ</p></th>
<th class="head"><p>必須</p></th>
<th class="head"><p>説明</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-map"><span class="std std-ref">MAP</span></a></p></td>
<td><p>Yes</p></td>
<td><p>QGISプロジェクトファイル</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="basics.html#services-basics-service"><span class="std std-ref">SERVICE</span></a></p></td>
<td><p>Yes</p></td>
<td><p>サービスの名称 (<strong>WMS</strong>)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="basics.html#services-basics-request"><span class="std std-ref">REQUEST</span></a></p></td>
<td><p>Yes</p></td>
<td><p>リクエストの名称 (<strong>GetSchemaExtension</strong>)</p></td>
</tr>
</tbody>
</table>
<p>URLの例:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetSchemaExtension
</pre></div>
</div>
<p>XML文書は次のようになります:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;schema</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema&quot;</span><span class="w"> </span><span class="na">xmlns:wms=</span><span class="s">&quot;http://www.opengis.net/wms&quot;</span><span class="w"> </span><span class="na">xmlns:qgs=</span><span class="s">&quot;http://www.qgis.org/wms&quot;</span><span class="w"> </span><span class="na">targetNamespace=</span><span class="s">&quot;http://www.qgis.org/wms&quot;</span><span class="w"> </span><span class="na">elementFormDefault=</span><span class="s">&quot;qualified&quot;</span><span class="w"> </span><span class="na">version=</span><span class="s">&quot;1.0.0&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nt">&lt;import</span><span class="w"> </span><span class="na">namespace=</span><span class="s">&quot;http://www.opengis.net/wms&quot;</span><span class="w"> </span><span class="na">schemaLocation=</span><span class="s">&quot;http://schemas.opengis.net/wms/1.3.0/capabilities_1_3_0.xsd&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;element</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;GetPrint&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wms:OperationType&quot;</span><span class="w"> </span><span class="na">substitutionGroup=</span><span class="s">&quot;wms:_ExtendedOperation&quot;</span><span class="nt">/&gt;</span>
<span class="w">    </span><span class="nt">&lt;element</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;GetStyles&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;wms:OperationType&quot;</span><span class="w"> </span><span class="na">substitutionGroup=</span><span class="s">&quot;wms:_ExtendedOperation&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/schema&gt;</span>
</pre></div>
</div>
</section>
<section id="external-wms-layers">
<span id="wms-external"></span><h2><span class="section-number">3.2.10. </span>外部WMSレイヤ<a class="headerlink" href="#external-wms-layers" title="Link to this heading"></a></h2>
<p>QGIS Serverでは、WMS <a class="reference internal" href="#wms-getmap"><span class="std std-ref">GetMap</span></a> およびWMS <a class="reference internal" href="#wms-getprint"><span class="std std-ref">GetPrint</span></a> リクエストに外部のWMSサーバーからのレイヤを含めることができます。これは、ウェブクライアントがウェブマップで外部の背景レイヤを使用する場合に特に便利です。パフォーマンス上の理由から、このようなレイヤはWebクライアントから直接リクエストされるべきです（QGISサーバーを経由してカスケードせずに）。しかし、印刷では、これらのレイヤは、印刷されたマップに表示されるように、QGISサーバー経由でカスケードされるべきです。</p>
<p>外部レイヤは、LAYERSパラメータにEXTERNAL_WMS: &lt;layername&gt;として追加することができます。外部WMSレイヤのパラメータ（url, format, dpiMode, crs, layers, stylesなど）は，後でサービスパラメータ &lt;layername&gt;: &lt;parameter&gt;として与えることができます。<a class="reference internal" href="#wms-getmap"><span class="std std-ref">GetMap</span></a> リクエストでは、次のようになります:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">LAYERS</span><span class="o">=</span>EXTERNAL_WMS:basemap,layer1,layer2
<span class="p">&amp;</span><span class="nv">OPACITIES</span><span class="o">=</span><span class="m">100</span>,200,255
<span class="p">&amp;</span><span class="nv">STYLES</span><span class="o">=</span>,,
<span class="p">&amp;</span>basemap:url<span class="o">=</span>http://externalserver.com/wms.fcgi
<span class="p">&amp;</span>basemap:format<span class="o">=</span>image/jpeg
<span class="p">&amp;</span>basemap:dpiMode<span class="o">=</span><span class="m">7</span>
<span class="p">&amp;</span>basemap:crs<span class="o">=</span>EPSG:2056
<span class="p">&amp;</span>basemap:layers<span class="o">=</span>orthofoto
<span class="p">&amp;</span>basemap:styles<span class="o">=</span>default
</pre></div>
</div>
<p>同様に、外部レイヤーは <a class="reference internal" href="#wms-getprint"><span class="std std-ref">GetPrint</span></a> リクエストで使用することができます：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetPrint
<span class="p">&amp;</span><span class="nv">TEMPLATE</span><span class="o">=</span>A4
<span class="p">&amp;</span>map0:layers<span class="o">=</span>EXTERNAL_WMS:basemap,layer1,layer2
<span class="p">&amp;</span>map0:EXTENT<span class="o">=</span>&lt;minx,miny,maxx,maxy&gt;
<span class="p">&amp;</span><span class="nv">OPACITIES</span><span class="o">=</span><span class="m">100</span>,200,255
<span class="p">&amp;</span>basemap:url<span class="o">=</span>http://externalserver.com/wms.fcgi
<span class="p">&amp;</span>basemap:format<span class="o">=</span>image/jpeg
<span class="p">&amp;</span>basemap:dpiMode<span class="o">=</span><span class="m">7</span>
<span class="p">&amp;</span>basemap:crs<span class="o">=</span>EPSG:2056
<span class="p">&amp;</span>basemap:layers<span class="o">=</span>orthofoto
<span class="p">&amp;</span>basemap:styles<span class="o">=</span>default
</pre></div>
</div>
</section>
<section id="redlining">
<span id="wms-redlining"></span><h2><span class="section-number">3.2.11. </span>赤線引き<a class="headerlink" href="#redlining" title="Link to this heading"></a></h2>
<p>この機能は <a class="reference internal" href="#wms-getmap"><span class="std std-ref">GetMap</span></a> と <a class="reference internal" href="#wms-getprint"><span class="std std-ref">GetPrint</span></a> のリクエストで使用することができます。</p>
<p>赤線引き機能は、サーバーが返す標準的な画像（マップ）の上に重ねるジオメトリとラベルをリクエストに渡すために使用されます。ユーザーはこれにより、標準的なマップにはない領域や場所などを強調したり、コメント（ラベル）を追加したりすることができます。</p>
<p><a class="reference internal" href="#wms-getmap"><span class="std std-ref">GetMap</span></a> リクエストは、以下の形式です：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetMap
<span class="p">&amp;</span><span class="nv">HIGHLIGHT_GEOM</span><span class="o">=</span>POLYGON<span class="o">((</span><span class="m">590000</span><span class="w"> </span><span class="m">5647000</span>,<span class="w"> </span><span class="m">590000</span><span class="w"> </span><span class="m">6110620</span>,<span class="w"> </span><span class="m">2500000</span><span class="w"> </span><span class="m">6110620</span>,<span class="w"> </span><span class="m">2500000</span><span class="w"> </span><span class="m">5647000</span>,<span class="w"> </span><span class="m">590000</span><span class="w"> </span><span class="m">5647000</span><span class="o">))</span>
<span class="p">&amp;</span><span class="nv">HIGHLIGHT_SYMBOL</span><span class="o">=</span>&lt;StyledLayerDescriptor&gt;&lt;UserStyle&gt;&lt;Name&gt;Highlight&lt;/Name&gt;&lt;FeatureTypeStyle&gt;&lt;Rule&gt;&lt;Name&gt;Symbol&lt;/Name&gt;&lt;LineSymbolizer&gt;&lt;Stroke&gt;&lt;SvgParameter<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;stroke&quot;</span>&gt;%23ea1173&lt;/SvgParameter&gt;&lt;SvgParameter<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;stroke-opacity&quot;</span>&gt;1&lt;/SvgParameter&gt;&lt;SvgParameter<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;stroke-width&quot;</span>&gt;1.6&lt;/SvgParameter&gt;&lt;/Stroke&gt;&lt;/LineSymbolizer&gt;&lt;/Rule&gt;&lt;/FeatureTypeStyle&gt;&lt;/UserStyle&gt;&lt;/StyledLayerDescriptor&gt;
<span class="p">&amp;</span><span class="nv">HIGHLIGHT_LABELSTRING</span><span class="o">=</span>Write<span class="w"> </span>label<span class="w"> </span>here
<span class="p">&amp;</span><span class="nv">HIGHLIGHT_LABELSIZE</span><span class="o">=</span><span class="m">16</span>
<span class="p">&amp;</span><span class="nv">HIGHLIGHT_LABELCOLOR</span><span class="o">=</span>%23000000
<span class="p">&amp;</span><span class="nv">HIGHLIGHT_LABELBUFFERCOLOR</span><span class="o">=</span>%23FFFFFF
<span class="p">&amp;</span><span class="nv">HIGHLIGHT_LABELBUFFERSIZE</span><span class="o">=</span><span class="m">1</span>.5
</pre></div>
</div>
<p><span class="xref std std-ref">GetPrint &lt;wms_getprint&gt;`と同等の形式です（どのマップに赤線が引かれているかを知るために ``mapX:`</span> パラメータが追加されていることに注意してください）：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>http://localhost/qgisserver?
<span class="nv">SERVICE</span><span class="o">=</span>WMS
<span class="p">&amp;</span><span class="nv">VERSION</span><span class="o">=</span><span class="m">1</span>.3.0
<span class="p">&amp;</span><span class="nv">REQUEST</span><span class="o">=</span>GetPrint
<span class="p">&amp;</span>map0:HIGHLIGHT_GEOM<span class="o">=</span>POLYGON<span class="o">((</span><span class="m">590000</span><span class="w"> </span><span class="m">5647000</span>,<span class="w"> </span><span class="m">590000</span><span class="w"> </span><span class="m">6110620</span>,<span class="w"> </span><span class="m">2500000</span><span class="w"> </span><span class="m">6110620</span>,<span class="w"> </span><span class="m">2500000</span><span class="w"> </span><span class="m">5647000</span>,<span class="w"> </span><span class="m">590000</span><span class="w"> </span><span class="m">5647000</span><span class="o">))</span>
<span class="p">&amp;</span>map0:HIGHLIGHT_SYMBOL<span class="o">=</span>&lt;StyledLayerDescriptor&gt;&lt;UserStyle&gt;&lt;Name&gt;Highlight&lt;/Name&gt;&lt;FeatureTypeStyle&gt;&lt;Rule&gt;&lt;Name&gt;Symbol&lt;/Name&gt;&lt;LineSymbolizer&gt;&lt;Stroke&gt;&lt;SvgParameter<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;stroke&quot;</span>&gt;%23ea1173&lt;/SvgParameter&gt;&lt;SvgParameter<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;stroke-opacity&quot;</span>&gt;1&lt;/SvgParameter&gt;&lt;SvgParameter<span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="s2">&quot;stroke-width&quot;</span>&gt;1.6&lt;/SvgParameter&gt;&lt;/Stroke&gt;&lt;/LineSymbolizer&gt;&lt;/Rule&gt;&lt;/FeatureTypeStyle&gt;&lt;/UserStyle&gt;&lt;/StyledLayerDescriptor&gt;
<span class="p">&amp;</span>map0:HIGHLIGHT_LABELSTRING<span class="o">=</span>Write<span class="w"> </span>label<span class="w"> </span>here
<span class="p">&amp;</span>map0:HIGHLIGHT_LABELSIZE<span class="o">=</span><span class="m">16</span>
<span class="p">&amp;</span>map0:HIGHLIGHT_LABELCOLOR<span class="o">=</span>%23000000
<span class="p">&amp;</span>map0:HIGHLIGHT_LABELBUFFERCOLOR<span class="o">=</span>%23FFFFFF
<span class="p">&amp;</span>map0:HIGHLIGHT_LABELBUFFERSIZE<span class="o">=</span><span class="m">1</span>.5
</pre></div>
</div>
<p>上記のリクエストによって出力された画像は次のとおりです、ポリゴンとラベルが通常のマップの上に描かれています：</p>
<figure class="align-center" id="id27">
<span id="figure-server-redlining"></span><img alt="../../../_images/server_redlining.png" src="../../../_images/server_redlining.png" />
<figcaption>
<p><span class="caption-number">図 3.22 </span><span class="caption-text">赤線引きパラメータを含むGetMapリクエストに対するサーバーの応答</span><a class="headerlink" href="#id27" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>このリクエストには、赤線引き機能を制御するためのいくつかのパラメータがあることがわかります。その全リストは以下の通りです:</p>
<ul class="simple">
<li><p><strong>highlight_geom</strong>: POINT、MULTILINESTRING、POLYGONなどを追加することができます。マルチパートジオメトリをサポートしています。以下はその例です： <code class="docutils literal notranslate"><span class="pre">HIGHLIGHT_GEOM=MULTILINESTRING((0</span> <span class="pre">0,</span> <span class="pre">0</span> <span class="pre">1,</span> <span class="pre">1</span> <span class="pre">1))</span></code>. 座標はGetMap/GetPrintリクエストのCRSにあるはずです。</p></li>
<li><p><strong>HIGHLIGHT_LABELBUFFERCOLOR</strong>: このパラメーターは、ラベルバッファの色を制御します。</p></li>
<li><p><strong>HIGHLIGHT_LABELBUFFERSIZE</strong>: このパラメーターは、ラベルバッファのサイズを制御します。</p></li>
<li><p><strong>HIGHLIGHT_LABELCOLOR</strong>: このパラメーターは、ラベルの色を制御します。</p></li>
<li><p><strong>HIGHLIGHT_LABEL_DISTANCE</strong>: 地物（例 point又はライン）とラベルの間の距離をmmで制御します</p></li>
<li><p><strong>highlight_labelfont</strong>： このパラメータは、ラベルのフォントを制御します（例：Arial）。</p></li>
<li><p><strong>HIGHLIGHT_LABEL_HORIZONTAL_ALIGNMENT</strong>： ラベルを水平方向に指定された整列（例：'left', 'center', 'right' ）で配置します。</p></li>
<li><p><strong>HIGHLIGHT_LABEL_ROTATION</strong>: ラベルの角度を度で制御します</p></li>
<li><p><strong>HIGHLIGHT_LABELSIZE</strong>: このパラメーターは、ラベルのサイズを制御します。</p></li>
<li><p><strong>HIGHLIGHT_LABELSTRING</strong> ：ラベルのテキストをこのパラメーターに渡すことができます。</p></li>
<li><p><strong>HIGHLIGHT_LABEL_VERTICAL_ALIGNMENT</strong>： 指定された整列（例：'top', 'half', 'bottom'）でラベルをポイント上に垂直に配置します。</p></li>
<li><p><strong>HIGHLIGHT_SYMBOL</strong> ：ジオメトリの輪郭をどのように表示するかを制御し、ストロークの幅、色、不透明度を変更できます。</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="basics.html" class="btn btn-neutral float-left" title="3.1. 基本" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wfs.html" class="btn btn-neutral float-right" title="3.3. Web Feature Service (WFS)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">最終更新: 2024 6月 25, 05:29 +0900
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/server_manual/services/wms.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/server_manual/services/wms.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/server_manual/services/wms.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/server_manual/services/wms.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/server_manual/services/wms.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/server_manual/services/wms.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/server_manual/services/wms.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/server_manual/services/wms.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/server_manual/services/wms.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/server_manual/services/wms.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/server_manual/services/wms.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/server_manual/services/wms.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/server_manual/services/wms.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/server_manual/services/wms.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/server_manual/services/wms.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/server_manual/services/wms.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/ja/docs/server_manual/services/wms.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/ja/docs/server_manual/services/wms.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/server_manual/services/wms.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/ja/docs/server_manual/services/wms.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/ja/docs/server_manual/services/wms.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/ja/docs/server_manual/services/wms.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/ja/docs/server_manual/services/wms.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/ja/docs/server_manual/services/wms.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/ja/docs/server_manual/services/wms.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/server_manual/services/wms.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#ja/ed8e82d4450e3506db4e85b2614f2ef7" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/ja" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>