<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>22.2.5. The Legend Item &mdash; QGIS Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/user_manual/print_composer/composer_items/composer_legend.html"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="22.2.6. The Scale Bar Item" href="composer_scale_bar.html" />
    <link rel="prev" title="22.2.4. The Label Item" href="composer_label.html" />
  <meta name="description" content="QGIS 3.34 documentation: 22.2.5. The Legend Item">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For Users</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">QGIS Desktop User Guide/Manual (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../preamble/preamble.html">1. Preamble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/foreword.html">2. Foreword</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/conventions.html">3. Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/features.html">4. Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/getting_started.html">5. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/project_files.html">6. Working with Project Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/qgis_gui.html">7. QGIS GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/browser.html">8. The Browser panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/qgis_configuration.html">9. QGIS Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_projections/working_with_projections.html">10. Working with Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../map_views/index.html">11. Visualizing Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/general_tools.html">12. General Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../expressions/index.html">13. Level up with Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../style_library/index.html">14. The Style Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../managing_data_source/index.html">15. Managing Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_vector/index.html">16. Working with Vector Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_raster/index.html">17. Working with Raster Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_mesh/mesh.html">18. Working with Mesh Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_vector_tiles/vector_tiles.html">19. Working with Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_point_clouds/point_clouds.html">20. Working with Point Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_3d_tiles/3d_tiles.html">21. Working with 3D Tiles</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">22. Laying out the maps</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../overview_composer.html">22.1. Overview of the Print Layout</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">22.2. Layout Items</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="composer_items_options.html">22.2.1. Layout Items Common Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_map.html">22.2.2. The Map Item</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_map3d.html">22.2.3. The 3D Map Item</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_label.html">22.2.4. The Label Item</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">22.2.5. The Legend Item</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_scale_bar.html">22.2.6. The Scale Bar Item</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_tables.html">22.2.7. The Table Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_image.html">22.2.8. The Marker, Picture and North Arrow Items</a></li>
<li class="toctree-l4"><a class="reference internal" href="layout_elevation_profile.html">22.2.9. The Elevation Profile Item</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_html_frame.html">22.2.10. The HTML Frame Item</a></li>
<li class="toctree-l4"><a class="reference internal" href="composer_shapes.html">22.2.11. The Shape Items</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../create_output.html">22.3. Creating an Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="../create_reports.html">22.4. Creating a Report</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_ogc/ogc_client_support.html">23. Working with OGC / ISO protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working_with_gps/index.html">24. Working with GPS Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../auth_system/index.html">25. Authentication System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../grass_integration/grass_integration.html">26. GRASS GIS Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../processing/index.html">27. QGIS processing framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../processing_algs/index.html">28. Processing providers and algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../plugins/index.html">29. Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/help_and_support.html">30. Help and Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preamble/contributors.html">31. Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendices/index.html">32. Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../literature_web/literature_and_web_references.html">33. Literature and Web References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../server_manual/index.html">QGIS Server Guide/Manual (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../training_manual/index.html">Training Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gentle_gis_introduction/index.html">A Gentle Introduction to GIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Writers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../documentation_guidelines/index.html">Documentation Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../pyqgis_developer_cookbook/index.html">PyQGIS Cookbook (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developers_guide/index.html">Developers Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">QGIS User Guide</a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">22. </span>Laying out the maps</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">22.2. </span>Layout Items</a></li>
      <li class="breadcrumb-item active"><span class="section-number">22.2.5. </span>The Legend Item</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/user_manual/print_composer/composer_items/composer_legend.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="composer_label.html" class="btn btn-neutral float-left" title="22.2.4. The Label Item" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="composer_scale_bar.html" class="btn btn-neutral float-right" title="22.2.6. The Scale Bar Item" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div></div></blockquote>
<section id="the-legend-item">
<span id="layout-legend-item"></span><span id="index-0"></span><h1><span class="section-number">22.2.5. </span>The Legend Item<a class="headerlink" href="#the-legend-item" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#main-properties" id="id8">Main properties</a></p></li>
<li><p><a class="reference internal" href="#legend-items" id="id9">Legend items</a></p>
<ul>
<li><p><a class="reference internal" href="#data-define-the-legend-labels" id="id10">Data-define the legend labels</a></p></li>
<li><p><a class="reference internal" href="#customizing-legend-items" id="id11">Customizing legend items</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fonts-and-text-formatting" id="id12">Fonts and text formatting</a></p></li>
<li><p><a class="reference internal" href="#columns" id="id13">Columns</a></p></li>
<li><p><a class="reference internal" href="#symbol" id="id14">Symbol</a></p></li>
<li><p><a class="reference internal" href="#wms-legendgraphic" id="id15">WMS LegendGraphic</a></p></li>
<li><p><a class="reference internal" href="#spacing" id="id16">Spacing</a></p></li>
</ul>
</nav>
<p>The <span class="guilabel">Legend</span> item is a box or a table that explains the meanings
of the symbols used on the map. A legend is then bound to a map item. You can
add a legend item with the <a class="reference internal" href="../../../../_images/mActionAddLegend.png"><img alt="addLegend" src="../../../../_images/mActionAddLegend.png" style="width: 1.5em;" /></a> <span class="guilabel">Add Legend</span> tool following
<a class="reference internal" href="composer_items_options.html#create-layout-item"><span class="std std-ref">items creation instructions</span></a> and manipulate it the
same way as exposed in <a class="reference internal" href="composer_items_options.html#interact-layout-item"><span class="std std-ref">Interacting with layout items</span></a>.</p>
<p>By default, the legend item displays all available layers and can be refined
using its <span class="guilabel">Item Properties</span> panel. Other than the <a class="reference internal" href="composer_items_options.html#item-common-properties"><span class="std std-ref">items common
properties</span></a>, this feature has the following
functionalities (see <a class="reference internal" href="#figure-layout-legend"><span class="std std-numref">Fig. 22.26</span></a>):</p>
<figure class="align-center" id="id1">
<span id="figure-layout-legend"></span><img alt="../../../../_images/legend_properties.png" src="../../../../_images/legend_properties.png" />
<figcaption>
<p><span class="caption-number">Fig. 22.26 </span><span class="caption-text">Legend Item Properties Panel</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="main-properties">
<h2><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">22.2.5.1. </span>Main properties</a><a class="headerlink" href="#main-properties" title="Link to this heading"></a></h2>
<p>The <span class="guilabel">Main properties</span> group of the legend <span class="guilabel">Item Properties</span>
panel provides the following functionalities (see <a class="reference internal" href="#figure-layout-legend-ppt"><span class="std std-numref">Fig. 22.27</span></a>):</p>
<figure class="align-center" id="id2">
<span id="figure-layout-legend-ppt"></span><img alt="../../../../_images/legend_mainproperties.png" src="../../../../_images/legend_mainproperties.png" />
<figcaption>
<p><span class="caption-number">Fig. 22.27 </span><span class="caption-text">Legend Main properties group</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In Main properties you can:</p>
<ul>
<li><p>Change the <span class="guilabel">Title</span> of the legend. It can be made dynamic using the
<a class="reference internal" href="../../introduction/general_tools.html#data-defined"><span class="std std-ref">data-defined override</span></a> setting, useful for example when
generating an atlas;</p></li>
<li><p>Choose which <span class="guilabel">Map</span> item the current legend will refer to.
By default, the map over which the legend item is drawn is picked. If none,
then it falls back to the <a class="reference internal" href="../overview_composer.html#reference-map"><span class="std std-ref">reference map</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="../../expressions/functions_list.html#expression-variables"><span class="std std-ref">Variables</span></a> of the linked map item
(&#64;map_id, &#64;map_scale, &#64;map_extent…) are also accessible from data-defined
properties of the legend.</p>
</div>
</li>
<li><p>Wrap the text of the legend on a given character: each time the character
appears, it’s replaced with a line break;</p></li>
<li><p>Set the symbols and text placement in the legend: the <span class="guilabel">Arrangement</span>
can be <span class="guilabel">Symbols on left</span> or <span class="guilabel">Symbols on right</span>. The default
value depends on the locale in use (right-to-left based or not).</p></li>
<li><p>Use <a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Resize to fit contents</span> to control whether or
not a legend should be automatically resized to fit its contents. If
unchecked, then the legend will never resize and instead just stick to
whatever size the user has set. Any content which doesn’t fit the size
is cropped out.</p></li>
</ul>
</section>
<section id="legend-items">
<h2><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">22.2.5.2. </span>Legend items</a><a class="headerlink" href="#legend-items" title="Link to this heading"></a></h2>
<p>The <span class="guilabel">Legend items</span> group of the legend <span class="guilabel">Item Properties</span>
panel provides the following functionalities (see <a class="reference internal" href="#figure-layout-legend-items"><span class="std std-numref">Fig. 22.28</span></a>):</p>
<figure class="align-center" id="id3">
<span id="figure-layout-legend-items"></span><img alt="../../../../_images/legend_items.png" src="../../../../_images/legend_items.png" />
<figcaption>
<p><span class="caption-number">Fig. 22.28 </span><span class="caption-text">Legend Items group</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul>
<li><p>The legend will be updated automatically if <a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Auto update</span>
is checked. When <span class="guilabel">Auto update</span> is unchecked this will give you more
control over the legend items. All the icons below the legend items list will
be activated.</p></li>
<li><p>The legend items window lists all legend items and allows you to change item
order, group layers, remove and restore items in the list, edit layer names
and symbology and add a filter.</p>
<ul class="simple">
<li><p>The item order can be changed using the <a class="reference internal" href="../../../../_images/mActionArrowUp.png"><img alt="arrowUp" src="../../../../_images/mActionArrowUp.png" style="width: 1.5em;" /></a> and <a class="reference internal" href="../../../../_images/mActionArrowDown.png"><img alt="arrowDown" src="../../../../_images/mActionArrowDown.png" style="width: 1.5em;" /></a> buttons or
with ‘drag-and-drop’ functionality. The order can not be changed for WMS
legend graphics.</p></li>
<li><p>Use the <a class="reference internal" href="../../../../_images/mActionAddGroup.png"><img alt="addGroup" src="../../../../_images/mActionAddGroup.png" style="width: 1.5em;" /></a> button to add a legend group.</p></li>
<li><p>Use the <a class="reference internal" href="../../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> button to add layers and <a class="reference internal" href="../../../../_images/symbologyRemove.png"><img alt="symbologyRemove" src="../../../../_images/symbologyRemove.png" style="width: 1.5em;" /></a> button to remove
groups, layers or symbol classes.</p></li>
<li><p>The <a class="reference internal" href="../../../../_images/symbologyEdit.png"><img alt="symbologyEdit" src="../../../../_images/symbologyEdit.png" style="width: 1.5em;" /></a> button is used to edit the layer, group name or title.
First you need to select the legend item. Double-clicking the item also
opens the text box to rename it.</p></li>
<li><p>The <a class="reference internal" href="../../../../_images/mIconExpression.png"><img alt="expression" src="../../../../_images/mIconExpression.png" style="width: 1.5em;" /></a> button uses expressions to customize each symbol label
of the selected layer (see <a class="reference internal" href="#legend-items-data-defined"><span class="std std-ref">Data-define the legend labels</span></a>)</p></li>
<li><p>The <a class="reference internal" href="../../../../_images/mActionSum.png"><img alt="sum" src="../../../../_images/mActionSum.png" style="width: 1.2em;" /></a> button adds a feature count for each class of vector layer.</p></li>
<li><p>The <a class="reference internal" href="../../../../_images/mIconExpressionFilter.png"><img alt="expressionFilter" src="../../../../_images/mIconExpressionFilter.png" style="width: 1.5em;" /></a> <sup>Filter legend by expression</sup> helps you filter
which of the legend items of a layer will be displayed, i.e. using a layer
that has different legend items (e.g., from a rule-based or categorized
symbology), you can specify a boolean expression to remove from the legend
tree, styles that have no feature satisfying a condition. Note that the
features are nevertheless kept and shown in the layout map item.</p></li>
</ul>
<p>While the default behavior of the legend item is to mimic the
<span class="guilabel">Layers</span> panel tree, displaying the same groups, layers and classes
of symbology, right-click any item offers you options to hide layer’s name or
raise it as a group or subgroup. In case you have made some changes to a layer,
you can revert them by choosing <span class="guilabel">Reset to defaults</span> from the
contextual menu of the legend entry.</p>
<p>After changing the symbology in the QGIS main window, you can click on
<span class="guilabel">Update All</span> to adapt the changes in the legend element of the print
layout.</p>
</li>
<li><p>With the <a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Only show items inside linked maps</span>, only the
legend items visible in the linked map will be listed in the legend. If you
have more than one map you can click on <span class="guilabel">…</span> and select other
maps from your layout.
This tool remains available when <a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Auto-update</span> is active.</p></li>
<li><p>While generating an atlas with polygon features, you can filter out legend
items that lie outside the current atlas feature. To do that, check the
<a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Only show items inside current atlas feature</span> option.</p></li>
</ul>
<section id="data-define-the-legend-labels">
<span id="legend-items-data-defined"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink">Data-define the legend labels</a><a class="headerlink" href="#data-define-the-legend-labels" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="../../../../_images/mIconExpression.png"><img alt="expression" src="../../../../_images/mIconExpression.png" style="width: 1.5em;" /></a> allows you to add <a class="reference internal" href="../../expressions/expression.html#vector-expressions"><span class="std std-ref">expressions</span></a> to
each symbol label of a given layer. New variables (<code class="docutils literal notranslate"><span class="pre">&#64;symbol_label</span></code>,
<code class="docutils literal notranslate"><span class="pre">&#64;symbol_id</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;symbol_count</span></code>) help you interact with the legend entry.</p>
<p>For example, given a <code class="docutils literal notranslate"><span class="pre">regions</span></code> layer categorized by its <code class="docutils literal notranslate"><span class="pre">type</span></code> field,
you can append to each class in the legend their number of features and total area,
e.g. <code class="docutils literal notranslate"><span class="pre">Borough</span> <span class="pre">(3)</span> <span class="pre">-</span> <span class="pre">850ha</span></code>:</p>
<ol class="arabic">
<li><p>Select the layer entry in the legend tree</p></li>
<li><p>Press the <a class="reference internal" href="../../../../_images/mIconExpression.png"><img alt="expression" src="../../../../_images/mIconExpression.png" style="width: 1.5em;" /></a> button, opening the <span class="guilabel">Expression String Builder</span>
dialog</p></li>
<li><p>Enter the following expression (<em>assuming symbol labels have not been edited</em>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>format( &#39;%1 (%2) - %3ha&#39;,
        @symbol_label,
        @symbol_count,
        round( aggregate(@layer, &#39;sum&#39;, $area, filter:= &quot;type&quot;=@symbol_label)/10000 )
      )
</pre></div>
</div>
</li>
<li><p>Press <span class="guilabel">OK</span></p></li>
</ol>
</section>
<section id="customizing-legend-items">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Customizing legend items</a><a class="headerlink" href="#customizing-legend-items" title="Link to this heading"></a></h3>
<figure class="align-center" id="figure-layout-legend-item-properties">
<img alt="../../../../_images/legend_item_properties.png" src="../../../../_images/legend_item_properties.png" />
</figure>
<p>Legend items can also be customized individually in the <span class="guilabel">Legend Items Properties</span>.
But these customization can only be done with <a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Auto update</span> disabled.</p>
<p>Double-clicking on an item or pressing <a class="reference internal" href="../../../../_images/symbologyEdit.png"><img alt="symbologyEdit" src="../../../../_images/symbologyEdit.png" style="width: 1.5em;" /></a> <sup>Edit selected item properties</sup>
allows for futher customization.</p>
<p><span class="guilabel">Label</span></p>
<p>For all item types it allows to modify the label text by typing in or by inserting expressions
using the <a class="reference internal" href="../../../../_images/mIconExpression.png"><img alt="expression" src="../../../../_images/mIconExpression.png" style="width: 1.5em;" /></a> <span class="guilabel">Insert or Edit an Expression</span>.
Expressions can also be added directly anywhere in the item’s label by using the
[% expression %] notation.</p>
<p><span class="guilabel">Columns</span></p>
<p>The Legend Item Property also allows you to control the column splitting behaviour by forcing the column split
to occur after a specific item or all symbols of a layer. Automatic splitting of a layer and its child can
also be allowed or blocked on a layer-basis in this widget.</p>
<p><span class="guilabel">Patch</span></p>
<p>For items with a symbol, the Legend Item Property allows you to specify the maximum height and width
that a symbol can occupy.</p>
<p>For vector symbols, you can specify a custom shape for the symbol. The shapes are usually
defined by an expression to represent the geometry in a simple plane, but those symbols can also
be saved in the style manager and imported later. The default symbol for each geometry type can
also be controlled via the style manager.</p>
<p><span class="guilabel">Custom Symbol</span></p>
<p>A custom symbol can also be specified for vector symbols. This can be useful to tweak the render
of a specific symbol, to enhance it in the legend or have a symbol independent from its true symbol preview.
This custom symbol will override the legend symbol, but will take into account the symbol <span class="guilabel">Patch</span> specified.</p>
</section>
</section>
<section id="fonts-and-text-formatting">
<h2><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">22.2.5.3. </span>Fonts and text formatting</a><a class="headerlink" href="#fonts-and-text-formatting" title="Link to this heading"></a></h2>
<p>The <span class="guilabel">Fonts and text formatting</span> group of the legend <span class="guilabel">Item Properties</span> panel
provides the following functionalities:</p>
<figure class="align-center" id="id4">
<span id="figure-layout-legend-fonts"></span><img alt="../../../../_images/legend_fonts.png" src="../../../../_images/legend_fonts.png" />
<figcaption>
<p><span class="caption-number">Fig. 22.29 </span><span class="caption-text">Legend Fonts properties</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>You can change the font of the legend title, group, subgroup and item (feature)
in the legend item using the <a class="reference internal" href="../../introduction/general_tools.html#font-selector"><span class="std std-ref">font selector</span></a> widget,
providing all the capabilities of <a class="reference internal" href="../../style_library/label_settings.html#text-format"><span class="std std-ref">text formatting</span></a>
(font spacing control, mixed HTML formatting, coloring, blending, background, text buffer, shadow, …)</p></li>
<li><p>For each of these levels you can set the text <span class="guilabel">Alignment</span>:
it can be <span class="guilabel">Left</span> (default for left-to-right based locales),
<span class="guilabel">Center</span> or <span class="guilabel">Right</span> (default for right-to-left based locales).</p></li>
</ul>
</section>
<section id="columns">
<h2><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">22.2.5.4. </span>Columns</a><a class="headerlink" href="#columns" title="Link to this heading"></a></h2>
<p>Under the <span class="guilabel">Columns</span> group of the legend <span class="guilabel">Item Properties</span>
panel, legend items can be arranged over several columns:</p>
<ul class="simple">
<li><p>Set the number of columns in the <span class="guilabel">Count</span> <a class="reference internal" href="../../../../_images/selectnumber.png"><img alt="selectNumber" src="../../../../_images/selectnumber.png" style="width: 2.8em;" /></a> field.
This value can be made dynamic e.g., following atlas features, legend
contents, the frame size…</p></li>
<li><p><a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Equal column widths</span> sets how legend columns should be
adjusted.</p></li>
<li><p>The <a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Split layers</span> option allows a categorized or a
graduated layer legend to be divided between columns.</p></li>
</ul>
<figure class="align-center" id="id5">
<span id="figure-layout-legend-columns"></span><img alt="../../../../_images/legend_columns.png" src="../../../../_images/legend_columns.png" />
<figcaption>
<p><span class="caption-number">Fig. 22.30 </span><span class="caption-text">Legend Columns settings</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="symbol">
<h2><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">22.2.5.5. </span>Symbol</a><a class="headerlink" href="#symbol" title="Link to this heading"></a></h2>
<p>The <span class="guilabel">Symbol</span> group of the legend <span class="guilabel">Item Properties</span> panel
configures the size of symbols displayed next to the legend labels.
You can:</p>
<ul class="simple">
<li><p>Set the <span class="guilabel">Symbol width</span> and <span class="guilabel">Symbol height</span></p></li>
<li><p>Set the markers’ <span class="guilabel">Min symbol size</span> and <span class="guilabel">Max symbol size</span>:
<code class="docutils literal notranslate"><span class="pre">0.00mm</span></code> means there is no value set.</p></li>
<li><p><a class="reference internal" href="../../../../_images/checkbox.png"><img alt="checkbox" src="../../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Draw stroke for raster symbols</span>: this adds an outline
to the symbol representing the band color of the raster layer; you can set
both the <span class="guilabel">Stroke color</span> and <span class="guilabel">Tickness</span>.</p></li>
</ul>
<figure class="align-center" id="id6">
<span id="figure-layout-legend-symbol"></span><img alt="../../../../_images/legend_symbol.png" src="../../../../_images/legend_symbol.png" />
<figcaption>
<p><span class="caption-number">Fig. 22.31 </span><span class="caption-text">Legend Symbol configuration</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="wms-legendgraphic">
<h2><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">22.2.5.6. </span>WMS LegendGraphic</a><a class="headerlink" href="#wms-legendgraphic" title="Link to this heading"></a></h2>
<p>The <span class="guilabel">WMS LegendGraphic</span> section of the legend
<span class="guilabel">Item Properties</span> panel provide the following functionalities (see
<a class="reference internal" href="#figure-layout-legend-wms"><span class="std std-numref">Fig. 22.32</span></a>):</p>
<figure class="align-center" id="id7">
<span id="figure-layout-legend-wms"></span><img alt="../../../../_images/legend_wms.png" src="../../../../_images/legend_wms.png" />
<figcaption>
<p><span class="caption-number">Fig. 22.32 </span><span class="caption-text">WMS LegendGraphic</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>When you have added a WMS layer and you insert a legend item, a request
will be sent to the WMS server to provide a WMS legend. This Legend will only be
shown if the WMS server provides the GetLegendGraphic capability.
The WMS legend content will be provided as a raster image.</p>
<p><span class="guilabel">WMS LegendGraphic</span> is used to be able to adjust the <span class="guilabel">Legend
width</span> and the <span class="guilabel">Legend height</span> of the WMS legend raster image.</p>
</section>
<section id="spacing">
<h2><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">22.2.5.7. </span>Spacing</a><a class="headerlink" href="#spacing" title="Link to this heading"></a></h2>
<figure class="align-center" id="figure-layout-legend-spacing">
<img alt="../../../../_images/legend_spacing.png" src="../../../../_images/legend_spacing.png" />
</figure>
<p>The <span class="guilabel">Spacing</span> section allows you to customize the spacing within the legend.
Spacing can greatly help denote the groupement of items in the legend and their relation.</p>
<p><span class="guilabel">Spacing</span> around and before title, groups, subgroups, symbols, labels, boxes, columns
and lines can be customized through this dialog.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="composer_label.html" class="btn btn-neutral float-left" title="22.2.4. The Label Item" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="composer_scale_bar.html" class="btn btn-neutral float-right" title="22.2.6. The Scale Bar Item" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">Last updated on 2024 May 30, 01:27 +0900.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/print_composer/composer_items/composer_legend.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/user_manual/print_composer/composer_items/composer_legend.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/user_manual/print_composer/composer_items/composer_legend.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/user_manual/print_composer/composer_items/composer_legend.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/user_manual/print_composer/composer_items/composer_legend.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/user_manual/print_composer/composer_items/composer_legend.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/user_manual/print_composer/composer_items/composer_legend.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/print_composer/composer_items/composer_legend.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/user_manual/print_composer/composer_items/composer_legend.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/user_manual/print_composer/composer_items/composer_legend.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/user_manual/print_composer/composer_items/composer_legend.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/user_manual/print_composer/composer_items/composer_legend.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/user_manual/print_composer/composer_items/composer_legend.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/user_manual/print_composer/composer_items/composer_legend.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/user_manual/print_composer/composer_items/composer_legend.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/user_manual/print_composer/composer_items/composer_legend.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/en/docs/user_manual/print_composer/composer_items/composer_legend.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/en/docs/user_manual/print_composer/composer_items/composer_legend.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/print_composer/composer_items/composer_legend.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/composer_items/composer_legend.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/en/docs/user_manual/print_composer/composer_items/composer_legend.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/en/docs/user_manual/print_composer/composer_items/composer_legend.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/en/docs/user_manual/print_composer/composer_items/composer_legend.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/en/docs/user_manual/print_composer/composer_items/composer_legend.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/en/docs/user_manual/print_composer/composer_items/composer_legend.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/user_manual/print_composer/composer_items/composer_legend.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#en/6946ca4f2479700b8264c05e83375251" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/en" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>