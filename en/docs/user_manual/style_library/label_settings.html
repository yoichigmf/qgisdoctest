<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>14.3. Setting a label &mdash; QGIS Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/user_manual/style_library/label_settings.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="14.4. Creating 3D Symbols" href="3d_symbols.html" />
    <link rel="prev" title="14.2. The Symbol Selector" href="symbol_selector.html" />
  <meta name="description" content="QGIS 3.34 documentation: 14.3. Setting a label">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For Users</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">QGIS Desktop User Guide/Manual (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../preamble/preamble.html">1. Preamble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/foreword.html">2. Foreword</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/conventions.html">3. Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/features.html">4. Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/getting_started.html">5. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/project_files.html">6. Working with Project Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_gui.html">7. QGIS GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/browser.html">8. The Browser panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_configuration.html">9. QGIS Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_projections/working_with_projections.html">10. Working with Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../map_views/index.html">11. Visualizing Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/general_tools.html">12. General Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../expressions/index.html">13. Level up with Expressions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">14. The Style Library</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="style_manager.html">14.1. The Style Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="symbol_selector.html">14.2. The Symbol Selector</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">14.3. Setting a label</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#formatting-the-label-text">14.3.1. Formatting the label text</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuring-interaction-with-labels">14.3.2. Configuring interaction with labels</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="3d_symbols.html">14.4. Creating 3D Symbols</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../managing_data_source/index.html">15. Managing Data Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector/index.html">16. Working with Vector Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_raster/index.html">17. Working with Raster Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_mesh/mesh.html">18. Working with Mesh Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector_tiles/vector_tiles.html">19. Working with Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_point_clouds/point_clouds.html">20. Working with Point Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_3d_tiles/3d_tiles.html">21. Working with 3D Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../print_composer/index.html">22. Laying out the maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_ogc/ogc_client_support.html">23. Working with OGC / ISO protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_gps/index.html">24. Working with GPS Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth_system/index.html">25. Authentication System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grass_integration/grass_integration.html">26. GRASS GIS Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing/index.html">27. QGIS processing framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_algs/index.html">28. Processing providers and algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html">29. Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/help_and_support.html">30. Help and Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/contributors.html">31. Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/index.html">32. Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../literature_web/literature_and_web_references.html">33. Literature and Web References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../server_manual/index.html">QGIS Server Guide/Manual (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training_manual/index.html">Training Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gentle_gis_introduction/index.html">A Gentle Introduction to GIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Writers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_guidelines/index.html">Documentation Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyqgis_developer_cookbook/index.html">PyQGIS Cookbook (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/index.html">Developers Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">QGIS User Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">14. </span>The Style Library</a></li>
      <li class="breadcrumb-item active"><span class="section-number">14.3. </span>Setting a label</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/user_manual/style_library/label_settings.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="symbol_selector.html" class="btn btn-neutral float-left" title="14.2. The Symbol Selector" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="3d_symbols.html" class="btn btn-neutral float-right" title="14.4. Creating 3D Symbols" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div></div></blockquote>
<section id="setting-a-label">
<span id="showlabels"></span><h1><span class="section-number">14.3. </span>Setting a label<a class="headerlink" href="#setting-a-label" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#formatting-the-label-text" id="id13">Formatting the label text</a></p>
<ul>
<li><p><a class="reference internal" href="#text-tab" id="id14">Text tab</a></p></li>
<li><p><a class="reference internal" href="#formatting-tab" id="id15">Formatting tab</a></p></li>
<li><p><a class="reference internal" href="#buffer-tab" id="id16">Buffer tab</a></p></li>
<li><p><a class="reference internal" href="#background-tab" id="id17">Background tab</a></p></li>
<li><p><a class="reference internal" href="#shadow-tab" id="id18">Shadow tab</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#configuring-interaction-with-labels" id="id19">Configuring interaction with labels</a></p>
<ul>
<li><p><a class="reference internal" href="#mask-tab" id="id20">Mask tab</a></p></li>
<li><p><a class="reference internal" href="#callouts-tab" id="id21">Callouts tab</a></p></li>
<li><p><a class="reference internal" href="#placement-tab" id="id22">Placement tab</a></p>
<ul>
<li><p><a class="reference internal" href="#placement-for-point-layers" id="id23">Placement for point layers</a></p></li>
<li><p><a class="reference internal" href="#placement-for-line-layers" id="id24">Placement for line layers</a></p></li>
<li><p><a class="reference internal" href="#placement-for-polygon-layers" id="id25">Placement for polygon layers</a></p></li>
<li><p><a class="reference internal" href="#common-placement-settings" id="id26">Common placement settings</a></p>
<ul>
<li><p><a class="reference internal" href="#geometry-generator" id="id27">Geometry Generator</a></p></li>
<li><p><a class="reference internal" href="#data-defined" id="id28">Data Defined</a></p></li>
<li><p><a class="reference internal" href="#priority" id="id29">Priority</a></p></li>
<li><p><a class="reference internal" href="#obstacles" id="id30">Obstacles</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#rendering-tab" id="id31">Rendering tab</a></p>
<ul>
<li><p><a class="reference internal" href="#label-options" id="id32">Label options</a></p></li>
<li><p><a class="reference internal" href="#feature-options" id="id33">Feature options</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<p>Labels are textual information you can display on vector features or maps.
They add details you could not necessarily represent using symbols.
Two types of text-related items are available in QGIS:</p>
<ul>
<li><p><span class="guilabel">Text Format</span>: defines the appearance of the text, including
<a class="reference internal" href="#labels-text"><span class="std std-ref">font, size, colors</span></a>, <a class="reference internal" href="#labels-shadow"><span class="std std-ref">shadow</span></a>,
<a class="reference internal" href="#labels-background"><span class="std std-ref">background</span></a>, <a class="reference internal" href="#labels-buffer"><span class="std std-ref">buffer</span></a>, …</p>
<p>They can be used to render texts over the map (layout/map title,
decorations, scale bar, …), usually through the <a class="reference internal" href="../introduction/general_tools.html#font-selector"><span class="std std-ref">font</span></a>
widget.</p>
<p>To create a <span class="guilabel">Text Format</span> item:</p>
<ol class="arabic">
<li><p>Open the <a class="reference internal" href="../../../_images/mActionStyleManager.png"><img alt="styleManager" src="../../../_images/mActionStyleManager.png" style="width: 1.5em;" /></a> <span class="guilabel">Style Manager</span> dialog</p></li>
<li><p>Activate the <span class="guilabel">Text format</span> tab</p>
<figure class="align-center" id="id1">
<span id="figure-textformats"></span><img alt="../../../_images/stylemanager_textformat.png" src="../../../_images/stylemanager_textformat.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.23 </span><span class="caption-text">Text formats in Style Manager dialog</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
<li><p>Press the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <sup>Add item</sup> button. The <span class="guilabel">Text Format</span>
dialog opens for <a class="reference internal" href="#text-format"><span class="std std-ref">configuration</span></a>.
As usual, these properties are <a class="reference internal" href="../introduction/general_tools.html#data-defined"><span class="std std-ref">data-definable</span></a>.</p></li>
</ol>
</li>
<li><p><span class="guilabel">Label Settings</span>: extend the text format settings with properties
related to the location or the interaction with other texts or features
(<a class="reference internal" href="#labels-callouts"><span class="std std-ref">callouts</span></a>, <a class="reference internal" href="#labels-placement"><span class="std std-ref">placement</span></a>,
<a class="reference internal" href="#labels-rendering"><span class="std std-ref">overlay, scale visibility</span></a>, mask …).</p>
<p>They are used to configure smart labelling for vector layers through the
<a class="reference internal" href="../../../_images/labelingSingle.png"><img alt="labelingSingle" src="../../../_images/labelingSingle.png" style="width: 1.5em;" /></a> <span class="guilabel">Labels</span> tab of the vector <span class="guilabel">Layer Properties</span>
dialog or <span class="guilabel">Layer Styling</span> panel or using the <a class="reference internal" href="../../../_images/labelingSingle.png"><img alt="labelingSingle" src="../../../_images/labelingSingle.png" style="width: 1.5em;" /></a> <sup>Layer
Labeling Options</sup> button of the <a class="reference internal" href="../working_with_vector/vector_properties.html#label-toolbar"><span class="std std-ref">Label toolbar</span></a>.</p>
<p>To create a <span class="guilabel">Label Settings</span> item:</p>
<ol class="arabic">
<li><p>Open the <a class="reference internal" href="../../../_images/mActionStyleManager.png"><img alt="styleManager" src="../../../_images/mActionStyleManager.png" style="width: 1.5em;" /></a> <span class="guilabel">Style Manager</span> dialog</p></li>
<li><p>Activate the <span class="guilabel">Label Settings</span> tab</p>
<figure class="align-center" id="id2">
<span id="figure-label-settings"></span><img alt="../../../_images/stylemanager_labelsettings.png" src="../../../_images/stylemanager_labelsettings.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.24 </span><span class="caption-text">Label Settings in Style Manager dialog</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
<li><p>Press the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <sup>Add item</sup> menu and select the entry corresponding
to the geometry type of the features you want to label.</p></li>
</ol>
<p>The <span class="guilabel">Label Settings</span> dialog opens with the following properties.
As usual, these properties are <a class="reference internal" href="../introduction/general_tools.html#data-defined"><span class="std std-ref">data-definable</span></a>.</p>
</li>
</ul>
<section id="formatting-the-label-text">
<span id="text-format"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">14.3.1. </span>Formatting the label text</a><a class="headerlink" href="#formatting-the-label-text" title="Link to this heading"></a></h2>
<p>Whether you are configuring a <span class="guilabel">Text Format</span> or <span class="guilabel">Label Settings</span>
item, you will be given the following options:</p>
<table class="longtable docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Properties tab</p></th>
<th class="head"><p>Text format</p></th>
<th class="head"><p>Label settings</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="guilabel">Text</span></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">Formatting</span></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
</tr>
<tr class="row-even"><td><p><span class="guilabel">Buffer</span></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">Mask</span></p></td>
<td></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
</tr>
<tr class="row-even"><td><p><span class="guilabel">Background</span></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">Shadow</span></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
</tr>
<tr class="row-even"><td><p><span class="guilabel">Callout</span></p></td>
<td></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
</tr>
<tr class="row-odd"><td><p><span class="guilabel">Placement</span></p></td>
<td></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
</tr>
<tr class="row-even"><td><p><span class="guilabel">Rendering</span></p></td>
<td></td>
<td><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a></p></td>
</tr>
</tbody>
</table>
<section id="text-tab">
<span id="labels-text"></span><h3><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">14.3.1.1. </span>Text tab</a><a class="headerlink" href="#text-tab" title="Link to this heading"></a></h3>
<figure class="align-center" id="id3">
<span id="figure-label-text"></span><img alt="../../../_images/label_text.png" src="../../../_images/label_text.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.25 </span><span class="caption-text">Labels settings - Text tab</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In the <a class="reference internal" href="../../../_images/text.png"><img alt="text" src="../../../_images/text.png" style="width: 1.5em;" /></a> <span class="guilabel">Text</span> tab, you can set:</p>
<ul>
<li><p>the <span class="guilabel">Font</span>, from the ones available on your machine</p></li>
<li><p>the <span class="guilabel">Style</span>: along with the common styles of the font, you can set
whether the text should be underlined or striked through</p></li>
<li><p>the <span class="guilabel">Size</span> in any <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">supported unit</span></a></p></li>
<li><p>the <span class="guilabel">Color</span></p></li>
<li><p>the <span class="guilabel">Opacity</span></p></li>
<li><p>and <span class="guilabel">Allow HTML Formatting</span>:
The HTML formatting option enables the proper rendering of some HTML tags to customize the label.
The supported HTML tags are:</p>
<ul>
<li><p>Color, applicable to text, underline, strikethrough, and overline</p></li>
<li><p>Font properties (font family, font size, bold and italic)</p></li>
<li><p>Superscript and subscript components in text,
where the text will be vertically <sup>super</sup> or <sub>sub</sub> aligned
and automatically sized to 2/3 of the parent font size.
You can also set a fixed font size for the superscript/subscript
by including css rules, e.g.:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">sup</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;font-size:33pt&quot;</span><span class="p">&gt;</span>my superscript text<span class="p">&lt;/</span><span class="nt">sup</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>The CSS formatting rules <code class="docutils literal notranslate"><span class="pre">vertical-align:</span> <span class="pre">super</span></code> or <code class="docutils literal notranslate"><span class="pre">vertical-align:</span> <span class="pre">sub</span></code>
are also available in any other HTML element (annotation, layout label or HTML items, …).</p>
</li>
</ul>
<p>In order to use the HTML formatting, you need to provide the HTML code in the <span class="guilabel">Value</span> field.
The expression is parsed and any supported HTML tag overrides its corresponding setting in the labels properties.
They also combine well with other background, shadow, buffer… properties of labels.</p>
<p>Below an example of a HTML-based expression and rendering
(applies different colors and underline to the same label):</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>format(
  &#39;<span class="p">&lt;</span><span class="nt">span</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;color:blue&quot;</span><span class="p">&gt;</span>%1<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> ( <span class="p">&lt;</span><span class="nt">span</span> <span class="na">style</span><span class="o">=</span><span class="s">&quot;color:red&quot;</span><span class="p">&gt;&lt;</span><span class="nt">u</span><span class="p">&gt;</span>%2 ft<span class="p">&lt;/</span><span class="nt">u</span><span class="p">&gt;&lt;/</span><span class="nt">span</span><span class="p">&gt;</span> )&#39;,
  title( lower( &quot;Name&quot; ) ),
  round($length)
)
</pre></div>
</div>
<figure class="align-center" id="id4">
<span id="figure-label-html-formatting"></span><img alt="../../../_images/label_HTML_formatting.png" src="../../../_images/label_HTML_formatting.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.26 </span><span class="caption-text">Labeling with HTML formatting enabled</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ul>
<p>At the bottom of the tab, a widget shows a filterable list of compatible items
stored in your <a class="reference internal" href="style_manager.html#vector-style-manager"><span class="std std-ref">style manager database</span></a>.
This allows you to easily configure the current text format or label setting
based on an existing one, and also save a new item to the style database:
Press the <span class="guilabel">Save format…</span> or <span class="guilabel">Save settings…</span> button
and provide a name and tag(s).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When configuring a <span class="guilabel">Label Settings</span> item, text format items
are also available in this widget. Select one to quickly overwrite the current
<a class="reference internal" href="#text-format"><span class="std std-ref">textual properties</span></a> of the label.
Likewise, you can create/overwrite a text format from there.</p>
</div>
</section>
<section id="formatting-tab">
<span id="labels-formatting"></span><h3><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">14.3.1.2. </span>Formatting tab</a><a class="headerlink" href="#formatting-tab" title="Link to this heading"></a></h3>
<figure class="align-center" id="id5">
<span id="figure-label-formatting"></span><img alt="../../../_images/label_formatting.png" src="../../../_images/label_formatting.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.27 </span><span class="caption-text">Label settings - Formatting tab</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In the <a class="reference internal" href="../../../_images/labelformatting.png"><img alt="labelformatting" src="../../../_images/labelformatting.png" style="width: 1.5em;" /></a> <span class="guilabel">Formatting</span> tab, you can:</p>
<ul>
<li><p>Use the <span class="guilabel">Type case</span> option to change the capitalization style of
the text. You have the possibility to render the text as:</p>
<ul class="simple">
<li><p><span class="guilabel">No change</span></p></li>
<li><p><span class="guilabel">All uppercase</span></p></li>
<li><p><span class="guilabel">All lowercase</span></p></li>
<li><p><span class="guilabel">Title case</span>: modifies the first letter of each word into capital,
and turns the other letters into lower case if the original text is using
a single type case. In case of mixed type cases in the text, the other
letters are left untouched.</p></li>
<li><p><span class="guilabel">Force first letter to capital</span>: modifies the first letter of each
word into capital and leaves the other letters in the text untouched.</p></li>
</ul>
</li>
<li><p>Under <span class="guilabel">Spacing</span>, change the space between words and between
individual letters.</p></li>
<li><p><span class="guilabel">Stretch</span> ratio: allows text to be horizontally stretched or
condensed by a factor. Handy for tweaking the widths of fonts to fit a bit
of extra text into labels.</p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Enable kerning</span> of the text font</p></li>
<li><p>Set the <span class="guilabel">Text orientation</span> which can be <span class="guilabel">Horizontal</span>
or <span class="guilabel">Vertical</span>. It can also be <span class="guilabel">Rotation-based</span> when
setting a label (e.g., to properly label line features in <a class="reference internal" href="#labels-line-placement"><span class="std std-ref">parallel</span></a> placement mode).</p></li>
<li><p>Use the <span class="guilabel">Blend mode</span> option to determine how your labels will mix
with the map features below them (more details at <a class="reference internal" href="../introduction/general_tools.html#blend-modes"><span class="std std-ref">Blending Modes</span></a>).</p></li>
<li><p>The <a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Apply label text substitutes</span> option allows you
to specify a list of texts to substitute to texts in feature labels (e.g.,
abbreviating street types). Replacement texts are used when displaying
labels on the map. Users can also export and import lists of
substitutes to make reuse and sharing easier.</p></li>
<li><p>Configure <span class="guilabel">Multiple lines</span>:</p>
<ul>
<li><p>Set a character that will force a line break in the text with the
<span class="guilabel">Wrap on character</span> option</p></li>
<li><p>Set an ideal line size for auto-wrapping using the <span class="guilabel">Wrap lines to</span>
option. The size can represent either the <span class="guilabel">Maximum line length</span>
or the <span class="guilabel">Minimum line length</span>.</p></li>
<li><p>Decide the <span class="guilabel">Line Height</span>: values can be set to be in
<span class="guilabel">Millimeters</span>, <span class="guilabel">Points</span>, <span class="guilabel">Pixels</span>,
<span class="guilabel">Percentage</span>, or <span class="guilabel">Inches</span>.
When line height is set to percentage it is the percentage of the
default text line spacing of that font family. Typically 1.2 to 1.5 times the text size.</p></li>
<li><p>Format the <span class="guilabel">Alignment</span>: typical values available are
<span class="guilabel">Left</span>, <span class="guilabel">Right</span>, <span class="guilabel">Justify</span> and <span class="guilabel">Center</span>.</p>
<p>When setting point labels properties, the text alignment can also be
<span class="guilabel">Follow label placement</span>. In that case, the alignment will depend
on the final placement of the label relative to the point. E.g., if the
label is placed to the left of the point, then the label will be right
aligned, while if it is placed to the right, it will be left aligned.</p>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <span class="guilabel">Multiple lines</span> formatting is not yet supported by curve based
<a class="reference internal" href="#labels-placement"><span class="std std-ref">label placement</span></a>. The options will then be deactivated.</p>
</div>
</li>
<li><p>For line labels you can include <span class="guilabel">Line direction symbol</span>
to help determine the line directions, with symbols to use to indicate the
<span class="guilabel">Left</span> or <span class="guilabel">Right</span>. They work particularly well when
used with the <em>curved</em> or <em>Parallel</em> placement options from the
<span class="guilabel">Placement</span> tab. There are options to set the symbols position, and
to <a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Reverse direction</span>.</p></li>
<li><p>Use the <a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Formatted numbers</span> option to format numeric
texts. You can set the number of <span class="guilabel">Decimal places</span>. By default, <code class="docutils literal notranslate"><span class="pre">3</span></code>
decimal places will be used. Use the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Show plus sign</span> if
you want to show the plus sign for positive numbers.</p></li>
</ul>
</section>
<section id="buffer-tab">
<span id="labels-buffer"></span><h3><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">14.3.1.3. </span>Buffer tab</a><a class="headerlink" href="#buffer-tab" title="Link to this heading"></a></h3>
<figure class="align-center" id="id6">
<span id="figure-label-buffer"></span><img alt="../../../_images/label_buffer.png" src="../../../_images/label_buffer.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.28 </span><span class="caption-text">Label settings - Buffer tab</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>To create a buffer around the label, activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Draw
text buffer</span> checkbox in the <a class="reference internal" href="../../../_images/labelbuffer.png"><img alt="labelbuffer" src="../../../_images/labelbuffer.png" style="width: 1.5em;" /></a> <span class="guilabel">Buffer</span> tab. Then you can:</p>
<ul class="simple">
<li><p>Set the buffer’s <span class="guilabel">Size</span> in any <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">supported unit</span></a></p></li>
<li><p>Select the buffer’s <span class="guilabel">Color</span></p></li>
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Color buffer’s fill</span>: The buffer expands from the
label’s outline, so, if the option is activated, the label’s interior is
filled. This may be relevant when using partially transparent labels or with
non-normal blending modes, which will allow seeing behind the label’s text.
Unchecking the option (while using totally transparent labels) will allow you
to create outlined text labels.</p></li>
<li><p>Define the buffer’s <span class="guilabel">Opacity</span></p></li>
<li><p>Apply a <span class="guilabel">Pen join style</span>: it can be <span class="guilabel">Round</span>,
<span class="guilabel">Miter</span> or <span class="guilabel">Bevel</span></p></li>
<li><p>Use the <span class="guilabel">Blend mode</span> option to determine how your label’s buffer
will mix with the map components below them (more details at
<a class="reference internal" href="../introduction/general_tools.html#blend-modes"><span class="std std-ref">Blending Modes</span></a>).</p></li>
<li><p>Check <a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Draw effects</span> to add advanced <a class="reference internal" href="../../../_images/mIconPaintEffects.png"><img alt="paintEffects" src="../../../_images/mIconPaintEffects.png" style="width: 1.5em;" /></a>
<a class="reference internal" href="../working_with_vector/vector_properties.html#draw-effects"><span class="std std-ref">paint effects</span></a> for improving text readability,
eg through outer glows and blurs.</p></li>
</ul>
</section>
<section id="background-tab">
<span id="labels-background"></span><h3><a class="toc-backref" href="#id17" role="doc-backlink"><span class="section-number">14.3.1.4. </span>Background tab</a><a class="headerlink" href="#background-tab" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="../../../_images/labelbackground.png"><img alt="labelbackground" src="../../../_images/labelbackground.png" style="width: 1.5em;" /></a> <span class="guilabel">Background</span> tab allows you to configure a
shape that stays below each label. To add a background, activate
the <a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Draw Background</span> checkbox and select
the <span class="guilabel">Shape</span> type. It can be:</p>
<ul class="simple">
<li><p>a regular shape such as <span class="guilabel">Rectangle</span>, <span class="guilabel">Square</span>,
<span class="guilabel">Circle</span> or <span class="guilabel">Ellipse</span> using full properties of a
<a class="reference internal" href="symbol_selector.html#vector-fill-symbols"><span class="std std-ref">fill symbol</span></a></p></li>
<li><p>an <span class="guilabel">SVG</span> symbol from a file, a URL or embedded in the project
or style database (<a class="reference internal" href="../introduction/general_tools.html#embedded-file-selector"><span class="std std-ref">more details</span></a>)</p></li>
<li><p>or a <span class="guilabel">Marker Symbol</span> you can create or select from the
<a class="reference internal" href="symbol_selector.html#vector-marker-symbols"><span class="std std-ref">symbol library</span></a>.</p></li>
</ul>
<figure class="align-center" id="id7">
<span id="figure-label-background"></span><img alt="../../../_images/label_background.png" src="../../../_images/label_background.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.29 </span><span class="caption-text">Label settings - Background tab</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Depending on the selected shape, you need to configure some of the following
properties:</p>
<ul class="simple">
<li><p>The <span class="guilabel">Size type</span> of the frame, which can be:</p>
<ul>
<li><p><span class="guilabel">Fixed</span>: using the same size for all the labels, regardless the
size of the text</p></li>
<li><p>or a <span class="guilabel">Buffer</span> over the text’s bounding box</p></li>
</ul>
</li>
<li><p>The <span class="guilabel">Size</span> of the frame in X and Y directions, using any
<a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">supported units</span></a></p></li>
<li><p>A <span class="guilabel">Rotation</span> of the background, between <span class="guilabel">Sync with label</span>,
<span class="guilabel">Offset of label</span> and <span class="guilabel">Fixed</span>. The last two require
an angle in degrees.</p></li>
<li><p>An <span class="guilabel">Offset X,Y</span> to shift the background item in the X and/or Y directions</p></li>
<li><p>A <span class="guilabel">Radius X,Y</span> to round the corners of the background shape (applies
to rectangle and square shapes only)</p></li>
<li><p>An <span class="guilabel">Opacity</span> of the background</p></li>
<li><p>A <span class="guilabel">Blend mode</span> to mix the background with the other items in the
rendering (see <a class="reference internal" href="../introduction/general_tools.html#blend-modes"><span class="std std-ref">Blending Modes</span></a>).</p></li>
<li><p>For SVG symbol, you can use its default properties (<span class="guilabel">Load symbol
parameters</span>) or set a custom <span class="guilabel">Fill color</span>, <span class="guilabel">Stroke color</span>
and <span class="guilabel">Stroke width</span>.</p></li>
<li><p><a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Draw effects</span> to add advanced <a class="reference internal" href="../../../_images/mIconPaintEffects.png"><img alt="paintEffects" src="../../../_images/mIconPaintEffects.png" style="width: 1.5em;" /></a>
<a class="reference internal" href="../working_with_vector/vector_properties.html#draw-effects"><span class="std std-ref">paint effects</span></a> for improving text readability,
eg through outer glows and blurs.</p></li>
</ul>
</section>
<section id="shadow-tab">
<span id="labels-shadow"></span><h3><a class="toc-backref" href="#id18" role="doc-backlink"><span class="section-number">14.3.1.5. </span>Shadow tab</a><a class="headerlink" href="#shadow-tab" title="Link to this heading"></a></h3>
<figure class="align-center" id="id8">
<span id="figure-label-shadow"></span><img alt="../../../_images/label_shadow.png" src="../../../_images/label_shadow.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.30 </span><span class="caption-text">Label settings - Shadow tab</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>To add a shadow to the text, enable the <a class="reference internal" href="../../../_images/labelshadow.png"><img alt="labelshadow" src="../../../_images/labelshadow.png" style="width: 1.5em;" /></a> <span class="guilabel">Shadow</span>
tab and activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Draw drop shadow</span>. Then you can:</p>
<ul>
<li><p>Indicate the item used to generate the shadow with <span class="guilabel">Draw under</span>.
It can be the <span class="guilabel">Lowest label component</span> or a particular
component such as the <span class="guilabel">Text</span> itself, the <span class="guilabel">Buffer</span> or
the <span class="guilabel">Background</span>.</p></li>
<li><p>Set the shadow’s <span class="guilabel">Offset</span> from the item being shadowded, ie:</p>
<ul class="simple">
<li><p>The angle: clockwise, it depends on the underlying item orientation</p></li>
<li><p>The distance of offset from the item being shadowded</p></li>
<li><p>The units of the offset</p></li>
</ul>
<p>If you tick the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Use global shadow</span> checkbox,
then the zero point of the angle is always oriented to the north and
doesn’t depend on the orientation of the label’s item.</p>
</li>
<li><p>Influence the appearance of the shadow with the <span class="guilabel">Blur
radius</span>. The higher the number, the softer the shadows, in the units of
your choice.</p></li>
</ul>
<ul class="simple">
<li><p>Define the shadow’s <span class="guilabel">Opacity</span></p></li>
<li><p>Rescale the shadow’s size using the <span class="guilabel">Scale</span>
factor</p></li>
<li><p>Choose the shadow’s <span class="guilabel">Color</span></p></li>
<li><p>Use the <span class="guilabel">Blend mode</span> option to determine how your label’s shadow
will mix with the map components below them (more details at
<a class="reference internal" href="../introduction/general_tools.html#blend-modes"><span class="std std-ref">Blending Modes</span></a>).</p></li>
</ul>
</section>
</section>
<section id="configuring-interaction-with-labels">
<h2><a class="toc-backref" href="#id19" role="doc-backlink"><span class="section-number">14.3.2. </span>Configuring interaction with labels</a><a class="headerlink" href="#configuring-interaction-with-labels" title="Link to this heading"></a></h2>
<p>Other than the text formatting settings exposed above, you can also set how labels
interact with each others or with the features.</p>
<section id="mask-tab">
<span id="labels-mask"></span><h3><a class="toc-backref" href="#id20" role="doc-backlink"><span class="section-number">14.3.2.1. </span>Mask tab</a><a class="headerlink" href="#mask-tab" title="Link to this heading"></a></h3>
<p>The <a class="reference internal" href="../../../_images/labelmask.png"><img alt="labelmask" src="../../../_images/labelmask.png" style="width: 1.5em;" /></a> <span class="guilabel">Mask</span> tab allows you to define a mask area around
the labels. This feature is very useful when you have overlapping symbols and
labels with similar colors, and you want to make the labels visible. A label mask
prevents specified features from drawing within the boundary set for the mask.
For example, you could set a label mask so that a specified layer does not draw
within 2mm of the label, but allow features from another layer to still show.
Label masks are similar to label buffers in that they allow control of the legibility
of labels that cover other features. The label buffer draws on top of any underlying
features, while the label mask selectively stops other layers from drawing.</p>
<figure class="align-center" id="id9">
<span id="figure-label-mask"></span><img alt="../../../_images/label_mask.png" src="../../../_images/label_mask.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.31 </span><span class="caption-text">Labels settings - Mask tab (with the text sample showing a green background
representing another layer being excluded)</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>To create masking effects on labels:</p>
<ol class="arabic simple">
<li><p>Activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Enable mask</span> checkbox in the <a class="reference internal" href="../../../_images/labelmask.png"><img alt="labelmask" src="../../../_images/labelmask.png" style="width: 1.5em;" /></a> tab.</p></li>
<li><p>Then you can set:</p>
<ul class="simple">
<li><p>the mask’s <span class="guilabel">Size</span> in the <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">supported units</span></a></p></li>
<li><p>the <span class="guilabel">Opacity</span> of the mask area around the label</p></li>
<li><p>a <span class="guilabel">Pen Join Style</span></p></li>
<li><p><a class="reference internal" href="../working_with_vector/vector_properties.html#draw-effects"><span class="std std-ref">paint effects</span></a> through the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Draw effects</span> checkbox.</p></li>
</ul>
</li>
<li><p>Select this mask shape as a mask source in the overlapping layer properties
<a class="reference internal" href="../../../_images/labelmask.png"><img alt="labelmask" src="../../../_images/labelmask.png" style="width: 1.5em;" /></a> <span class="guilabel">Mask</span> tab (see <a class="reference internal" href="../working_with_vector/vector_properties.html#vector-mask-menu"><span class="std std-ref">Masks Properties</span></a>).</p></li>
</ol>
</section>
<section id="callouts-tab">
<span id="labels-callouts"></span><h3><a class="toc-backref" href="#id21" role="doc-backlink"><span class="section-number">14.3.2.2. </span>Callouts tab</a><a class="headerlink" href="#callouts-tab" title="Link to this heading"></a></h3>
<p>A common practice when placing labels on a crowded map is to use <strong>callouts</strong> -
labels which are placed outside (or displaced from) their associated feature
are identified with a dynamic line connecting the label and the feature.
If one of the two endings (either the label or the feature) is moved,
the shape of the connector is recomputed.</p>
<figure class="align-center" id="id10">
<span id="figure-label-callouts"></span><img alt="../../../_images/label_callouts.png" src="../../../_images/label_callouts.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.32 </span><span class="caption-text">Labels with various callouts settings</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>To add a callout to a label, enable the <a class="reference internal" href="../../../_images/labelcallout.png"><img alt="labelcallout" src="../../../_images/labelcallout.png" style="width: 1.5em;" /></a> <span class="guilabel">Callouts</span>
tab and activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Draw callouts</span>. Then you can:</p>
<ol class="arabic simple">
<li><p>Select the <span class="guilabel">Style</span> of connector, one of:</p>
<ul class="simple">
<li><p><span class="guilabel">Simple lines</span>: a straight line, the shortest path</p></li>
<li><p><span class="guilabel">Manhattan style</span>: a 90° broken line</p></li>
<li><p><span class="guilabel">Curved lines</span>: a curved line</p></li>
<li><p><span class="guilabel">Balloons</span>: a speech bubble surrounding the label and pointing
to the feature. It can have rounded corners.</p></li>
</ul>
</li>
<li><p>For a line-based callout:</p>
<ol class="arabic simple">
<li><p>Select the <span class="guilabel">Line style</span> with full capabilities of a <a class="reference internal" href="symbol_selector.html#vector-line-symbols"><span class="std std-ref">line
symbol</span></a> including layer effects, and data-defined
settings</p></li>
<li><p>If curved, you also define:</p>
<ul class="simple">
<li><p>the percentage of <span class="guilabel">Curvature</span> of the connection line</p></li>
<li><p>and its <span class="guilabel">Orientation</span>: starting from the label to the feature,
it can be <span class="guilabel">Clockwise</span> or <span class="guilabel">Counter-clockwise</span>, or
<span class="guilabel">Automatic</span> (determining an optimal orientation for each label)</p></li>
</ul>
</li>
<li><p>Set the <span class="guilabel">Minimum length</span> of callout lines</p></li>
<li><p>Check whether to <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Draw lines to all feature parts</span>
from the feature’s label</p></li>
<li><p>Set the <span class="guilabel">Label anchor point</span>: controls where the connector
line should join to the label text. Available options:</p>
<ul class="simple">
<li><p><span class="guilabel">Closest point</span></p></li>
<li><p><span class="guilabel">Centroid</span></p></li>
<li><p>Fixed position at the edge (<span class="guilabel">Top left</span>, <span class="guilabel">Top center</span>,
<span class="guilabel">Top right</span>, <span class="guilabel">Left middle</span>, <span class="guilabel">Right middle</span>,
<span class="guilabel">Bottom left</span>, <span class="guilabel">Bottom center</span> and <span class="guilabel">Bottom right</span>).</p></li>
</ul>
</li>
<li><p>Set the <span class="guilabel">Offset from label area</span> option: controls the distance
from the label anchor point (where the callout line ends).
This avoids drawing lines right up against the text.</p></li>
</ol>
</li>
<li><p>For a balloon callout, you’d need to set:</p>
<ul class="simple">
<li><p>the <span class="guilabel">Fill style</span> with full capabilities of a <a class="reference internal" href="symbol_selector.html#vector-fill-symbols"><span class="std std-ref">fill
symbol</span></a> including layer effects, and data-defined
settings</p></li>
<li><p>the <span class="guilabel">Corner radius</span> of the speech bubble</p></li>
<li><p>the <span class="guilabel">Wedge width</span>: how large the bubble speech connection with
feature’s pointer should be</p></li>
<li><p>the <span class="guilabel">Margins</span> around the label’s text</p></li>
</ul>
</li>
<li><p>Set the <span class="guilabel">Offset from feature</span> option: controls the distance
from the feature (or its anchor point if a polygon) where callout lines end.
Eg, this avoids drawing lines right up against the edges of the features.</p></li>
<li><p>Set the <span class="guilabel">Feature anchor point</span> for the (polygon) feature (the end
point of the connector line). Available options:</p>
<ul class="simple">
<li><p><span class="guilabel">Pole of inaccessibility</span></p></li>
<li><p><span class="guilabel">Point on exterior</span></p></li>
<li><p><span class="guilabel">Point on surface</span></p></li>
<li><p><span class="guilabel">Centroid</span></p></li>
</ul>
</li>
<li><p>Set the <span class="guilabel">Blend mode</span>: controls the <a class="reference internal" href="../introduction/general_tools.html#blend-modes"><span class="std std-ref">blending</span></a>
of the callout.</p></li>
</ol>
<p>Under the <span class="guilabel">Data defined placement</span> group, coordinates of the
<span class="guilabel">Origin</span> (on the label side) and/or <span class="guilabel">Destination</span>
(on the feature side) points of the callout can be controlled.
Callouts can also be controlled manually by using the <a class="reference internal" href="../../../_images/mActionMoveLabel.png"><img alt="moveLabel" src="../../../_images/mActionMoveLabel.png" style="width: 1.5em;" /></a>
<sup>Move Label, Diagram or Callout</sup> tool in the <a class="reference internal" href="../working_with_vector/vector_properties.html#label-toolbar"><span class="std std-ref">Labeling Toolbar</span></a>.
The start and end points of each callout can be moved this way.
The nodes should be highlighted when the mouse pointer is nearby.
If needed the <kbd class="kbd docutils literal notranslate">Shift</kbd> Key can be held during the movement.
This will snap the point in a way that the angle between the two callout points
increments by 15 degrees.</p>
</section>
<section id="placement-tab">
<span id="labels-placement"></span><h3><a class="toc-backref" href="#id22" role="doc-backlink"><span class="section-number">14.3.2.3. </span>Placement tab</a><a class="headerlink" href="#placement-tab" title="Link to this heading"></a></h3>
<p>Choose the <a class="reference internal" href="../../../_images/labelplacement.png"><img alt="labelplacement" src="../../../_images/labelplacement.png" style="width: 1.5em;" /></a> <span class="guilabel">Placement</span> tab for configuring label placement
and labeling priority. Note that the placement options differ according to the
type of vector layer, namely point, line or polygon, and are affected by
the global <a class="reference internal" href="../working_with_vector/vector_properties.html#automated-placement"><span class="std std-ref">PAL setting</span></a>.</p>
<section id="placement-for-point-layers">
<span id="labels-point-placement"></span><h4><a class="toc-backref" href="#id23" role="doc-backlink">Placement for point layers</a><a class="headerlink" href="#placement-for-point-layers" title="Link to this heading"></a></h4>
<p>Point labels placement modes available are:</p>
<ul id="cartographic">
<li><p><span class="guilabel">Cartographic</span>: point labels are generated with a
better visual relationship with the point feature, following ideal
cartographic placement rules. Labels can be placed:</p>
<ul>
<li><p>at a set <span class="guilabel">Distance</span> in <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">supported units</span></a>,
either from the point feature itself or from the bounds of the symbol
used to represent the feature (set in <span class="guilabel">Distance offset from</span>).
The latter option is especially useful when the symbol size isn’t fixed,
e.g. if it’s set by a data defined size or when using different symbols
in a <a class="reference internal" href="../working_with_vector/vector_properties.html#categorized-renderer"><span class="std std-ref">categorized</span></a> renderer.</p></li>
<li><p>following a <span class="guilabel">Position priority</span> that can be customized or set for
an individual feature using a data defined list of prioritised positions.
This also allows only certain placements to be used, so e.g.
for coastal features you can prevent labels being placed over the land.</p>
<p>By default, cartographic mode placements are prioritised in the following
order (respecting the <a class="reference external" href="https://www.researchgate.net/publication/44463780_Making_maps_a_visual_guide_to_map_design_for_GIS_John_Krygier_Denis_Wood">guidelines from Krygier and Wood (2011)</a>
and other cartographic textbooks):</p>
<ol class="arabic simple">
<li><p>top right</p></li>
<li><p>top left</p></li>
<li><p>bottom right</p></li>
<li><p>bottom left</p></li>
<li><p>middle right</p></li>
<li><p>middle left</p></li>
<li><p>top, slightly right</p></li>
<li><p>bottom, slightly left.</p></li>
</ol>
</li>
</ul>
</li>
<li><p><span class="guilabel">Around Point</span>: labels are placed in a circle around the feature.
equal radius (set in <span class="guilabel">Distance</span>) circle around the feature.
The placement priority is clockwise from the “top right”. The position can
be constrained using the data-defined <span class="guilabel">Quadrant</span> option.</p></li>
<li><p><span class="guilabel">Offset from Point</span>: labels are placed at an <span class="guilabel">Offset X,Y</span>
distance from the point feature, in various units, or preferably over the
feature. You can use a data-defined <span class="guilabel">Quadrant</span> to constrain the
placement and can assign a <span class="guilabel">Rotation</span> to the label.</p></li>
</ul>
</section>
<section id="placement-for-line-layers">
<span id="labels-line-placement"></span><h4><a class="toc-backref" href="#id24" role="doc-backlink">Placement for line layers</a><a class="headerlink" href="#placement-for-line-layers" title="Link to this heading"></a></h4>
<p>Label modes for line layers include:</p>
<ul class="simple">
<li><p><span class="guilabel">Parallel</span>: draws the label parallel to a generalised line
representing the feature, with preference for placement over straighter
portions of the line. You can define:</p>
<ul>
<li><p><span class="guilabel">Allowed positions</span>: <span class="guilabel">Above line</span>, <span class="guilabel">On line</span>,
<span class="guilabel">Below line</span> and <span class="guilabel">Line orientation dependent position</span>
(placing the label at the left or the right of the line). It’s possible to
select several options at once. In that case, QGIS will look for the optimal
label position.</p></li>
<li><p><span class="guilabel">Distance</span> between the label and the line</p></li>
</ul>
</li>
<li><p><span class="guilabel">Curved</span>: draws the label following the curvature of the line
feature. In addition to the parameters available with the <span class="guilabel">Parallel</span>
mode, you can set the <span class="guilabel">Maximum angle between curved characters</span>,
either inside or outside.</p></li>
<li><p><span class="guilabel">Horizontal</span>: draws labels horizontally along the length of the
line feature.</p></li>
</ul>
<figure class="align-center" id="id11">
<span id="figure-labels-placement-line"></span><img alt="../../../_images/line_label_placement.png" src="../../../_images/line_label_placement.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.33 </span><span class="caption-text">Label placement examples for lines</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Next to placement modes, you can set:</p>
<ul class="simple">
<li><p><span class="guilabel">Repeating Labels</span> <span class="guilabel">Distance</span> to display multiple
times the label over the length of the feature. The distance can be in
<code class="docutils literal notranslate"><span class="pre">Millimeters</span></code>, <code class="docutils literal notranslate"><span class="pre">Points</span></code>, <code class="docutils literal notranslate"><span class="pre">Pixels</span></code>, <code class="docutils literal notranslate"><span class="pre">Meters</span> <span class="pre">at</span> <span class="pre">scale</span></code>, <code class="docutils literal notranslate"><span class="pre">Map</span> <span class="pre">Units</span></code>
and <code class="docutils literal notranslate"><span class="pre">Inches</span></code>.</p></li>
<li><p>A <span class="guilabel">Label Overrun</span> <span class="guilabel">Distance</span> (not available for
horizontal mode): specifies the maximal allowable distance a label may run
past the end (or start) of line features. Increasing this value can allow
for labels to be shown for shorter line features.</p></li>
<li><p><span class="guilabel">Label Anchoring</span>: controls the placement of the labels along the
line feature they refer to. Click on <span class="guilabel">Settings …</span> to choose:</p>
<ul>
<li><p>the position along the line (as a ratio) which labels will be
placed close to. It can be data-defined and possible values are:</p>
<ul>
<li><p><a class="reference internal" href="../../../_images/mActionLabelAnchorCenter.png"><img alt="labelAnchorCenter" src="../../../_images/mActionLabelAnchorCenter.png" style="width: 1.5em;" /></a> <span class="guilabel">Center of Line</span></p></li>
<li><p><a class="reference internal" href="../../../_images/mActionLabelAnchorStart.png"><img alt="labelAnchorStart" src="../../../_images/mActionLabelAnchorStart.png" style="width: 1.5em;" /></a> <span class="guilabel">Start of Line</span></p></li>
<li><p><a class="reference internal" href="../../../_images/mActionLabelAnchorEnd.png"><img alt="labelAnchorEnd" src="../../../_images/mActionLabelAnchorEnd.png" style="width: 1.5em;" /></a> <span class="guilabel">End of Line</span></p></li>
<li><p>or <a class="reference internal" href="../../../_images/mActionLabelAnchorCustom.png"><img alt="labelAnchorCustom" src="../../../_images/mActionLabelAnchorCustom.png" style="width: 1.5em;" /></a> <span class="guilabel">Custom…</span>.</p></li>
</ul>
</li>
<li><p><span class="guilabel">Clipping</span>: Determines how the label placement on a line is calculated.
By default only the visible extent of the line is used but the whole extent
can be used to have more consistent results.</p></li>
<li><p><span class="guilabel">Anchor text</span>: controls which part of the text (start, center or end)
will line up with the anchor point. Using <span class="guilabel">Automatic</span> anchoring
means that:</p>
<ul>
<li><p>For labels anchored near the start of the line (0-25%), the anchor placement
will be the <strong>start</strong> of the label text</p></li>
<li><p>For labels anchored near the end of the line (75-100%), the anchor placement
will be the <strong>end</strong> of the label text</p></li>
<li><p>For labels anchored near the center of the line (25-75%), the anchor placement
will be the <strong>center</strong> of the label text</p></li>
</ul>
</li>
<li><p><span class="guilabel">Placement Behavior</span>: use <span class="guilabel">Preferred Placement Hint</span>
to treat the label anchor only as a hint for the label placement.
By choosing <span class="guilabel">Strict</span>, labels are placed exactly on the label
anchor.</p></li>
</ul>
</li>
</ul>
</section>
<section id="placement-for-polygon-layers">
<h4><a class="toc-backref" href="#id25" role="doc-backlink">Placement for polygon layers</a><a class="headerlink" href="#placement-for-polygon-layers" title="Link to this heading"></a></h4>
<p>You can choose one of the following modes for placing labels of polygons:</p>
<figure class="align-center" id="id12">
<span id="figure-labels-placement-polygon"></span><img alt="../../../_images/polygon_label_placement.png" src="../../../_images/polygon_label_placement.png" />
<figcaption>
<p><span class="caption-number">Fig. 14.34 </span><span class="caption-text">Label placement examples for polygons</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p><span class="guilabel">Offset from Centroid</span>: labels are placed over the feature centroid
or at a fixed <span class="guilabel">Offset X,Y</span> distance (in <a class="reference internal" href="../introduction/general_tools.html#unit-selector"><span class="std std-ref">supported units</span></a>) from the centroid.
The reference centroid can be determined based on the
part of the polygon rendered in the map canvas (<span class="guilabel">visible polygon</span>)
or the <span class="guilabel">whole polygon</span>, no matter if you can see it. You can also:</p>
<ul>
<li><p>force the centroid point to lay inside their polygon</p></li>
<li><p>place the label within a specific quadrant</p></li>
<li><p>assign a rotation</p></li>
<li><p><span class="guilabel">Allow placing labels outside of polygons</span> when it is not
possible to place them inside the polygon. Thanks to data-defined properties,
this makes possible to either allow outside labels, prevent outside labels,
or force outside labels on a feature-by-feature basis.</p></li>
</ul>
</li>
<li><p><span class="guilabel">Around Centroid</span>: places the label within a preset distance around
the centroid, with a preference for the placement directly over the centroid.
Again, you can define whether the centroid is the one of the
<span class="guilabel">visible polygon</span> or the <span class="guilabel">whole polygon</span>, and whether
to force the centroid point inside the polygon.</p></li>
<li><p><span class="guilabel">Horizontal</span>: places at the best position a horizontal label inside
the polygon. The preferred placement is further from the edges of the polygon.
It’s possible to <span class="guilabel">Allow placing labels outside of polygons</span>.</p></li>
<li><p><span class="guilabel">Free (Angled)</span>: places at the best position a rotated label
inside the polygon. The rotation respects the polygon’s orientation and
the preferred placement is further from the edges of the polygon.
It’s possible to <span class="guilabel">Allow placing labels outside of polygons</span>.</p></li>
<li><p><span class="guilabel">Using Perimeter</span>: draws the label parallel to a generalised line
representing the polygon boundary, with preference for straighter portions
of the perimeter. You can define:</p>
<ul>
<li><p><span class="guilabel">Allowed positions</span>: <span class="guilabel">Above line</span>, <span class="guilabel">On line</span>,
<span class="guilabel">Below line</span> and <span class="guilabel">Line orientation dependent position</span>
(placing the label at the left or the right of the polygon’s boundary).
It’s possible to select several options at once. In that case, QGIS will
look for the optimal label position.</p></li>
<li><p><span class="guilabel">Distance</span> between the label and the polygon’s outline</p></li>
<li><p>the <span class="guilabel">Repeating Labels</span> <span class="guilabel">Distance</span> to display multiple
times the label over the length of the perimeter.</p></li>
</ul>
</li>
<li><p><span class="guilabel">Using Perimeter (Curved)</span>: draws the label following the curvature
of the polygon’s boundary. In addition to the parameters available with the
<span class="guilabel">Using Perimeter</span> mode, you can set the
<span class="guilabel">Maximum angle between curved characters polygon</span>, either inside
or outside.</p></li>
<li><p><span class="guilabel">Outside Polygons</span>: always places labels outside the polygons,
at a set <span class="guilabel">Distance</span></p></li>
</ul>
</section>
<section id="common-placement-settings">
<h4><a class="toc-backref" href="#id26" role="doc-backlink">Common placement settings</a><a class="headerlink" href="#common-placement-settings" title="Link to this heading"></a></h4>
<p>Some label placement settings are available for all layer geometry types:</p>
<section id="geometry-generator">
<h5><a class="toc-backref" href="#id27" role="doc-backlink">Geometry Generator</a><a class="headerlink" href="#geometry-generator" title="Link to this heading"></a></h5>
<p>The <span class="guilabel">Geometry Generator</span> section allows a user to alter the underlying
geometry used to place and render the label, by using <a class="reference internal" href="../expressions/expression.html#vector-expressions"><span class="std std-ref">expressions</span></a>.
This can be useful to perform displacement of the geometry dynamically
or to convert it to another geometry (type).</p>
<p>In order to use the geometry generator:</p>
<ol class="arabic simple">
<li><p>Check the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Geometry generator</span> option</p></li>
<li><p>Enter the expression generating the geometry to rely on</p></li>
<li><p>If relevant, select the geometry type of the expression output:
the label geometry-based settings such as placement or rendering
are updated to match the new geometry type capabilities.</p></li>
</ol>
<p>Some use cases include:</p>
<ul>
<li><p>Use a geometry which is saved in another field “label_position”</p></li>
<li><p>Use the <a class="reference internal" href="symbol_selector.html#geometry-generator-symbol"><span class="std std-ref">generated geometry</span></a> from the symbology
also for labeling</p></li>
<li><p>Use the &#64;map_scale variable to calculate distances / sizes be zoom level independent.</p></li>
<li><p>Combined with the curved placement mode, creates a circular label around a point feature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>exterior_ring(make_circle($geometry, 20))
</pre></div>
</div>
</li>
<li><p>Add a label at the start and the end of a line feature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>collect_geometries( start_point($geometry), end_point($geometry) )
</pre></div>
</div>
</li>
<li><p>Rely on a smoothed line of a river to get more room for label placement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>smooth( $geometry, iterations:=30, offset:=0.25, min_length:=10 )
</pre></div>
</div>
</li>
</ul>
</section>
<section id="data-defined">
<h5><a class="toc-backref" href="#id28" role="doc-backlink">Data Defined</a><a class="headerlink" href="#data-defined" title="Link to this heading"></a></h5>
<p>The <span class="guilabel">Data Defined</span> group provides direct control on labels
placement, on a feature-by-feature basis. It relies on their attributes
or an expression to set:</p>
<ul>
<li><p>the <span class="guilabel">X</span> and <span class="guilabel">Y</span> coordinate</p></li>
<li><p>the text alignment over the custom position set above:</p>
<ul class="simple">
<li><p><span class="guilabel">Horizontal</span>: it can be <strong>Left</strong>, <strong>Center</strong> or <strong>Right</strong></p></li>
<li><p>the text <span class="guilabel">Vertical</span>: it can be <strong>Bottom</strong>, <strong>Base</strong>, <strong>Half</strong>,
<strong>Cap</strong> or <strong>Top</strong></p></li>
</ul>
</li>
<li><p>the text <span class="guilabel">Rotation</span>. Different units can be defined for the
labeling rotation (e.g. <code class="docutils literal notranslate"><span class="pre">degrees</span></code>, <code class="docutils literal notranslate"><span class="pre">minutes</span> <span class="pre">of</span> <span class="pre">arc</span></code>, <code class="docutils literal notranslate"><span class="pre">turns</span></code>).
Check the <span class="guilabel">Preserve data rotation values</span> entry if you want to keep
the rotation value in the associated field and apply it to the label, whether
the label is pinned or not. If unchecked, unpinning the label rotation is
reset and its value cleared from the attribute table.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Data-defined rotation with polygon features is currently supported
only with the <span class="guilabel">Around centroid</span> placement mode.</p>
</div>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Expressions can not be used in combination with the labels map tools
(ie the <span class="guilabel">Rotate label</span> and <span class="guilabel">Move label</span> tools)
to <a class="reference internal" href="../introduction/general_tools.html#data-defined"><span class="std std-ref">data-define</span></a> labels placement.
The widget will be reset to the corresponding <a class="reference internal" href="../working_with_vector/vector_properties.html#vector-auxiliary-storage"><span class="std std-ref">auxiliary storage field</span></a>.</p>
</div>
</section>
<section id="priority">
<span id="labels-priority"></span><h5><a class="toc-backref" href="#id29" role="doc-backlink">Priority</a><a class="headerlink" href="#priority" title="Link to this heading"></a></h5>
<p>In the <span class="guilabel">Priority</span> section you can define the placement priority rank
of each label, ie if there are different diagrams or labels candidates for the
same location, the item with the higher priority will be displayed and the
others could be left out.</p>
<p>The priority rank is also used to evaluate whether a label could be omitted
due to a greater weighted <a class="reference internal" href="#labels-obstacles"><span class="std std-ref">obstacle feature</span></a>.</p>
</section>
<section id="obstacles">
<span id="labels-obstacles"></span><h5><a class="toc-backref" href="#id30" role="doc-backlink">Obstacles</a><a class="headerlink" href="#obstacles" title="Link to this heading"></a></h5>
<p>In some contexts (eg, high density labels, overlapping features…), the
labels placement can result in labels being placed over unrelated features.</p>
<p>An obstacle is a feature over which QGIS avoids placing other features’ labels
or diagrams. This can be controlled from the <span class="guilabel">Obstacles</span> section:</p>
<ol class="arabic">
<li><p>Activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Features act as obstacles</span>
option to decide that features of the layer should act as obstacles for
any label and diagram (including items from other features in the same layer).</p>
<p>Instead of the whole layer, you can select a subset of features to use as
obstacles, using the <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefine" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> <sup>Data-defined override</sup> control next
to the option.</p>
</li>
<li><p>Use the <span class="guilabel">Settings</span> button to tweak the obstacle’s weighting.</p>
<ul>
<li><p>For every potential obstacle feature you can assign an <span class="guilabel">Obstacle
weight</span>: any <a class="reference internal" href="#labels-priority"><span class="std std-ref">label</span></a> or <a class="reference internal" href="../working_with_vector/vector_properties.html#diagram-placement"><span class="std std-ref">diagram</span></a>
whose placement priority rank is greater than this value can be placed
over. Labels or diagrams with lower rank will be omitted if no other
placement is possible.</p>
<p>This weighting can also be data-defined, so that within the same layer,
certain features are more likely to be covered than others.</p>
</li>
<li><p>For polygon layers, you can choose the kind of obstacle the feature is:</p>
<ul class="simple">
<li><p><strong>over the feature’s interior</strong>: avoids placing labels over the interior
of the polygon (prefers placing labels totally outside or just slightly
inside the polygon)</p></li>
<li><p>or <strong>over the feature’s boundary</strong>: avoids placing labels over the
boundary of the polygon (prefers placing labels outside or completely
inside the polygon). This can be useful for layers where the features
cover the whole area (administrative units, categorical coverages, …).
In this case, it is impossible to avoid
placing labels within these features, and it looks much better when
placing them over the boundaries between features is avoided.</p></li>
</ul>
</li>
</ul>
</li>
</ol>
</section>
</section>
</section>
<section id="rendering-tab">
<span id="labels-rendering"></span><h3><a class="toc-backref" href="#id31" role="doc-backlink"><span class="section-number">14.3.2.4. </span>Rendering tab</a><a class="headerlink" href="#rendering-tab" title="Link to this heading"></a></h3>
<p>In the <a class="reference internal" href="../../../_images/render.png"><img alt="render" src="../../../_images/render.png" style="width: 1.5em;" /></a> <span class="guilabel">Rendering</span> tab, you can tune when the labels can
be rendered and their interaction with other labels and features.</p>
<section id="label-options">
<h4><a class="toc-backref" href="#id32" role="doc-backlink">Label options</a><a class="headerlink" href="#label-options" title="Link to this heading"></a></h4>
<p>Under <span class="guilabel">Label options</span>:</p>
<ul>
<li><p>You find the <a class="reference internal" href="../introduction/general_tools.html#label-scaledepend"><span class="std std-ref">scale-based</span></a>
and the <span class="guilabel">Pixel size-based</span> visibility settings.</p></li>
<li><p>The <span class="guilabel">Label z-index</span> determines the order in which labels are rendered,
as well in relation with other feature labels in the layer (using data-defined
override expression), as with labels from other layers. Labels with a higher
z-index are rendered on top of labels (from any layer) with lower z-index.</p>
<p>Additionally, the logic has been tweaked so that if two labels have
matching z-indexes, then:</p>
<ul class="simple">
<li><p>if they are from the same layer, the smaller label will be drawn above the
larger label</p></li>
<li><p>if they are from different layers, the labels will be drawn in the same order
as their layers themselves (ie respecting the order set in the map legend).</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This setting doesn’t make labels to be drawn below the
features from other layers, it just controls the order in which
labels are drawn on top of all the layers’ features.</p>
</div>
</li>
<li><p><span class="guilabel">Allow inferior fallback placements</span>: By default QGIS tries to
render labels at their best placement, following your settings.
Check this mode to allow features to fallback to worse placement options
when there’s no other choice, e.g. when a line is too short to fit a curved
label text then the label may be placed horizontally just over the feature’s
center point.</p></li>
<li><p>With data-defined expressions in <span class="guilabel">Show label</span> and <span class="guilabel">Always Show</span>
you can fine tune which labels should be rendered.</p></li>
<li><p>Allow to <span class="guilabel">Show upside-down labels</span>: alternatives are <strong>Never</strong>,
<strong>when rotation defined</strong> or <strong>always</strong>.</p></li>
<li><p>The <span class="guilabel">Overlapping labels</span> group allows you to control whether
overlapping labels are permitted for features in the layer and
how each of them should be handled:</p>
<ul class="simple">
<li><p><span class="guilabel">Never overlap</span>: never ever place overlapping labels for the layer,
even if it means some labels will be missing</p></li>
<li><p><span class="guilabel">Allow overlaps if required</span>: if the label can’t otherwise be placed,
draw an overlapping label. This mode will cause the label to be moved to
a less ideal placement if possible, e.g. moving the label further from the
center of a line or polygon, IF doing so will avoid overlapping labels.
But if there’s no other positions possible, then draw the label overlapping.</p></li>
<li><p><span class="guilabel">Allow overlaps without penalty</span>: It doesn’t matter at all if
the label overlaps other labels or obstacles, that’s fine to do and
the best placement (e.g most central placement) should always be used even
if an alternate further placement is possible which avoids overlaps entirely.</p></li>
</ul>
<p>Allowing both overlapping labels and fallback placements options will
guarantee that all features in the layer are labeled… not necessarily at
their best rendering!</p>
</li>
</ul>
</section>
<section id="feature-options">
<h4><a class="toc-backref" href="#id33" role="doc-backlink">Feature options</a><a class="headerlink" href="#feature-options" title="Link to this heading"></a></h4>
<p>Under <span class="guilabel">Feature options</span>:</p>
<ul class="simple">
<li><p>You can choose to <span class="guilabel">Label every part of a multi-part features</span>
and <span class="guilabel">Limit number of features to be labeled to</span>.</p></li>
<li><p>Both line and polygon layers offer the option to set a minimum size for
the features to be labeled, using <span class="guilabel">Suppress labeling of features
smaller than</span>.</p></li>
<li><p>For polygon features, you can also filter the labels to show according to
whether they completely fit within their feature or not.</p></li>
<li><p>For line features, you can choose to <span class="guilabel">Merge connected lines
to avoid duplicate labels</span>, rendering a quite airy map in conjunction with
the <span class="guilabel">Distance</span> or <span class="guilabel">Repeat</span> options in the <a class="reference internal" href="#labels-line-placement"><span class="std std-ref">Placement</span></a> tab.</p></li>
</ul>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="symbol_selector.html" class="btn btn-neutral float-left" title="14.2. The Symbol Selector" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="3d_symbols.html" class="btn btn-neutral float-right" title="14.4. Creating 3D Symbols" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">Last updated on 2024 May 30, 01:27 +0900.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/style_library/label_settings.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/user_manual/style_library/label_settings.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/user_manual/style_library/label_settings.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/user_manual/style_library/label_settings.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/user_manual/style_library/label_settings.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/user_manual/style_library/label_settings.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/user_manual/style_library/label_settings.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/style_library/label_settings.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/user_manual/style_library/label_settings.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/user_manual/style_library/label_settings.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/user_manual/style_library/label_settings.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/user_manual/style_library/label_settings.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/user_manual/style_library/label_settings.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/user_manual/style_library/label_settings.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/user_manual/style_library/label_settings.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/user_manual/style_library/label_settings.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/en/docs/user_manual/style_library/label_settings.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/en/docs/user_manual/style_library/label_settings.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/style_library/label_settings.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/en/docs/user_manual/style_library/label_settings.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/en/docs/user_manual/style_library/label_settings.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/en/docs/user_manual/style_library/label_settings.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/en/docs/user_manual/style_library/label_settings.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/en/docs/user_manual/style_library/label_settings.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/en/docs/user_manual/style_library/label_settings.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/user_manual/style_library/label_settings.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#en/c9f6f23ad6bb63fa01073593cefbddd2" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/en" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>