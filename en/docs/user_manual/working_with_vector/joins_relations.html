<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>16.4. Connecting and Editing Data Across Layers &mdash; QGIS Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/joins_relations.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="17. Working with Raster Data" href="../working_with_raster/index.html" />
    <link rel="prev" title="16.3. Editing" href="editing_geometry_attributes.html" />
  <meta name="description" content="QGIS 3.34 documentation: 16.4. Connecting and Editing Data Across Layers">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For Users</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">QGIS Desktop User Guide/Manual (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../preamble/preamble.html">1. Preamble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/foreword.html">2. Foreword</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/conventions.html">3. Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/features.html">4. Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/getting_started.html">5. Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/project_files.html">6. Working with Project Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_gui.html">7. QGIS GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/browser.html">8. The Browser panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_configuration.html">9. QGIS Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_projections/working_with_projections.html">10. Working with Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../map_views/index.html">11. Visualizing Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/general_tools.html">12. General Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../expressions/index.html">13. Level up with Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../style_library/index.html">14. The Style Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../managing_data_source/index.html">15. Managing Data Source</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">16. Working with Vector Data</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="vector_properties.html">16.1. The Vector Properties Dialog</a></li>
<li class="toctree-l3"><a class="reference internal" href="attribute_table.html">16.2. Working with the Attribute Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="editing_geometry_attributes.html">16.3. Editing</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">16.4. Connecting and Editing Data Across Layers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#joining-features-between-two-layers">16.4.1. Joining features between two layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-relations-between-multiple-layers">16.4.2. Setting relations between multiple layers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_raster/index.html">17. Working with Raster Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_mesh/mesh.html">18. Working with Mesh Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector_tiles/vector_tiles.html">19. Working with Vector Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_point_clouds/point_clouds.html">20. Working with Point Clouds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_3d_tiles/3d_tiles.html">21. Working with 3D Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../print_composer/index.html">22. Laying out the maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_ogc/ogc_client_support.html">23. Working with OGC / ISO protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_gps/index.html">24. Working with GPS Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth_system/index.html">25. Authentication System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grass_integration/grass_integration.html">26. GRASS GIS Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing/index.html">27. QGIS processing framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing_algs/index.html">28. Processing providers and algorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/index.html">29. Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/help_and_support.html">30. Help and Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/contributors.html">31. Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/index.html">32. Appendices</a></li>
<li class="toctree-l2"><a class="reference internal" href="../literature_web/literature_and_web_references.html">33. Literature and Web References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../server_manual/index.html">QGIS Server Guide/Manual (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training_manual/index.html">Training Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gentle_gis_introduction/index.html">A Gentle Introduction to GIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Writers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_guidelines/index.html">Documentation Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyqgis_developer_cookbook/index.html">PyQGIS Cookbook (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/index.html">Developers Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">QGIS User Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">16. </span>Working with Vector Data</a></li>
      <li class="breadcrumb-item active"><span class="section-number">16.4. </span>Connecting and Editing Data Across Layers</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/user_manual/working_with_vector/joins_relations.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="editing_geometry_attributes.html" class="btn btn-neutral float-left" title="16.3. Editing" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../working_with_raster/index.html" class="btn btn-neutral float-right" title="17. Working with Raster Data" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div></div></blockquote>
<section id="connecting-and-editing-data-across-layers">
<span id="sec-joins-relations"></span><span id="index-0"></span><h1><span class="section-number">16.4. </span>Connecting and Editing Data Across Layers<a class="headerlink" href="#connecting-and-editing-data-across-layers" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#joining-features-between-two-layers" id="id14">Joining features between two layers</a></p></li>
<li><p><a class="reference internal" href="#setting-relations-between-multiple-layers" id="id15">Setting relations between multiple layers</a></p>
<ul>
<li><p><a class="reference internal" href="#one-to-many-1-n-relations" id="id16">One to many (1-N) relations</a></p>
<ul>
<li><p><a class="reference internal" href="#layers-and-keys" id="id17">Layers and keys</a></p></li>
<li><p><a class="reference internal" href="#defining-1-n-relations" id="id18">Defining 1-N relations</a></p></li>
<li><p><a class="reference internal" href="#forms-for-1-n-relations" id="id19">Forms for 1-N relations</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#many-to-many-n-m-relations" id="id20">Many-to-many (N-M) relations</a></p></li>
<li><p><a class="reference internal" href="#polymorphic-relations" id="id21">Polymorphic relations</a></p>
<ul>
<li><p><a class="reference internal" href="#the-purpose" id="id22">The purpose</a></p></li>
<li><p><a class="reference internal" href="#defining-polymorphic-relations" id="id23">Defining polymorphic relations</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<p>Ability to connect data from different layers is one of the duties of a GIS software.
Such a connection can be based on the spatial relationship between the features,
or on their shared attributes.
QGIS provides tools to handle any of these associations, such as:</p>
<ul>
<li><p>Processing algorithms that can create a new layer as a result of the connection,
namely <a class="reference internal" href="../processing_algs/qgis/vectorgeneral.html#qgisjoinattributesbylocation"><span class="std std-ref">Join attributes by location</span></a>, <a class="reference internal" href="../processing_algs/qgis/vectorgeneral.html#qgisjoinbynearest"><span class="std std-ref">Join attributes by nearest</span></a>,
<a class="reference internal" href="../processing_algs/qgis/vectorgeneral.html#qgisjoinattributestable"><span class="std std-ref">Join attributes by field value</span></a>, …</p></li>
<li><p>SQL queries to create a new layer from the <a class="reference internal" href="../plugins/core_plugins/plugins_db_manager.html#dbmanager"><span class="std std-ref">DB Manager</span></a>
or as a <a class="reference internal" href="../managing_data_source/create_layers.html#vector-virtual-layers"><span class="std std-ref">virtual layer</span></a></p></li>
<li><p><a class="reference internal" href="#sec-joins"><span class="std std-ref">Joins properties</span></a> or <a class="reference internal" href="#vector-relations"><span class="std std-ref">relations settings</span></a>
that temporarily extend attributes of features in a given layer,
with those of features in another layer based on some matching attribute(s).</p>
<p>Joins and relations are technical concepts borrowed from databases
to get the most out of data stored in tables by combining their contents.
The idea is that features (rows) of different layers (tables) can be associated to each other.
The number of rows which are matching each other can be of any value (zero, one, many).</p>
</li>
</ul>
<section id="joining-features-between-two-layers">
<span id="sec-joins"></span><span id="index-1"></span><h2><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">16.4.1. </span>Joining features between two layers</a><a class="headerlink" href="#joining-features-between-two-layers" title="Link to this heading"></a></h2>
<p><strong>Joins</strong> in QGIS allow you to associate features of the current layer
to features from another loaded vector layer.
Whether they are spatially enabled and the type of geometry do not matter.
The join is based on an attribute that is shared by the layers, in a one-to-one relationship.</p>
<p>To create a join on a layer (identified below as <code class="docutils literal notranslate"><span class="pre">target</span> <span class="pre">layer</span></code>):</p>
<ol class="arabic simple">
<li><p>Go to the layer <span class="menuselection">Properties ►</span> <a class="reference internal" href="../../../_images/join.png"><img alt="join" src="../../../_images/join.png" style="width: 2em;" /></a> <span class="guilabel">Joins</span> tab</p></li>
<li><p>Click the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <sup>Add new join</sup> button.
The <span class="guilabel">Add vector join</span> dialog appears.</p></li>
<li><p>Select the <span class="guilabel">Join layer</span> you want to connect with the target vector layer</p></li>
<li><p>Specify the <span class="guilabel">Join field</span> (from the <code class="docutils literal notranslate"><span class="pre">join</span> <span class="pre">layer</span></code>)
and the <span class="guilabel">Target field</span> (from the <code class="docutils literal notranslate"><span class="pre">target</span> <span class="pre">layer</span></code>).
These are the fields that are used to find matching feature in both layers
hence they should have values in common.</p></li>
<li><p>Press <span class="guilabel">OK</span> and a summary of selected parameters is added to the <span class="guilabel">Join</span> panel.</p></li>
</ol>
<figure class="align-center" id="id1">
<span id="figure-joins"></span><img alt="../../../_images/join_attributes.png" src="../../../_images/join_attributes.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.101 </span><span class="caption-text">Join an attribute table to an existing vector layer</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The steps above will create a join,
where <strong>ALL</strong> the attributes of the <strong>first matching feature</strong> in the join layer
is added to the target layer’s feature.
The following logic is used to pair features during a join process:</p>
<ul class="simple">
<li><p>All the features in the target layer are returned, regardless they have a match</p></li>
<li><p>If the target field contains duplicate values, these features are assigned the same feature
from the join layer.</p></li>
<li><p>If the join field contains duplicate matching values, only the first fetched feature is picked.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Joins in QGIS are based on a single field matching so most of the times,
you would want to make sure that values in the matchable fields are unique.</p>
</div>
<p>QGIS provides some more options to tweak the join:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Cache join layer in virtual memory</span>: allows you to cache values
in memory (without geometries) from the joined layer in order to speed up lookups.</p></li>
<li><p><a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Create attribute index on the join field</span> to speed up lookups</p></li>
<li><p><a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Dynamic form</span>: helps to synchronize join fields on the fly,
according to the <span class="guilabel">Target field</span>.
This way, constraints for join fields are also correctly updated.
Note that it’s deactivated by default because it may be very time consuming
if you have a lot of features or a myriad of joins.</p></li>
<li><p>If the target layer is editable, then some icons will be displayed
in the attribute table next to fields, in order to inform about their status:</p>
<ul>
<li><p><a class="reference internal" href="../../../_images/mIconJoinNotEditable.png"><img alt="joinNotEditable" src="../../../_images/mIconJoinNotEditable.png" style="width: 1.5em;" /></a>: the join layer is not configured to be editable.
If you want to be able to edit join features from the target attribute table,
then you have to check the option <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Editable join layer</span>.</p></li>
<li><p><a class="reference internal" href="../../../_images/mIconJoinedLayerNotEditable.png"><img alt="joinedLayerNotEditable" src="../../../_images/mIconJoinedLayerNotEditable.png" style="width: 1.5em;" /></a>: the join layer is well configured to be editable,
but its current status is read only.</p></li>
<li><p><a class="reference internal" href="../../../_images/mIconJoinHasNotUpsertOnEdit.png"><img alt="joinHasNotUpsertOnEdit" src="../../../_images/mIconJoinHasNotUpsertOnEdit.png" style="width: 1.5em;" /></a>: the join layer is editable,
but synchronization mechanisms are not activated.
If you want to automatically add a feature in the join layer
when a feature is created in the target layer,
then you have to check the option <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Upsert on edit</span>.
Symmetrically, the option <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Delete cascade</span> may be activated
if you  want to automatically delete join features.</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Joined fields</span>: instead of adding all the fields from the joined layer,
you can specify a subset.</p></li>
<li><p><a class="reference internal" href="../../../_images/unchecked.png"><img alt="unchecked" src="../../../_images/unchecked.png" style="width: 1.3em;" /></a> <span class="guilabel">Custom field name prefix</span> for joined fields,
in order to avoid name collision</p></li>
</ul>
</section>
<section id="setting-relations-between-multiple-layers">
<span id="vector-relations"></span><span id="index-2"></span><h2><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">16.4.2. </span>Setting relations between multiple layers</a><a class="headerlink" href="#setting-relations-between-multiple-layers" title="Link to this heading"></a></h2>
<p>Unlike joins that define a one-to-one link between features across two layers,
relations help you build interconnections between multiple features across two or more layers.
As such, relations are project level settings
and are set in <span class="menuselection">Project ► Properties ►</span> <a class="reference internal" href="../../../_images/relations.png"><img alt="relations" src="../../../_images/relations.png" style="width: 1.5em;" /></a> <span class="guilabel">Relations</span> tab.
From there, you can:</p>
<ul>
<li><p><a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <span class="guilabel">Add relation</span> whose type can be:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#one-to-many-relation"><span class="std std-ref">one to many relation</span></a></p></li>
<li><p><a class="reference internal" href="#many-to-many-relation"><span class="std std-ref">many to many relation</span></a></p></li>
<li><p><a class="reference internal" href="#polymorphic-relation"><span class="std std-ref">polymorphic relation</span></a> that you can add or edit
with the dedicated tools in the action drop-down menu.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is no simple way yet to edit a non-polymorphic relation once it has been created.
Only the name can be edited with a double-click.
For any other parameters of such a relation you will have to remove and recreate it.</p>
</div>
</li>
<li><p><a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <span class="guilabel">Discover relations</span>: QGIS is able to discover existing relations
from supported database formats (PostgreSQL, GeoPackage, ESRI File Geodatabase, …).
This can be a good way to ease the relations definition.</p></li>
<li><p><a class="reference internal" href="../../../_images/symbologyRemove.png"><img alt="symbologyRemove" src="../../../_images/symbologyRemove.png" style="width: 1.5em;" /></a> <span class="guilabel">Remove relation</span></p></li>
</ul>
<figure class="align-center" id="id2">
<span id="figure-relations"></span><img alt="../../../_images/project_relations.png" src="../../../_images/project_relations.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.102 </span><span class="caption-text">Relations tab</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="one-to-many-1-n-relations">
<span id="one-to-many-relation"></span><h3><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">16.4.2.1. </span>One to many (1-N) relations</a><a class="headerlink" href="#one-to-many-1-n-relations" title="Link to this heading"></a></h3>
<p>As an example you have a layer with all regions of Alaska (polygon)
which provides some attributes about its name and region type
and a unique id (which acts as primary key).</p>
<p>Then you get another point layer or table with information about airports
that are located in the regions and you also want to keep track of these.
If you want to add them to the regions layer,
you need to create a one to many relation using foreign keys,
because there are several airports in most regions.</p>
<figure class="align-center" id="id3">
<span id="figure-relations-map"></span><img alt="../../../_images/regions_with_airports.png" src="../../../_images/regions_with_airports.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.103 </span><span class="caption-text">Alaska region with airports</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<section id="layers-and-keys">
<h4><a class="toc-backref" href="#id17" role="doc-backlink">Layers and keys</a><a class="headerlink" href="#layers-and-keys" title="Link to this heading"></a></h4>
<p>QGIS makes no difference between a table and a vector layer.
Basically, a vector layer is a table with a geometry.
So you can add your table as a vector layer.
To demonstrate the 1-n relation, you can load the <code class="file docutils literal notranslate"><span class="pre">regions</span></code>
and <code class="file docutils literal notranslate"><span class="pre">airports</span></code> layers in the sample dataset.
In practice, each airport belongs to exactly one region
while each region can have any number of airports (a typical one to many relation).</p>
<p>which has a foreign key field (<code class="docutils literal notranslate"><span class="pre">fk_region</span></code>) to the layer regions.</p>
<p>In addition to the attributes describing the airports,
the aiports layer has another field <code class="docutils literal notranslate"><span class="pre">fk_region</span></code> which acts as a foreign key
(if you have a database, you will probably want to define a constraint on it).
This <code class="docutils literal notranslate"><span class="pre">fk_region</span></code> field will always contain an id of a region.
It can be seen like a pointer to the region it belongs to.</p>
<p>All you have to do is to tell QGIS the relation between the layers
so that you can design a custom edit form for editing and QGIS takes care of the setup.
It works with different providers (so you can also use it with shape and csv files).</p>
</section>
<section id="defining-1-n-relations">
<h4><a class="toc-backref" href="#id18" role="doc-backlink">Defining 1-N relations</a><a class="headerlink" href="#defining-1-n-relations" title="Link to this heading"></a></h4>
<p>The first thing we are going to do is to let QGIS know about the relations between the layers.
This is done in <span class="menuselection">Project ► Properties…</span>.
Open the <span class="guilabel">Relations</span> tab and click on <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <span class="guilabel">Add Relation</span>.</p>
<ul>
<li><p><strong>Name</strong> is going to be used as a title. It should be a human readable string
describing what the relation is used for.
We will just call say <strong>airport_relation</strong> in this case.</p></li>
<li><p><strong>Referenced Layer (Parent)</strong> also considered as parent layer, is the one with the primary key,
pointed to, so here it is the <code class="docutils literal notranslate"><span class="pre">regions</span></code> layer.
You need to define the primary key of the referenced layer, so it is <code class="docutils literal notranslate"><span class="pre">ID</span></code>.</p></li>
<li><p><strong>Referencing Layer (Child)</strong> also considered as child layer,
is the one with the foreign key field on it.
In our case, this is the <code class="docutils literal notranslate"><span class="pre">airports</span></code> layer.
For this layer you need to add a referencing field which points to the other layer,
so this is <code class="docutils literal notranslate"><span class="pre">fk_region</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sometimes, you need more than a single field to uniquely identify features in a layer.
Creating a relation with such a layer requires a <strong>composite key</strong>,
i.e. more than a single pair of matching fields.
Use the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <sup>Add new field pair as part of a composite foreign key</sup> button
to add as many pairs as necessary.</p>
</div>
</li>
<li><p><strong>Id</strong> will be used for internal purposes and has to be unique.
You may need it to build <a class="reference internal" href="vector_properties.html#customize-form"><span class="std std-ref">custom forms</span></a>.
If you leave it empty, one will be generated for you but you can assign one yourself
to get one that is easier to handle</p></li>
<li><p><strong>Relationship strength</strong> sets the strength of the relation between the parent and the child layer.
The default <span class="guilabel">Association</span> type means that the parent layer is <em>simply</em> linked to the child one
while the <span class="guilabel">Composition</span> type allows you to duplicate also the child features
when duplicating the parent ones and on deleting a feature the children are deleted as well,
resulting in cascade over all levels (means children of children of… are deleted as well).</p></li>
</ul>
<figure class="align-center" id="id4">
<span id="figure-relations-manager"></span><img alt="../../../_images/regions_airports_mapping.png" src="../../../_images/regions_airports_mapping.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.104 </span><span class="caption-text">Adding a relation between regions and airports layers</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>From the <span class="guilabel">Relations</span> tab, you can also press the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a>
<span class="guilabel">Discover Relation</span> button to fetch the relations available from
the providers of the loaded layers.
This is possible for layers stored in data providers like PostgreSQL or SpatiaLite.</p>
</section>
<section id="forms-for-1-n-relations">
<span id="index-3"></span><h4><a class="toc-backref" href="#id19" role="doc-backlink">Forms for 1-N relations</a><a class="headerlink" href="#forms-for-1-n-relations" title="Link to this heading"></a></h4>
<p>Now that QGIS knows about the relation, it will be used to improve the forms it generates.
As we did not change the default form method (autogenerated), it will just add a new widget in our form.
So let’s select the layer region in the legend and use the identify tool.
Depending on your settings, the form might open directly
or you will have to choose to open it in the identification dialog under actions.</p>
<figure class="align-center" id="id5">
<span id="figure-embedded-form"></span><img alt="../../../_images/airport_relation_dataview.png" src="../../../_images/airport_relation_dataview.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.105 </span><span class="caption-text">Identification dialog regions with relation to airports</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>As you can see, the airports assigned to this particular region are all shown in a table.
And there are also some buttons available. Let’s review them shortly:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="../../../_images/mActionToggleEditing.png"><img alt="toggleEditing" src="../../../_images/mActionToggleEditing.png" style="width: 1.5em;" /></a> button is for toggling the edit mode.
Be aware that it toggles the edit mode of the airport layer,
although we are in the feature form of a feature from the region layer.
But the table is representing features of the airport layer.</p></li>
<li><p>The <a class="reference internal" href="../../../_images/mActionSaveEdits.png"><img alt="saveEdits" src="../../../_images/mActionSaveEdits.png" style="width: 1.5em;" /></a> button is for saving all the edits in the child layer (airport).</p></li>
<li><p>The <a class="reference internal" href="../../../_images/mActionCapturePoint.png"><img alt="capturePoint" src="../../../_images/mActionCapturePoint.png" style="width: 1.5em;" /></a> button lets you digitize the airport geometry in the map canvas
and assigns the new feature to the current region by default.
Note that the icon will change according to the geometry type.</p></li>
<li><p>The <a class="reference internal" href="../../../_images/mActionNewTableRow.png"><img alt="newTableRow" src="../../../_images/mActionNewTableRow.png" style="width: 1.5em;" /></a> button adds a new record to the airport layer attribute table
and assigns the new feature to the current region by default.
The geometry can be drawn later with the <span class="guilabel">Add part</span> digitizing tool.</p></li>
<li><p>The <a class="reference internal" href="../../../_images/mActionDuplicateFeature.png"><img alt="duplicateFeature" src="../../../_images/mActionDuplicateFeature.png" style="width: 1.5em;" /></a> button allows you to copy and paste one or more child features
within the child layer.
They can later be assigned to a different parent feature or have their attributes modified.</p></li>
<li><p>The <a class="reference internal" href="../../../_images/mActionDeleteSelectedFeatures.png"><img alt="deleteSelectedFeatures" src="../../../_images/mActionDeleteSelectedFeatures.png" style="width: 1.5em;" /></a> button deletes the selected airport(s) permanently.</p></li>
<li><p>The <a class="reference internal" href="../../../_images/mActionLink.png"><img alt="link" src="../../../_images/mActionLink.png" style="width: 1.5em;" /></a> symbol opens a new dialog where you can select any existing airport
which will then be assigned to the current region.
This may be handy if you created the airport on the wrong region by accident.</p></li>
<li><p>The <a class="reference internal" href="../../../_images/mActionUnlink.png"><img alt="unlink" src="../../../_images/mActionUnlink.png" style="width: 1.5em;" /></a> symbol unlinks the selected airport(s) from the current region,
leaving them unassigned (the foreign key is set to NULL) effectively.</p></li>
<li><p>With the <a class="reference internal" href="../../../_images/mActionZoomToSelected.png"><img alt="zoomToSelected" src="../../../_images/mActionZoomToSelected.png" style="width: 1.5em;" /></a> button you can zoom the map to the selected child features.</p></li>
<li><p>The two buttons <a class="reference internal" href="../../../_images/mActionFormView.png"><img alt="formView" src="../../../_images/mActionFormView.png" style="width: 1.2em;" /></a> and <a class="reference internal" href="../../../_images/mActionOpenTable.png"><img alt="openTable" src="../../../_images/mActionOpenTable.png" style="width: 1.5em;" /></a> to the right switch between the <a class="reference internal" href="attribute_table.html#attribute-table-view"><span class="std std-ref">table
view and form view</span></a> of the related child features.</p></li>
</ul>
<p>If you use the <a class="reference internal" href="vector_properties.html#customize-form"><span class="std std-ref">Drag and Drop Designer</span></a> for the regions feature,
you can select which tools are available.
You can even decide whether to open a new form when a new feature is added
using <span class="guilabel">Force hide form on add feature</span> option.
Be aware that this option implies that not null attributes must take a valid default value
to work correctly.</p>
<figure class="align-center" id="id6">
<span id="figure-select-relation-tools"></span><img alt="../../../_images/airport_relation_formproperties.png" src="../../../_images/airport_relation_formproperties.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.106 </span><span class="caption-text">Drag and Drop Designer for configure regions-airports relation tools</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In the above example the referencing layer has geometries (so it isn’t just an alphanumeric table)
so the above steps will create an entry in the layer attribute table
that has no corresponding geometric feature.
To add the geometry:</p>
<ol class="arabic simple">
<li><p>Choose <a class="reference internal" href="../../../_images/mActionOpenTable.png"><img alt="openTable" src="../../../_images/mActionOpenTable.png" style="width: 1.5em;" /></a> <span class="menuselection">Open Attribute Table</span> for the referencing layer.</p></li>
<li><p>Select the record that has been added previously within the feature form of the referenced layer.</p></li>
<li><p>Use the <a class="reference internal" href="../../../_images/mActionAddPart.png"><img alt="addPart" src="../../../_images/mActionAddPart.png" style="width: 1.5em;" /></a> <sup>Add Part</sup> digitizing tool to attach a geometry
to the selected attributes table record.</p></li>
</ol>
<p>If you work on the airport table, the widget Relation Reference is automatically set up
for the <code class="docutils literal notranslate"><span class="pre">fk_region</span></code> field (the one used to create the relation),
see <a class="reference internal" href="vector_properties.html#configure-field"><span class="std std-ref">Relation Reference widget</span></a>.</p>
<p>In the airport form you will see the <a class="reference internal" href="../../../_images/mActionFormView.png"><img alt="formView" src="../../../_images/mActionFormView.png" style="width: 1.2em;" /></a> button at the right side of the <code class="docutils literal notranslate"><span class="pre">fk_region</span></code> field:
if you click on the button the form of the region layer will be opened.
This widget allows you to easily and quickly open the forms of the linked parent features.</p>
<figure class="align-center" id="id7">
<span id="figure-linked-forms"></span><img alt="../../../_images/airport_attributes.png" src="../../../_images/airport_attributes.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.107 </span><span class="caption-text">Identification dialog airport with relation to regions</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The Relation Reference widget has also an option to embed the form of the parent layer within the child one.
It is available in  the <span class="menuselection">Properties ► Attributes Form</span> menu of the airport layer:
select the <code class="docutils literal notranslate"><span class="pre">fk_region</span></code> field and check the <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">embedded</span> <span class="pre">form</span></code> option.</p>
<p>If you look at the feature dialog now,
you will see that the form of the region is embedded inside the airports form
and will even have a combobox, which allows you to assign the current airport to another region.</p>
<figure class="align-center" id="figure-linked-forms-embedded">
<img alt="../../../_images/airport_attributes_expanded.png" src="../../../_images/airport_attributes_expanded.png" />
</figure>
<p>Moreover if you toggle the editing mode of the airport layer,
the <code class="docutils literal notranslate"><span class="pre">fk_region</span></code> field has also an autocompleter function:
while typing you will see all the values of the <code class="docutils literal notranslate"><span class="pre">id</span></code> field of the region layer.
Here it is possible to digitize a polygon for the region layer using the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> button
if you chose the option <code class="docutils literal notranslate"><span class="pre">Allow</span> <span class="pre">adding</span> <span class="pre">new</span> <span class="pre">features</span></code>
in the <span class="menuselection">Properties ► Attributes Form</span> menu of the airport layer.</p>
<p>The child layer can also be used in the <a class="reference internal" href="../introduction/general_tools.html#select-by-value"><span class="std std-ref">Select Features By Value</span></a> tool
in order to select features of the parent layer based on attributes of their children.</p>
<p>In <a class="reference internal" href="#figure-select-by-value"><span class="std std-numref">Fig. 16.108</span></a>, all the regions where the mean altitude
of the airports is greater than 500 meters above sea level are selected.</p>
<p>You will find that many different aggregation functions are available in the form.</p>
<figure class="align-center" id="id8">
<span id="figure-select-by-value"></span><img alt="../../../_images/relation_select_by_value.png" src="../../../_images/relation_select_by_value.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.108 </span><span class="caption-text">Select parent features with child values</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
</section>
</section>
<section id="many-to-many-n-m-relations">
<span id="many-to-many-relation"></span><span id="index-4"></span><h3><a class="toc-backref" href="#id20" role="doc-backlink"><span class="section-number">16.4.2.2. </span>Many-to-many (N-M) relations</a><a class="headerlink" href="#many-to-many-n-m-relations" title="Link to this heading"></a></h3>
<p>N-M relations are many-to-many relations between two tables.
For instance, the <code class="docutils literal notranslate"><span class="pre">airports</span></code> and <code class="docutils literal notranslate"><span class="pre">airlines</span></code> layers:
an airport receives several airline companies
and an airline company flies to several airports.</p>
<p>This SQL code creates the three tables we need for an N-M relationship
in a PostgreSQL/PostGIS schema named <em>locations</em>.
You can run the code using the <span class="menuselection">Database ► DB Manager…</span> for PostGIS
or external tools such as <a class="reference external" href="https://www.pgadmin.org">pgAdmin</a>.
The airports table stores the <code class="docutils literal notranslate"><span class="pre">airports</span></code> layer and the airline table stores the <code class="docutils literal notranslate"><span class="pre">airlines</span></code> layer.
In both tables few fields are used for clarity.
The <em>tricky</em> part is the <code class="docutils literal notranslate"><span class="pre">airports_airlines</span></code> table.
We need it to list all airlines for all airports (or vice versa).
This kind of table is known as a <em>pivot table</em>.
The <em>constraints</em> in this table force that an airport can be associated with an airline
only if both already exist in their layers.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">SCHEMA</span><span class="w"> </span><span class="n">locations</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">locations</span><span class="p">.</span><span class="n">airports</span>
<span class="p">(</span>
<span class="w">   </span><span class="n">id</span><span class="w"> </span><span class="nb">serial</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">geom</span><span class="w"> </span><span class="n">geometry</span><span class="p">(</span><span class="n">Point</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">airport_name</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">airports_pkey</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">airports_geom_idx</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">locations</span><span class="p">.</span><span class="n">airports</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="n">gist</span><span class="w"> </span><span class="p">(</span><span class="n">geom</span><span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">locations</span><span class="p">.</span><span class="n">airlines</span>
<span class="p">(</span>
<span class="w">   </span><span class="n">id</span><span class="w"> </span><span class="nb">serial</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">geom</span><span class="w"> </span><span class="n">geometry</span><span class="p">(</span><span class="n">Point</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">airline_name</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">airlines_pkey</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">airlines_geom_idx</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">locations</span><span class="p">.</span><span class="n">airlines</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="n">gist</span><span class="w"> </span><span class="p">(</span><span class="n">geom</span><span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">locations</span><span class="p">.</span><span class="n">airports_airlines</span>
<span class="p">(</span>
<span class="w">   </span><span class="n">id</span><span class="w"> </span><span class="nb">serial</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">airport_fk</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">airline_fk</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">airports_airlines_pkey</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">),</span>
<span class="w">   </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">airports_airlines_airport_fk_fkey</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">airport_fk</span><span class="p">)</span>
<span class="w">      </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">locations</span><span class="p">.</span><span class="n">airports</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="w">      </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="w">      </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="w">      </span><span class="k">DEFERRABLE</span><span class="w"> </span><span class="k">INITIALLY</span><span class="w"> </span><span class="k">DEFERRED</span><span class="p">,</span>
<span class="w">   </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">airports_airlines_airline_fk_fkey</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">airline_fk</span><span class="p">)</span>
<span class="w">      </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">locations</span><span class="p">.</span><span class="n">airlines</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="w">      </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="w">      </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="w">      </span><span class="k">DEFERRABLE</span><span class="w"> </span><span class="k">INITIALLY</span><span class="w"> </span><span class="k">DEFERRED</span>
<span class="w"> </span><span class="p">);</span>
</pre></div>
</div>
<p>Instead of PostgreSQL you can also use GeoPackage.
In this case, the three tables can be created manually
using the <span class="menuselection">Database ► DB Manager…</span>.
In GeoPackage there are no schemas so the <em>locations</em> prefix is not needed.</p>
<p>Foreign key constraints in <code class="docutils literal notranslate"><span class="pre">airports_airlines</span></code> table can´t be created
using <span class="menuselection">Table ► Create Table…</span> or <span class="menuselection">Table ► Edit Table…</span>
so they should be created using <span class="menuselection">Database ► SQL Window…</span>.
GeoPackage doesn’t support <em>ADD CONSTRAINT</em> statements so the <code class="docutils literal notranslate"><span class="pre">airports_airlines</span></code>
table should be created in two steps:</p>
<ol class="arabic">
<li><p>Set up the table only with the <code class="docutils literal notranslate"><span class="pre">id</span></code> field using <span class="menuselection">Table ► Create Table…</span></p></li>
<li><p>Using <span class="menuselection">Database ► SQL Window…</span>, type and execute this SQL code:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">airports_airlines</span>
<span class="w">   </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">airport_fk</span><span class="w"> </span><span class="nb">INTEGER</span>
<span class="w">   </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">airports</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="w">   </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="w">   </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="w">   </span><span class="k">DEFERRABLE</span><span class="w"> </span><span class="k">INITIALLY</span><span class="w"> </span><span class="k">DEFERRED</span><span class="p">;</span>

<span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">airports_airlines</span>
<span class="w">   </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">airline_fk</span><span class="w"> </span><span class="nb">INTEGER</span>
<span class="w">   </span><span class="k">REFERENCES</span><span class="w"> </span><span class="n">airlines</span><span class="w"> </span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<span class="w">   </span><span class="k">ON</span><span class="w"> </span><span class="k">DELETE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="w">   </span><span class="k">ON</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="k">CASCADE</span>
<span class="w">   </span><span class="k">DEFERRABLE</span><span class="w"> </span><span class="k">INITIALLY</span><span class="w"> </span><span class="k">DEFERRED</span><span class="p">;</span>
</pre></div>
</div>
</li>
</ol>
<p>Then in QGIS, you should set up two <a class="reference internal" href="#one-to-many-relation"><span class="std std-ref">one-to-many relations</span></a>
as explained above:</p>
<ul class="simple">
<li><p>a relation between <code class="docutils literal notranslate"><span class="pre">airlines</span></code> table and the pivot table;</p></li>
<li><p>and a second one between <code class="docutils literal notranslate"><span class="pre">airports</span></code> table and the pivot table.</p></li>
</ul>
<p>An easier way to do it (only for PostgreSQL) is using the <span class="guilabel">Discover Relations</span>
in <span class="menuselection">Project ► Properties ► Relations</span>.
QGIS will automatically read all relations in your database
and you only have to select the two you need.
Remember to load the three tables in the QGIS project first.</p>
<figure class="align-center" id="id9">
<span id="figure-setup-relations"></span><img alt="../../../_images/airports_airlines_relation.png" src="../../../_images/airports_airlines_relation.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.109 </span><span class="caption-text">Relations and autodiscover</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In case you want to remove an <code class="docutils literal notranslate"><span class="pre">airport</span></code> or an <code class="docutils literal notranslate"><span class="pre">airline</span></code>,
QGIS won’t remove the associated record(s) in <code class="docutils literal notranslate"><span class="pre">airports_airlines</span></code> table.
This task will be made by the database if we specify the right <em>constraints</em>
in the pivot table creation as in the current example.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Combining N-M relation with automatic transaction group</strong></p>
<p>You should enable the transaction mode in <span class="menuselection">Project Properties ► Data Sources ►</span>
when working on such context.
QGIS should be able to add or update row(s) in all tables (airlines, airports and the pivot tables).</p>
</div>
<p>Finally we have to select the right cardinality
in the <span class="menuselection">Layer Properties ► Attributes Form</span>
for the <code class="docutils literal notranslate"><span class="pre">airports</span></code> and <code class="docutils literal notranslate"><span class="pre">airlines</span></code> layers.
For the first one we should choose the <strong>airlines (id)</strong> option
and for the second one the <strong>airports (id)</strong> option.</p>
<figure class="align-center" id="id10">
<span id="figure-cardinality"></span><img alt="../../../_images/airports_airlines_relation_formproperties.png" src="../../../_images/airports_airlines_relation_formproperties.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.110 </span><span class="caption-text">Set relationship cardinality</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Now you can associate an airport with an airline (or an airline with an airport)
using <span class="guilabel">Add child feature</span> or <span class="guilabel">Link existing child feature</span> in the subforms.
A record will automatically be inserted in the <code class="docutils literal notranslate"><span class="pre">airports_airlines</span></code> table.</p>
<figure class="align-center" id="id11">
<span id="figure-relationship-working"></span><img alt="../../../_images/add_airport_airline.png" src="../../../_images/add_airport_airline.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.111 </span><span class="caption-text">N-M relationship between airports and airlines</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using <strong>Many to one relation</strong> cardinality</p>
<p>Sometimes hiding the pivot table in an N-M relationship is not desirable.
Mainly because there are attributes in the relationship that can only have values
when a relationship is established.
If your tables have a geometry field, it could be interesting to activate the <span class="guilabel">On map identification</span> option
(<span class="menuselection">Layer Properties ► Attributes Form ► Available widgets ► Fields</span>)
for the foreign key fields in the pivot table.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Pivot table primary key</strong></p>
<p>Avoid using multiple fields in the primary key in a pivot table.
QGIS assumes a single  primary key so a constraint like
<code class="docutils literal notranslate"><span class="pre">constraint</span> <span class="pre">airports_airlines_pkey</span> <span class="pre">primary</span> <span class="pre">key</span> <span class="pre">(airport_fk,</span> <span class="pre">airline_fk)</span></code> will not work.</p>
</div>
</section>
<section id="polymorphic-relations">
<span id="polymorphic-relation"></span><span id="index-5"></span><h3><a class="toc-backref" href="#id21" role="doc-backlink"><span class="section-number">16.4.2.3. </span>Polymorphic relations</a><a class="headerlink" href="#polymorphic-relations" title="Link to this heading"></a></h3>
<section id="the-purpose">
<h4><a class="toc-backref" href="#id22" role="doc-backlink">The purpose</a><a class="headerlink" href="#the-purpose" title="Link to this heading"></a></h4>
<p>Polymorphic relations are special case of 1-N relations,
where a single referencing (document) layer contains the features for multiple referenced layers.
This differs from normal relations which require different referencing layer for each referenced layer.
A single referencing (document) layer is achieved by adding an adiditonal <code class="docutils literal notranslate"><span class="pre">layer_field</span></code> column
in the referencing (document) layer that stores information to identify the referenced layer.
In its most simple form, the referencing (document) layer will just insert the layer name
of the referenced layer into this field.</p>
<p>To be more precise, a polymorphic relation is a set of normal relations
having the same referencing layer but having the referenced layer dynamically defined.
The polymorphic setting of the layer is solved by using an expression
which has to match some properties of the referenced layer like the table name, layer id, layer name.</p>
<p>Imagine we are going to the park and want to take pictures of different species
of <code class="docutils literal notranslate"><span class="pre">plants</span></code> and <code class="docutils literal notranslate"><span class="pre">animals</span></code> we see there.
Each plant or animal has multiple pictures associated with it,
so if we use the normal 1:N relations to store pictures, we would need two separate tables,
<code class="docutils literal notranslate"><span class="pre">animal_images</span></code> and <code class="docutils literal notranslate"><span class="pre">plant_images</span></code>.
This might not be a problem for 2 tables, but imagine if we want to take separate pictures
for mushrooms, birds etc.</p>
<p>Polymorphic relations solve this problem as all the referencing features are stored
in the same table <code class="docutils literal notranslate"><span class="pre">documents</span></code>.
For each feature the referenced layer is stored in the <code class="docutils literal notranslate"><span class="pre">referenced_layer</span></code> field
and the referenced feature id in the <code class="docutils literal notranslate"><span class="pre">referenced_fk</span></code> field.</p>
</section>
<section id="defining-polymorphic-relations">
<h4><a class="toc-backref" href="#id23" role="doc-backlink">Defining polymorphic relations</a><a class="headerlink" href="#defining-polymorphic-relations" title="Link to this heading"></a></h4>
<p>First, let QGIS know about the polymorphic relations between the layers.
This is done in <span class="menuselection">Project ► Properties…</span>.
Open the <span class="guilabel">Relations</span> tab and click on the little down arrow next to the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a>
<span class="guilabel">Add Relation</span> button, so you can select the <span class="guilabel">Add Polymorphic Relation</span> option
from the newly appeared dropdown.</p>
<figure class="align-center" id="id12">
<span id="figure-define-polymorphic-relation"></span><img alt="../../../_images/polymorphic_relation_properties.png" src="../../../_images/polymorphic_relation_properties.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.112 </span><span class="caption-text">Adding a polymorphic relation using <code class="docutils literal notranslate"><span class="pre">documents</span></code> layer as referencing and <code class="docutils literal notranslate"><span class="pre">animals</span></code> and <code class="docutils literal notranslate"><span class="pre">plants</span></code> as referenced layers.</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul>
<li><p><strong>Id</strong> will be used for internal purposes and has to be unique.
You may need it to build <a class="reference internal" href="vector_properties.html#customize-form"><span class="std std-ref">custom forms</span></a>.
If you leave it empty, one will be generated for you but you can assign one yourself
to get one that is easier to handle</p></li>
<li><p><strong>Referencing Layer (Child)</strong> also considered as child layer,
is the one with the foreign key field on it.
In our case, this is the <code class="docutils literal notranslate"><span class="pre">documents</span></code> layer.
For this layer you need to add a referencing field which points to the other layer,
so this is <code class="docutils literal notranslate"><span class="pre">referenced_fk</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sometimes, you need more than a single field to uniquely identify features in a layer.
Creating a relation with such a layer requires a <strong>composite key</strong>,
i.e. more than a single pair of matching fields.
Use the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="symbologyAdd" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <sup>Add new field pair as part of a composite foreign key</sup> button
to add as many pairs as necessary.</p>
</div>
</li>
<li><p><strong>Layer Field</strong> is the field in the referencing table that stores the result
of the evaluated layer expression which is the referencing table that this feature belongs to.
In our example, this would be the <code class="docutils literal notranslate"><span class="pre">referenced_layer</span></code> field.</p></li>
<li><p><strong>Layer expression</strong> evaluates to a unique identifier of the layer.
This can be the layer name <code class="docutils literal notranslate"><span class="pre">&#64;layer_name</span></code>, the layer id <code class="docutils literal notranslate"><span class="pre">&#64;layer_id</span></code>,
the layer’s table name <code class="docutils literal notranslate"><span class="pre">decode_uri(&#64;layer,</span> <span class="pre">'table')</span></code>
or anything that can uniquely identifies a layer.</p></li>
<li><p><strong>Relationship strength</strong> sets the strength of the generated relations between the parent and the child layer.
The default <span class="guilabel">Association</span> type means that the parent layer is <em>simply</em> linked to the child one
while the <span class="guilabel">Composition</span> type allows you to duplicate also the child features
when duplicating the parent ones and on deleting a feature the children are deleted as well,
resulting in cascade over all levels (means children of children of… are deleted as well).</p></li>
<li><p><strong>Referenced Layers</strong> also considered as parent layers, are those with the primary key,
pointed to, so here they would be <code class="docutils literal notranslate"><span class="pre">plants</span></code> and <code class="docutils literal notranslate"><span class="pre">animals</span></code> layers.
You need to define the primary key of the referenced layers from the dropdown, so it is <code class="docutils literal notranslate"><span class="pre">fid</span></code>.
Note that the definition of a valid primary key requires all the referenced layers
to have a field with that name.
If there is no such field you cannot save a polymorphic relation.</p></li>
</ul>
<p>Once added, the polymorphic relation can be edited
via the <span class="guilabel">Edit Polymorphic Relation</span> menu entry.</p>
<figure class="align-center" id="id13">
<span id="figure-list-polymorphic-relations"></span><img alt="../../../_images/polymorphic_relations.png" src="../../../_images/polymorphic_relations.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.113 </span><span class="caption-text">Preview of the newly created polymorphic relation and its child relations for animals and plants.</span><a class="headerlink" href="#id13" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The example above uses the following database schema:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">SCHEMA</span><span class="w"> </span><span class="n">park</span><span class="p">;</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">park</span><span class="p">.</span><span class="n">animals</span>
<span class="p">(</span>
<span class="w">   </span><span class="n">fid</span><span class="w"> </span><span class="nb">serial</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">geom</span><span class="w"> </span><span class="n">geometry</span><span class="p">(</span><span class="n">Point</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">animal_species</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">animals_pkey</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">animals_geom_idx</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">park</span><span class="p">.</span><span class="n">animals</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="n">gist</span><span class="w"> </span><span class="p">(</span><span class="n">geom</span><span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">park</span><span class="p">.</span><span class="n">plants</span>
<span class="p">(</span>
<span class="w">   </span><span class="n">fid</span><span class="w"> </span><span class="nb">serial</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">geom</span><span class="w"> </span><span class="n">geometry</span><span class="p">(</span><span class="n">Point</span><span class="p">,</span><span class="w"> </span><span class="mi">4326</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">plant_species</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">plants_pkey</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="n">plants_geom_idx</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">park</span><span class="p">.</span><span class="n">plants</span><span class="w"> </span><span class="k">USING</span><span class="w"> </span><span class="n">gist</span><span class="w"> </span><span class="p">(</span><span class="n">geom</span><span class="p">);</span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">park</span><span class="p">.</span><span class="n">documents</span>
<span class="p">(</span>
<span class="w">   </span><span class="n">fid</span><span class="w"> </span><span class="nb">serial</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">referenced_layer</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">referenced_fk</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="n">image_filename</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">   </span><span class="k">CONSTRAINT</span><span class="w"> </span><span class="n">documents_pkey</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="p">(</span><span class="n">fid</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="editing_geometry_attributes.html" class="btn btn-neutral float-left" title="16.3. Editing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../working_with_raster/index.html" class="btn btn-neutral float-right" title="17. Working with Raster Data" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">Last updated on 2024 May 30, 01:27 +0900.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/working_with_vector/joins_relations.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/user_manual/working_with_vector/joins_relations.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/user_manual/working_with_vector/joins_relations.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/user_manual/working_with_vector/joins_relations.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/user_manual/working_with_vector/joins_relations.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/user_manual/working_with_vector/joins_relations.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/user_manual/working_with_vector/joins_relations.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/user_manual/working_with_vector/joins_relations.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/user_manual/working_with_vector/joins_relations.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/user_manual/working_with_vector/joins_relations.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/user_manual/working_with_vector/joins_relations.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/user_manual/working_with_vector/joins_relations.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/user_manual/working_with_vector/joins_relations.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/user_manual/working_with_vector/joins_relations.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/user_manual/working_with_vector/joins_relations.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/user_manual/working_with_vector/joins_relations.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/joins_relations.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/en/docs/user_manual/working_with_vector/joins_relations.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/user_manual/working_with_vector/joins_relations.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/en/docs/user_manual/working_with_vector/joins_relations.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/en/docs/user_manual/working_with_vector/joins_relations.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/en/docs/user_manual/working_with_vector/joins_relations.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/en/docs/user_manual/working_with_vector/joins_relations.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/en/docs/user_manual/working_with_vector/joins_relations.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/en/docs/user_manual/working_with_vector/joins_relations.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/user_manual/working_with_vector/joins_relations.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#en/5d6b191b84ec7de4b49e1b6b982f48fe" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/en" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>