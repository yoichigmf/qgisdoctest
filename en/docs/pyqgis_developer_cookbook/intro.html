<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1. Introduction &mdash; QGIS Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/intro.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=888ff710"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2. Loading Projects" href="loadproject.html" />
    <link rel="prev" title="PyQGIS Developer Cookbook" href="index.html" />
  <meta name="description" content="QGIS 3.34 documentation: 1. Introduction">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user_manual/index.html">QGIS Desktop User Guide/Manual (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server_manual/index.html">QGIS Server Guide/Manual (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../training_manual/index.html">Training Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gentle_gis_introduction/index.html">A Gentle Introduction to GIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Writers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../documentation_guidelines/index.html">Documentation Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">PyQGIS Cookbook (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scripting-in-the-python-console">1.1. Scripting in the Python Console</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-plugins">1.2. Python Plugins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#processing-plugins">1.2.1. Processing Plugins</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-python-code-when-qgis-starts">1.3. Running Python code when QGIS starts</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#the-startup-py-file">1.3.1. The <code class="file docutils literal notranslate"><span class="pre">startup.py</span></code> file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-pyqgis-startup-environment-variable">1.3.2. The PYQGIS_STARTUP environment variable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-code-parameter">1.3.3. The <code class="docutils literal notranslate"><span class="pre">--code</span></code> parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-arguments-for-python">1.3.4. Additional arguments for Python</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#python-applications">1.4. Python Applications</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-pyqgis-in-standalone-scripts">1.4.1. Using PyQGIS in standalone scripts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-pyqgis-in-custom-applications">1.4.2. Using PyQGIS in custom applications</a></li>
<li class="toctree-l4"><a class="reference internal" href="#running-custom-applications">1.4.3. Running Custom Applications</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#technical-notes-on-pyqt-and-sip">1.5. Technical notes on PyQt and SIP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="loadproject.html">2. Loading Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="loadlayer.html">3. Loading Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="legend.html">4. Accessing the Table Of Contents (TOC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="raster.html">5. Using Raster Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="vector.html">6. Using Vector Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="geometry.html">7. Geometry Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="crs.html">8. Projections Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="canvas.html">9. Using the Map Canvas</a></li>
<li class="toctree-l2"><a class="reference internal" href="composer.html">10. Map Rendering and Printing</a></li>
<li class="toctree-l2"><a class="reference internal" href="expressions.html">11. Expressions, Filtering and Calculating Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="settings.html">12. Reading And Storing Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="communicating.html">13. Communicating with the user</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication.html">14. Authentication infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks.html">15. Tasks - doing heavy work in the background</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins/index.html">16. Developing Python Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="processing.html">17. Writing a Processing plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="pluginlayer.html">18. Using Plugin Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="network_analysis.html">19. Network analysis library</a></li>
<li class="toctree-l2"><a class="reference internal" href="server.html">20. QGIS Server and Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="cheat_sheet.html">21. Cheat sheet for PyQGIS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developers_guide/index.html">Developers Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">PyQGIS Developer Cookbook</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1. </span>Introduction</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/pyqgis_developer_cookbook/intro.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="index.html" class="btn btn-neutral float-left" title="PyQGIS Developer Cookbook" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="loadproject.html" class="btn btn-neutral float-right" title="2. Loading Projects" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div></div></blockquote>
<section id="introduction">
<span id="id1"></span><h1><span class="section-number">1. </span>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h1>
<p>This document is intended to be both a tutorial and a reference
guide. While it does not list all possible use cases, it should
give a good overview of the principal functionality.</p>
<p>Permission is granted to copy, distribute and/or modify this document under the
terms of the GNU Free Documentation License, Version 1.3 or any later version
published by the Free Software Foundation; with no Invariant Sections, no
Front-Cover Texts, and no Back-Cover Texts.</p>
<p>A copy of the license is included in the section <a class="reference internal" href="../gentle_gis_introduction/gnu_free_documentation_license.html#gnu-fdl"><span class="std std-ref">GNU Free Documentation License</span></a>.</p>
<p>This license also applies to all code snippets in this document.</p>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#scripting-in-the-python-console" id="id4">Scripting in the Python Console</a></p></li>
<li><p><a class="reference internal" href="#python-plugins" id="id5">Python Plugins</a></p>
<ul>
<li><p><a class="reference internal" href="#processing-plugins" id="id6">Processing Plugins</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#running-python-code-when-qgis-starts" id="id7">Running Python code when QGIS starts</a></p>
<ul>
<li><p><a class="reference internal" href="#the-startup-py-file" id="id8">The <code class="file docutils literal notranslate"><span class="pre">startup.py</span></code> file</a></p></li>
<li><p><a class="reference internal" href="#the-pyqgis-startup-environment-variable" id="id9">The PYQGIS_STARTUP environment variable</a></p></li>
<li><p><a class="reference internal" href="#the-code-parameter" id="id10">The <code class="docutils literal notranslate"><span class="pre">--code</span></code> parameter</a></p></li>
<li><p><a class="reference internal" href="#additional-arguments-for-python" id="id11">Additional arguments for Python</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#python-applications" id="id12">Python Applications</a></p>
<ul>
<li><p><a class="reference internal" href="#using-pyqgis-in-standalone-scripts" id="id13">Using PyQGIS in standalone scripts</a></p></li>
<li><p><a class="reference internal" href="#using-pyqgis-in-custom-applications" id="id14">Using PyQGIS in custom applications</a></p></li>
<li><p><a class="reference internal" href="#running-custom-applications" id="id15">Running Custom Applications</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#technical-notes-on-pyqt-and-sip" id="id16">Technical notes on PyQt and SIP</a></p></li>
</ul>
</nav>
<p>Python support was first introduced in QGIS 0.9.
There are several ways to use Python in QGIS Desktop
(covered in the following sections):</p>
<ul class="simple">
<li><p>Issue commands in the Python console within QGIS</p></li>
<li><p>Create and use plugins</p></li>
<li><p>Automatically run Python code when QGIS starts</p></li>
<li><p>Create processing algorithms</p></li>
<li><p>Create functions for expressions in QGIS</p></li>
<li><p>Create custom applications based on the QGIS API</p></li>
</ul>
<p>Python bindings are also available for QGIS Server, including
Python plugins (see <a class="reference internal" href="server.html#server-plugins"><span class="std std-ref">QGIS Server and Python</span></a>)
and Python bindings that can be used to embed QGIS Server into a
Python application.</p>
<p id="index-0">There is a <a class="reference external" href="https://api.qgis.org/api/3.34/">complete QGIS C++ API</a> reference that
documents the classes from the QGIS libraries. <a class="reference external" href="https://qgis.org/pyqgis/3.34/">The Pythonic QGIS API
(pyqgis)</a> is nearly identical to the C++ API.</p>
<p>Another good resource for learning how to perform common tasks is to
download existing plugins from the
<a class="reference external" href="https://plugins.qgis.org/">plugin repository</a> and examine their
code.</p>
<section id="scripting-in-the-python-console">
<span id="pythonconsole"></span><span id="index-1"></span><h2><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">1.1. </span>Scripting in the Python Console</a><a class="headerlink" href="#scripting-in-the-python-console" title="Link to this heading"></a></h2>
<p>QGIS provides an integrated <a class="reference internal" href="../user_manual/plugins/python_console.html#console"><span class="std std-ref">Python console</span></a> for scripting.
It can be opened from the <span class="menuselection">Plugins ► Python Console</span> menu:</p>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../../_images/console.png"><img alt="../../_images/console.png" src="../../_images/console.png" style="width: 40em;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 1.4 </span><span class="caption-text">QGIS Python console</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The screenshot above illustrates how to get the layer currently
selected in the layer list, show its ID and optionally, if it is a
vector layer, show the feature count.
For interaction with the QGIS environment, there is an <code class="xref py py-data docutils literal notranslate"><span class="pre">iface</span></code>
variable, which is an instance of
<a class="reference external" href="https://qgis.org/pyqgis/3.34/gui/QgisInterface.html#qgis.gui.QgisInterface" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgisInterface</span></code></a>.
This interface allows access to the map canvas, menus, toolbars and
other parts of the QGIS application.</p>
<p>For user convenience, the following statements are executed
when the console is started (in the future it will be possible to set
further initial commands)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">qgis.core</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">qgis.utils</span>
</pre></div>
</div>
<p>For those which use the console often, it may be useful to set a
shortcut for triggering the console (within
<span class="menuselection">Settings ► Keyboard shortcuts…</span>)</p>
</section>
<section id="python-plugins">
<span id="index-2"></span><h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">1.2. </span>Python Plugins</a><a class="headerlink" href="#python-plugins" title="Link to this heading"></a></h2>
<p>The functionality of QGIS can be extended using plugins.
Plugins can be written in Python.
The main advantage over C++ plugins is simplicity of
distribution (no compiling for each platform) and easier
development.</p>
<p>Many plugins covering various functionality have been written since
the introduction of Python support. The plugin installer allows users
to easily fetch, upgrade and remove Python plugins.
See the <a class="reference external" href="https://plugins.qgis.org/">Python Plugins</a> page for more
information about plugins and plugin development.</p>
<p>Creating plugins in Python is simple, see <a class="reference internal" href="plugins/index.html#developing-plugins"><span class="std std-ref">Developing Python Plugins</span></a>
for detailed instructions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Python plugins are also available for QGIS server.
See <a class="reference internal" href="server.html#server-plugins"><span class="std std-ref">QGIS Server and Python</span></a> for further details.</p>
</div>
<section id="processing-plugins">
<h3><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">1.2.1. </span>Processing Plugins</a><a class="headerlink" href="#processing-plugins" title="Link to this heading"></a></h3>
<p>Processing Plugins can be used to process data. They are easier to develop,
more specific and more lightweight than Python Plugins. <a class="reference internal" href="processing.html#processing-plugin"><span class="std std-ref">Writing a Processing plugin</span></a>
explains when the use of Processing algorithms is appropiate and how to develop
them.</p>
</section>
</section>
<section id="running-python-code-when-qgis-starts">
<span id="index-3"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">1.3. </span>Running Python code when QGIS starts</a><a class="headerlink" href="#running-python-code-when-qgis-starts" title="Link to this heading"></a></h2>
<p>There are different methods to run Python code every time QGIS
starts.</p>
<ol class="arabic simple">
<li><p>Creating a startup.py script</p></li>
<li><p>Setting the <code class="docutils literal notranslate"><span class="pre">PYQGIS_STARTUP</span></code> environment variable to an
existing Python file</p></li>
<li><p>Specifying a startup script using the <code class="docutils literal notranslate"><span class="pre">--code</span> <span class="pre">init_qgis.py</span></code>
parameter.</p></li>
</ol>
<section id="the-startup-py-file">
<h3><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">1.3.1. </span>The <code class="file docutils literal notranslate"><span class="pre">startup.py</span></code> file</a><a class="headerlink" href="#the-startup-py-file" title="Link to this heading"></a></h3>
<p>Every time QGIS starts, the user’s Python home directory and a list
of system paths are searched for a file named <code class="file docutils literal notranslate"><span class="pre">startup.py</span></code>. If that file exists, it
is executed by the embedded Python interpreter.</p>
<p>The path in the user’s home directory usually is found under:</p>
<ul class="simple">
<li><p>Linux: <code class="file docutils literal notranslate"><span class="pre">.local/share/QGIS/QGIS3</span></code></p></li>
<li><p>Windows: <code class="file docutils literal notranslate"><span class="pre">AppData\Roaming\QGIS\QGIS3</span></code></p></li>
<li><p>macOS: <code class="file docutils literal notranslate"><span class="pre">Library/Application</span> <span class="pre">Support/QGIS/QGIS3</span></code></p></li>
</ul>
<p>The default system paths depend on the operating system. To find the
paths that work for you, open the Python Console and run
<code class="docutils literal notranslate"><span class="pre">QStandardPaths.standardLocations(QStandardPaths.AppDataLocation)</span></code>
to see the list of default directories.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">startup.py</span></code> script is executed immediately upon initializing
python in QGIS, early on in the start of the application.</p>
</section>
<section id="the-pyqgis-startup-environment-variable">
<span id="index-4"></span><h3><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">1.3.2. </span>The PYQGIS_STARTUP environment variable</a><a class="headerlink" href="#the-pyqgis-startup-environment-variable" title="Link to this heading"></a></h3>
<p>You can run Python code just before QGIS initialization completes by
setting the <code class="docutils literal notranslate"><span class="pre">PYQGIS_STARTUP</span></code> environment variable to the path of an
existing Python file.</p>
<p>This code will run before QGIS initialization is complete.
This method is very useful for cleaning
sys.path, which may have undesireable paths, or for isolating/loading
the initial environment without requiring a virtual environment, e.g.
homebrew or MacPorts installs on Mac.</p>
</section>
<section id="the-code-parameter">
<span id="index-5"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">1.3.3. </span>The <code class="docutils literal notranslate"><span class="pre">--code</span></code> parameter</a><a class="headerlink" href="#the-code-parameter" title="Link to this heading"></a></h3>
<p>You can provide custom code to execute as startup parameter
to QGIS. To do so, create a python file, for example <code class="docutils literal notranslate"><span class="pre">qgis_init.py</span></code>, to execute and
start QGIS from the command line using <code class="docutils literal notranslate"><span class="pre">qgis</span> <span class="pre">--code</span> <span class="pre">qgis_init.py</span></code>.</p>
<p>Code provided via <code class="docutils literal notranslate"><span class="pre">--code</span></code> is executed late in the QGIS initialization
phase, after the application components have been loaded.</p>
</section>
<section id="additional-arguments-for-python">
<h3><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">1.3.4. </span>Additional arguments for Python</a><a class="headerlink" href="#additional-arguments-for-python" title="Link to this heading"></a></h3>
<p>To provide additional arguments for your <code class="docutils literal notranslate"><span class="pre">--code</span></code> script or for
other python code that is executed, you can use the <code class="docutils literal notranslate"><span class="pre">--py-args</span></code>
argument. Any argument coming after <code class="docutils literal notranslate"><span class="pre">--py-args</span></code> and before a
<code class="docutils literal notranslate"><span class="pre">--</span></code> arg (if present) will be passed to Python but ignored by
the QGIS application itself.</p>
<p>In the following example, <code class="docutils literal notranslate"><span class="pre">myfile.tif</span></code> will be available via
<code class="docutils literal notranslate"><span class="pre">sys.argv</span></code> in Python but will not be loaded by QGIS. Whereas
<code class="docutils literal notranslate"><span class="pre">otherfile.tif</span></code> will be loaded by QGIS but is not present in
<code class="docutils literal notranslate"><span class="pre">sys.argv</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>qgis<span class="w"> </span>--code<span class="w"> </span>qgis_init.py<span class="w"> </span>--py-args<span class="w"> </span>myfile.tif<span class="w"> </span>--<span class="w"> </span>otherfile.tif
</pre></div>
</div>
<p>If you want access to every command line parameter from within
Python, you can use <code class="docutils literal notranslate"><span class="pre">QCoreApplication.arguments()</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">QgsApplication</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">arguments</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<section id="python-applications">
<span id="pythonapplications"></span><h2><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">1.4. </span>Python Applications</a><a class="headerlink" href="#python-applications" title="Link to this heading"></a></h2>
<p>It is often handy to create  scripts for automating processes.
With PyQGIS, this is perfectly possible — import
the <a class="reference external" href="https://qgis.org/pyqgis/3.34/core">qgis.core</a> module, initialize it and you are ready for the
processing.</p>
<p>Or you may want to create an interactive application that uses
GIS functionality — perform measurements, export a map as PDF, …
The <a class="reference external" href="https://qgis.org/pyqgis/3.34/gui">qgis.gui</a> module provides various GUI
components, most notably the map canvas widget that can be
incorporated into the application with support for zooming, panning
and/or any further custom map tools.</p>
<p>PyQGIS custom applications or standalone scripts must be configured to
locate the QGIS resources, such as projection information and providers
for reading vector and raster layers. QGIS Resources are
initialized by adding a few lines to the beginning of your application
or script. The code to initialize QGIS for custom applications and
standalone scripts is similar. Examples of each are provided
below.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Do <em>not</em> use <code class="file docutils literal notranslate"><span class="pre">qgis.py</span></code> as a name for your script.
Python will not be able to import the bindings as the script’s
name will shadow them.</p>
</div>
<section id="using-pyqgis-in-standalone-scripts">
<span id="standalonescript"></span><h3><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">1.4.1. </span>Using PyQGIS in standalone scripts</a><a class="headerlink" href="#using-pyqgis-in-standalone-scripts" title="Link to this heading"></a></h3>
<p>To start a standalone script, initialize the QGIS resources at the
beginning of the script:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">qgis.core</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="c1"># Supply path to qgis install location</span>
<span class="linenos"> 4</span><span class="n">QgsApplication</span><span class="o">.</span><span class="n">setPrefixPath</span><span class="p">(</span><span class="s2">&quot;/path/to/qgis/installation&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c1"># Create a reference to the QgsApplication.  Setting the</span>
<span class="linenos"> 7</span><span class="c1"># second argument to False disables the GUI.</span>
<span class="linenos"> 8</span><span class="n">qgs</span> <span class="o">=</span> <span class="n">QgsApplication</span><span class="p">([],</span> <span class="kc">False</span><span class="p">)</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="c1"># Load providers</span>
<span class="linenos">11</span><span class="n">qgs</span><span class="o">.</span><span class="n">initQgis</span><span class="p">()</span>
<span class="linenos">12</span>
<span class="linenos">13</span><span class="c1"># Write your code here to load some layers, use processing</span>
<span class="linenos">14</span><span class="c1"># algorithms, etc.</span>
<span class="linenos">15</span>
<span class="linenos">16</span><span class="c1"># Finally, exitQgis() is called to remove the</span>
<span class="linenos">17</span><span class="c1"># provider and layer registries from memory</span>
<span class="linenos">18</span><span class="n">qgs</span><span class="o">.</span><span class="n">exitQgis</span><span class="p">()</span>
</pre></div>
</div>
<p>First we import the <a class="reference external" href="https://qgis.org/pyqgis/3.34/core">qgis.core</a> module and configure
the prefix path. The prefix path is the location where QGIS is
installed on your system. It is configured in the script by calling
the <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsApplication.html#qgis.core.QgsApplication.setPrefixPath" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setPrefixPath()</span></code></a> method.
The second argument of
<a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsApplication.html#qgis.core.QgsApplication.setPrefixPath" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">setPrefixPath()</span></code></a>
is set to <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code>, specifying that default paths are to be
used.</p>
<p>The QGIS install path varies by platform; the easiest way to find it
for your system is to use the <a class="reference internal" href="#pythonconsole"><span class="std std-ref">Scripting in the Python Console</span></a> from within
QGIS and look at the output from running:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">QgsApplication</span><span class="o">.</span><span class="n">prefixPath</span><span class="p">()</span>
</pre></div>
</div>
<p>After the prefix path is configured, we save a reference to
<a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsApplication.html#qgis.core.QgsApplication" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsApplication</span></code></a> in the variable <code class="docutils literal notranslate"><span class="pre">qgs</span></code>.
The second argument is set to <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>, specifying that we do not plan
to use the GUI since we are writing a standalone script. With <code class="docutils literal notranslate"><span class="pre">QgsApplication</span></code>
configured, we load the QGIS data providers and layer registry by
calling the <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsApplication.html#qgis.core.QgsApplication.initQgis" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initQgis()</span></code></a> method.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">qgs</span><span class="o">.</span><span class="n">initQgis</span><span class="p">()</span>
</pre></div>
</div>
<p>With QGIS initialized, we are ready to write the rest of the script.
Finally, we wrap up by calling <a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsApplication.html#qgis.core.QgsApplication.exitQgis" title="(in QGIS Python API v3.34)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">exitQgis()</span></code></a>
to remove the data providers and layer registry from memory.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">qgs</span><span class="o">.</span><span class="n">exitQgis</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="using-pyqgis-in-custom-applications">
<h3><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">1.4.2. </span>Using PyQGIS in custom applications</a><a class="headerlink" href="#using-pyqgis-in-custom-applications" title="Link to this heading"></a></h3>
<p>The only difference between <a class="reference internal" href="#standalonescript"><span class="std std-ref">Using PyQGIS in standalone scripts</span></a> and a custom PyQGIS
application is the second argument when instantiating the
<a class="reference external" href="https://qgis.org/pyqgis/3.34/core/QgsApplication.html#qgis.core.QgsApplication" title="(in QGIS Python API v3.34)"><code class="xref py py-class docutils literal notranslate"><span class="pre">QgsApplication</span></code></a>.
Pass <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> instead of <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code> to indicate that we plan to
use a GUI.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="kn">from</span> <span class="nn">qgis.core</span> <span class="kn">import</span> <span class="o">*</span>
<span class="linenos"> 2</span>
<span class="linenos"> 3</span><span class="c1"># Supply the path to the qgis install location</span>
<span class="linenos"> 4</span><span class="n">QgsApplication</span><span class="o">.</span><span class="n">setPrefixPath</span><span class="p">(</span><span class="s2">&quot;/path/to/qgis/installation&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos"> 5</span>
<span class="linenos"> 6</span><span class="c1"># Create a reference to the QgsApplication.</span>
<span class="linenos"> 7</span><span class="c1"># Setting the second argument to True enables the GUI.  We need</span>
<span class="linenos"> 8</span><span class="c1"># this since this is a custom application.</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="n">qgs</span> <span class="o">=</span> <span class="n">QgsApplication</span><span class="p">([],</span> <span class="kc">True</span><span class="p">)</span>
<span class="linenos">11</span>
<span class="linenos">12</span><span class="c1"># load providers</span>
<span class="linenos">13</span><span class="n">qgs</span><span class="o">.</span><span class="n">initQgis</span><span class="p">()</span>
<span class="linenos">14</span>
<span class="linenos">15</span><span class="c1"># Write your code here to load some layers, use processing</span>
<span class="linenos">16</span><span class="c1"># algorithms, etc.</span>
<span class="linenos">17</span>
<span class="linenos">18</span><span class="c1"># Finally, exitQgis() is called to remove the</span>
<span class="linenos">19</span><span class="c1"># provider and layer registries from memory</span>
<span class="linenos">20</span><span class="n">qgs</span><span class="o">.</span><span class="n">exitQgis</span><span class="p">()</span>
</pre></div>
</div>
<p>Now you can work with the QGIS API - load layers and do some processing or fire
up a GUI with a map canvas. The possibilities are endless :-)</p>
</section>
<section id="running-custom-applications">
<span id="index-6"></span><h3><a class="toc-backref" href="#id15" role="doc-backlink"><span class="section-number">1.4.3. </span>Running Custom Applications</a><a class="headerlink" href="#running-custom-applications" title="Link to this heading"></a></h3>
<p>You need to tell your system where to search for QGIS libraries and
appropriate Python modules if they are not in a well-known location -
otherwise Python will complain:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">qgis.core</span>
<span class="go">ImportError: No module named qgis.core</span>
</pre></div>
</div>
<p>This can be fixed by setting the <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variable. In
the following commands, <code class="docutils literal notranslate"><span class="pre">&lt;qgispath&gt;</span></code> should be replaced with your actual
QGIS installation path:</p>
<ul class="simple">
<li><p>on Linux: <strong class="command">export PYTHONPATH=/&lt;qgispath&gt;/share/qgis/python</strong></p></li>
<li><p>on Windows: <strong class="command">set PYTHONPATH=c:\&lt;qgispath&gt;\python</strong></p></li>
<li><p>on macOS: <strong class="command">export PYTHONPATH=/&lt;qgispath&gt;/Contents/Resources/python</strong></p></li>
</ul>
<p>Now, the path to the PyQGIS modules is known, but they depend on
the <code class="docutils literal notranslate"><span class="pre">qgis_core</span></code> and <code class="docutils literal notranslate"><span class="pre">qgis_gui</span></code> libraries (the Python modules serve
only as wrappers). The path to these libraries may be unknown to the
operating system, and then you will get an import error again (the message
might vary depending on the system):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">qgis.core</span>
<span class="go">ImportError: libqgis_core.so.3.2.0: cannot open shared object file:</span>
<span class="go">  No such file or directory</span>
</pre></div>
</div>
<p>Fix this by adding the directories where the QGIS libraries reside to
the search path of the dynamic linker:</p>
<ul class="simple">
<li><p>on Linux: <strong class="command">export LD_LIBRARY_PATH=/&lt;qgispath&gt;/lib</strong></p></li>
<li><p>on Windows: <strong class="command">set PATH=C:\&lt;qgispath&gt;\bin;C:\&lt;qgispath&gt;\apps\&lt;qgisrelease&gt;\bin;%PATH%</strong>
where <code class="docutils literal notranslate"><span class="pre">&lt;qgisrelease&gt;</span></code> should be replaced with the type of release
you are targeting (eg, <code class="docutils literal notranslate"><span class="pre">qgis-ltr</span></code>, <code class="docutils literal notranslate"><span class="pre">qgis</span></code>, <code class="docutils literal notranslate"><span class="pre">qgis-dev</span></code>)</p></li>
</ul>
<p>These commands can be put into a bootstrap script that will take care of
the startup. When deploying custom applications using PyQGIS, there are
usually two possibilities:</p>
<ul class="simple">
<li><p>require the user to install QGIS prior to installing your
application. The application installer should look for default locations
of QGIS libraries and allow the user to set the path if not found. This
approach has the advantage of being simpler, however it requires the user
to do more steps.</p></li>
<li><p>package QGIS together with your application. Releasing the application
may be more challenging and the package will be larger, but the user will
be saved from the burden of downloading and installing additional pieces
of software.</p></li>
</ul>
<p>The two deployment models can be mixed.  You can provide a standalone
applications on Windows and macOS, but for Linux leave the installation of
GIS up to the user and his package manager.</p>
</section>
</section>
<section id="technical-notes-on-pyqt-and-sip">
<h2><a class="toc-backref" href="#id16" role="doc-backlink"><span class="section-number">1.5. </span>Technical notes on PyQt and SIP</a><a class="headerlink" href="#technical-notes-on-pyqt-and-sip" title="Link to this heading"></a></h2>
<p>We’ve decided for Python as it’s one of the most favoured languages for
scripting. PyQGIS bindings in QGIS 3 depend on SIP and PyQt5.
The reason for using SIP instead of the more widely used SWIG is that the
QGIS code depends on Qt libraries. Python bindings for Qt (PyQt) are
done using SIP and this allows seamless integration of PyQGIS with
PyQt.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="PyQGIS Developer Cookbook" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="loadproject.html" class="btn btn-neutral float-right" title="2. Loading Projects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">Last updated on 2024 May 30, 01:27 +0900.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/pyqgis_developer_cookbook/intro.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/pyqgis_developer_cookbook/intro.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/pyqgis_developer_cookbook/intro.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/pyqgis_developer_cookbook/intro.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/pyqgis_developer_cookbook/intro.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/pyqgis_developer_cookbook/intro.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/pyqgis_developer_cookbook/intro.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/pyqgis_developer_cookbook/intro.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/pyqgis_developer_cookbook/intro.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/pyqgis_developer_cookbook/intro.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/pyqgis_developer_cookbook/intro.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/pyqgis_developer_cookbook/intro.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/pyqgis_developer_cookbook/intro.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/pyqgis_developer_cookbook/intro.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/pyqgis_developer_cookbook/intro.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/pyqgis_developer_cookbook/intro.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/intro.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/intro.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/pyqgis_developer_cookbook/intro.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/en/docs/pyqgis_developer_cookbook/intro.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/en/docs/pyqgis_developer_cookbook/intro.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/en/docs/pyqgis_developer_cookbook/intro.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/en/docs/pyqgis_developer_cookbook/intro.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/en/docs/pyqgis_developer_cookbook/intro.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/en/docs/pyqgis_developer_cookbook/intro.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/pyqgis_developer_cookbook/intro.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#en/289de1b4c2ec3176cf131a2f2231be67" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/en" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>