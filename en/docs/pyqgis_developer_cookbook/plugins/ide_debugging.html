<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>16.3. IDE settings for writing and debugging plugins &mdash; QGIS Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="16.4. Releasing your plugin" href="releasing.html" />
    <link rel="prev" title="16.2. Code Snippets" href="snippets.html" />
  <meta name="description" content="QGIS 3.34 documentation: 16.3. IDE settings for writing and debugging plugins">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user_manual/index.html">QGIS Desktop User Guide/Manual (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server_manual/index.html">QGIS Server Guide/Manual (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../training_manual/index.html">Training Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gentle_gis_introduction/index.html">A Gentle Introduction to GIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Writers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_guidelines/index.html">Documentation Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">PyQGIS Cookbook (QGIS 3.34)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../intro.html">1. Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../loadproject.html">2. Loading Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../loadlayer.html">3. Loading Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../legend.html">4. Accessing the Table Of Contents (TOC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../raster.html">5. Using Raster Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector.html">6. Using Vector Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../geometry.html">7. Geometry Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../crs.html">8. Projections Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../canvas.html">9. Using the Map Canvas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../composer.html">10. Map Rendering and Printing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../expressions.html">11. Expressions, Filtering and Calculating Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings.html">12. Reading And Storing Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../communicating.html">13. Communicating with the user</a></li>
<li class="toctree-l2"><a class="reference internal" href="../authentication.html">14. Authentication infrastructure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tasks.html">15. Tasks - doing heavy work in the background</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">16. Developing Python Plugins</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="plugins.html">16.1. Structuring Python Plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="snippets.html">16.2. Code Snippets</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">16.3. IDE settings for writing and debugging plugins</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#useful-plugins-for-writing-python-plugins">16.3.1. Useful plugins for writing Python plugins</a></li>
<li class="toctree-l4"><a class="reference internal" href="#a-note-on-configuring-your-ide-on-linux-and-windows">16.3.2. A note on configuring your IDE on Linux and Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugging-using-pyscripter-ide-windows">16.3.3. Debugging using Pyscripter IDE (Windows)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugging-using-eclipse-and-pydev">16.3.4. Debugging using Eclipse and PyDev</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugging-with-pycharm-on-ubuntu-with-a-compiled-qgis">16.3.5. Debugging with PyCharm on Ubuntu with a compiled QGIS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugging-using-pdb">16.3.6. Debugging using PDB</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="releasing.html">16.4. Releasing your plugin</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../processing.html">17. Writing a Processing plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pluginlayer.html">18. Using Plugin Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network_analysis.html">19. Network analysis library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../server.html">20. QGIS Server and Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cheat_sheet.html">21. Cheat sheet for PyQGIS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/index.html">Developers Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">PyQGIS Developer Cookbook</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">16. </span>Developing Python Plugins</a></li>
      <li class="breadcrumb-item active"><span class="section-number">16.3. </span>IDE settings for writing and debugging plugins</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/pyqgis_developer_cookbook/plugins/ide_debugging.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="snippets.html" class="btn btn-neutral float-left" title="16.2. Code Snippets" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="releasing.html" class="btn btn-neutral float-right" title="16.4. Releasing your plugin" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div></div></blockquote>
<section id="index-0">
<span id="ide-settings-for-writing-and-debugging-plugins"></span><h1><span class="section-number">16.3. </span>IDE settings for writing and debugging plugins<a class="headerlink" href="#index-0" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#useful-plugins-for-writing-python-plugins" id="id5">Useful plugins for writing Python plugins</a></p></li>
<li><p><a class="reference internal" href="#a-note-on-configuring-your-ide-on-linux-and-windows" id="id6">A note on configuring your IDE on Linux and Windows</a></p></li>
<li><p><a class="reference internal" href="#debugging-using-pyscripter-ide-windows" id="id7">Debugging using Pyscripter IDE (Windows)</a></p></li>
<li><p><a class="reference internal" href="#debugging-using-eclipse-and-pydev" id="id8">Debugging using Eclipse and PyDev</a></p>
<ul>
<li><p><a class="reference internal" href="#installation" id="id9">Installation</a></p></li>
<li><p><a class="reference internal" href="#setting-up-eclipse" id="id10">Setting up Eclipse</a></p></li>
<li><p><a class="reference internal" href="#configuring-the-debugger" id="id11">Configuring the debugger</a></p></li>
<li><p><a class="reference internal" href="#making-eclipse-understand-the-api" id="id12">Making eclipse understand the API</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#debugging-with-pycharm-on-ubuntu-with-a-compiled-qgis" id="id13">Debugging with PyCharm on Ubuntu with a compiled QGIS</a></p></li>
<li><p><a class="reference internal" href="#debugging-using-pdb" id="id14">Debugging using PDB</a></p></li>
</ul>
</nav>
<p>Although each programmer has his preferred IDE/Text editor, here are some
recommendations for setting up popular IDE’s for writing and debugging QGIS
Python plugins.</p>
<section id="useful-plugins-for-writing-python-plugins">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">16.3.1. </span>Useful plugins for writing Python plugins</a><a class="headerlink" href="#useful-plugins-for-writing-python-plugins" title="Link to this heading"></a></h2>
<p>Some plugins are convenient when writing Python plugins.
From <span class="menuselection">Plugins ► Manage and Install plugins…</span>, install:</p>
<ul class="simple">
<li><p><em>Plugin reloader</em>: This will let you reload a plugin and pull new
changes without restarting QGIS.</p></li>
<li><p><em>First Aid</em>: This will add a Python console and local debugger
to inspect variables when an exception is raised from a plugin.</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Despite our constant efforts, information beyond this line may not be updated for QGIS 3.</p>
</div>
</section>
<section id="a-note-on-configuring-your-ide-on-linux-and-windows">
<h2><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">16.3.2. </span>A note on configuring your IDE on Linux and Windows</a><a class="headerlink" href="#a-note-on-configuring-your-ide-on-linux-and-windows" title="Link to this heading"></a></h2>
<p><strong>On Linux</strong>, all that usually needs to be done is to add the QGIS library locations
to the user’s <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variable. Under most distributions,
this can be done by editing <code class="file docutils literal notranslate"><span class="pre">~/.bashrc</span></code> or <code class="file docutils literal notranslate"><span class="pre">~/.bash-profile</span></code> with
the following line (tested on OpenSUSE Tumbleweed):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span><span class="w"> </span><span class="nv">PYTHONPATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$PYTHONPATH</span><span class="s2">:/usr/share/qgis/python/plugins:/usr/share/qgis/python&quot;</span>
</pre></div>
</div>
<p>Save the file and implement the environment settings by using the following
shell command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>~/.bashrc
</pre></div>
</div>
<p><strong>On Windows</strong>, you need to make sure that you have the same environment
settings and use the same libraries and interpreter as QGIS. The fastest
way to do this is to modify the startup batch file of QGIS.</p>
<p>If you used the OSGeo4W Installer, you can find this under the <code class="docutils literal notranslate"><span class="pre">bin</span></code> folder
of your OSGeo4W install. Look for something like
<code class="file docutils literal notranslate"><span class="pre">C:\OSGeo4W\bin\qgis-unstable.bat</span></code>.</p>
</section>
<section id="debugging-using-pyscripter-ide-windows">
<h2><a class="toc-backref" href="#id7" role="doc-backlink"><span class="section-number">16.3.3. </span>Debugging using Pyscripter IDE (Windows)</a><a class="headerlink" href="#debugging-using-pyscripter-ide-windows" title="Link to this heading"></a></h2>
<p>For using <a class="reference external" href="https://github.com/pyscripter/pyscripter">Pyscripter IDE</a>,
here’s what you have to do:</p>
<ol class="arabic">
<li><p>Make a copy of <code class="file docutils literal notranslate"><span class="pre">qgis-unstable.bat</span></code> and rename it <code class="docutils literal notranslate"><span class="pre">pyscripter.bat</span></code>.</p></li>
<li><p>Open it in an editor. And remove the last line, the one that starts QGIS.</p></li>
<li><p>Add a line that points to your Pyscripter executable and add the
command line argument that sets the version of Python to be used</p></li>
<li><p>Also add the argument that points to the folder where Pyscripter can
find the Python dll used by QGIS, you can find this under the bin folder
of your OSGeoW install</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="p">@</span><span class="k">echo</span> off
<span class="k">SET</span> <span class="nv">OSGEO4W_ROOT</span><span class="p">=</span>C:\OSGeo4W
<span class="k">call</span> <span class="s2">&quot;</span><span class="nv">%OSGEO4W_ROOT%</span><span class="s2">&quot;</span>\bin\o4w_env.bat
<span class="k">call</span> <span class="s2">&quot;</span><span class="nv">%OSGEO4W_ROOT%</span><span class="s2">&quot;</span>\bin\gdal16.bat
<span class="p">@</span><span class="k">echo</span> off
<span class="k">path</span> <span class="nv">%PATH%</span>;<span class="nv">%GISBASE%</span>\bin
<span class="k">Start</span> C:\pyscripter\pyscripter.exe --python25 --pythondllpath=C:\OSGeo4W\bin
</pre></div>
</div>
</li>
<li><p>Now when you double click this batch file it will start Pyscripter, with the
correct path.</p></li>
</ol>
<p>More popular than Pyscripter, Eclipse is a common choice among developers. In
the following section, we will be explaining how to configure it for
developing and testing plugins.</p>
</section>
<section id="debugging-using-eclipse-and-pydev">
<h2><a class="toc-backref" href="#id8" role="doc-backlink"><span class="section-number">16.3.4. </span>Debugging using Eclipse and PyDev</a><a class="headerlink" href="#debugging-using-eclipse-and-pydev" title="Link to this heading"></a></h2>
<section id="installation">
<h3><a class="toc-backref" href="#id9" role="doc-backlink"><span class="section-number">16.3.4.1. </span>Installation</a><a class="headerlink" href="#installation" title="Link to this heading"></a></h3>
<p>To use Eclipse, make sure you have installed the following</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.eclipse.org">Eclipse</a></p></li>
<li><p><a class="reference external" href="http://www.aptana.com">Aptana Studio 3 Plugin</a> or <a class="reference external" href="https://www.pydev.org">PyDev</a></p></li>
<li><p>QGIS 2.x</p></li>
<li><p>You may also want to install <strong>Remote Debug</strong>, a QGIS plugin. At the moment
it’s still experimental so enable <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Experimental plugins</span>
under <span class="menuselection">Plugins ► Manage and Install plugins… ► Options</span>
beforehand.</p></li>
</ul>
<p>To prepare your environment for using Eclipse in Windows,
you should also create a batch file and use it to start Eclipse:</p>
<ol class="arabic">
<li><p>Locate the folder where <code class="file docutils literal notranslate"><span class="pre">qgis_core.dll</span></code> resides in. Normally this is
<code class="file docutils literal notranslate"><span class="pre">C:\OSGeo4W\apps\qgis\bin</span></code>, but if you compiled your own QGIS
application this is in your build folder in <code class="file docutils literal notranslate"><span class="pre">output/bin/RelWithDebInfo</span></code></p></li>
<li><p>Locate your <code class="file docutils literal notranslate"><span class="pre">eclipse.exe</span></code> executable.</p></li>
<li><p>Create the following script and use this to start eclipse when developing
QGIS plugins.</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="k">call</span> <span class="s2">&quot;C:\OSGeo4W\bin\o4w_env.bat&quot;</span>
<span class="k">set</span> <span class="nv">PATH</span><span class="p">=</span><span class="nv">%PATH%</span>;C:\path\to\your\qgis_core.dll\parent\folder
<span class="k">start</span> /B C:\path\to\your\eclipse.exe
</pre></div>
</div>
</li>
</ol>
</section>
<section id="setting-up-eclipse">
<h3><a class="toc-backref" href="#id10" role="doc-backlink"><span class="section-number">16.3.4.2. </span>Setting up Eclipse</a><a class="headerlink" href="#setting-up-eclipse" title="Link to this heading"></a></h3>
<ol class="arabic">
<li><p>In Eclipse, create a new project. You can select <em>General Project</em> and link
your real sources later on, so it does not really matter where you place
this project.</p>
<figure class="align-center" id="id1">
<img alt="../../../_images/eclipsenewproject.png" src="../../../_images/eclipsenewproject.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.114 </span><span class="caption-text">Eclipse project</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
<li><p>Right-click your new project and choose <span class="menuselection">New ► Folder</span>.</p></li>
<li><p>Click <span class="guilabel">Advanced</span> and choose <span class="guilabel">Link to alternate location
(Linked Folder)</span>. In case you already have sources you want to debug, choose
these. In case you don’t, create a folder as it was already explained.</p></li>
</ol>
<p>Now in the view <span class="guilabel">Project Explorer</span>, your source tree pops up and you
can start working with the code. You already have syntax highlighting and all
the other powerful IDE tools available.</p>
</section>
<section id="configuring-the-debugger">
<h3><a class="toc-backref" href="#id11" role="doc-backlink"><span class="section-number">16.3.4.3. </span>Configuring the debugger</a><a class="headerlink" href="#configuring-the-debugger" title="Link to this heading"></a></h3>
<p>To get the debugger working:</p>
<ol class="arabic simple">
<li><p>Switch to the Debug perspective in Eclipse
(<span class="menuselection">Window ► Open Perspective ► Other ► Debug</span>).</p></li>
<li><p>start the PyDev debug server by choosing <span class="menuselection">PyDev ► Start
Debug Server</span>.</p></li>
<li><p>Eclipse is now waiting for a connection from QGIS to its debug server and
when QGIS connects to the debug server it will allow it to control the python
scripts. That’s exactly what we installed the <em>Remote Debug</em> plugin for. So
start QGIS in case you did not already and click the bug symbol.</p></li>
</ol>
<p>Now you can set a breakpoint and as soon as the code hits it, execution will
stop and you can inspect the current state of your plugin. (The breakpoint is
the green dot in the image below, set one by double clicking in the white space
left to the line you want the breakpoint to be set).</p>
<figure class="align-center" id="id2">
<img alt="../../../_images/breakpoint.png" src="../../../_images/breakpoint.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.115 </span><span class="caption-text">Breakpoint</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>A very interesting thing you can make use of now is the debug console. Make
sure that the execution is currently stopped at a break point, before you
proceed.</p>
<ol class="arabic">
<li><p>Open the Console view (<span class="menuselection">Window ► Show view</span>).
It will show the <span class="guilabel">Debug Server</span> console which is not very
interesting. But there is a button <span class="guilabel">Open Console</span> which lets you
change to a more interesting PyDev Debug Console.</p></li>
<li><p>Click the arrow next to the <span class="guilabel">Open Console</span> button and choose
<em>PyDev Console</em>. A window opens up to ask you which console you want to start.</p></li>
<li><p>Choose <em>PyDev Debug Console</em>. In case its greyed out and tells you to Start
the debugger and select the valid frame, make sure that you’ve got the remote
debugger attached and are currently on a breakpoint.</p>
<figure class="align-center" id="id3">
<img alt="../../../_images/console-buttons.png" src="../../../_images/console-buttons.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.116 </span><span class="caption-text">PyDev Debug Console</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
<p>You have now an interactive console which lets you test any commands from
within the current context. You can manipulate variables or make API calls or
whatever you like.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>A little bit annoying is, that every time you enter a command, the
console switches back to the Debug Server. To stop this behavior, you can
click the <em>Pin Console</em> button when on the Debug Server page and it should
remember this decision at least for the current debug session.</p>
</div>
</section>
<section id="making-eclipse-understand-the-api">
<h3><a class="toc-backref" href="#id12" role="doc-backlink"><span class="section-number">16.3.4.4. </span>Making eclipse understand the API</a><a class="headerlink" href="#making-eclipse-understand-the-api" title="Link to this heading"></a></h3>
<p>A very handy feature is to have Eclipse actually know about the QGIS API. This
enables it to check your code for typos. But not only this, it also enables
Eclipse to help you with autocompletion from the imports to API calls.</p>
<p>To do this, Eclipse parses the QGIS library files and gets all the information
out there. The only thing you have to do is to tell Eclipse where to find the
libraries.</p>
<ol class="arabic">
<li><p>Click <span class="menuselection">Window ► Preferences ► PyDev ► Interpreter ►
Python</span>.</p>
<p>You will see your configured python interpreter in the upper part of the
window (at the moment python2.7 for QGIS) and some tabs in the lower part.
The interesting tabs for us are <em>Libraries</em> and <em>Forced Builtins</em>.</p>
<figure class="align-center" id="id4">
<img alt="../../../_images/interpreter-libraries.png" src="../../../_images/interpreter-libraries.png" />
<figcaption>
<p><span class="caption-number">Fig. 16.117 </span><span class="caption-text">PyDev Debug Console</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
<li><p>First open the Libraries tab.</p></li>
<li><p>Add a New Folder and choose the python folder of your QGIS installation.
If you do not know where this folder is (it’s not the plugins folder):</p>
<ol class="arabic simple">
<li><p>Open QGIS</p></li>
<li><p>Start a python console</p></li>
<li><p>Enter <code class="docutils literal notranslate"><span class="pre">qgis</span></code></p></li>
<li><p>and press Enter. It will show you which QGIS module it uses and its path.</p></li>
<li><p>Strip the trailing <code class="docutils literal notranslate"><span class="pre">/qgis/__init__.pyc</span></code> from this path and you’ve got
the path you are looking for.</p></li>
</ol>
</li>
<li><p>You should also add your plugins folder here (it is in <code class="file docutils literal notranslate"><span class="pre">python/plugins</span></code>
under the <a class="reference internal" href="../../user_manual/introduction/qgis_configuration.html#user-profiles"><span class="std std-ref">user profile</span></a> folder).</p></li>
<li><p>Next jump to the <em>Forced Builtins</em> tab, click on <em>New…</em> and enter <code class="docutils literal notranslate"><span class="pre">qgis</span></code>.
This will make Eclipse parse the QGIS API. You probably also want Eclipse to
know about the PyQt API. Therefore also add PyQt as forced builtin. That
should probably already be present in your libraries tab.</p></li>
<li><p>Click <span class="guilabel">OK</span> and you’re done.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Every time the QGIS API changes (e.g. if you’re compiling QGIS master and
the SIP file changed), you should go back to this page and simply click
<span class="guilabel">Apply</span>. This will let Eclipse parse all the libraries again.</p>
</div>
</section>
</section>
<section id="debugging-with-pycharm-on-ubuntu-with-a-compiled-qgis">
<h2><a class="toc-backref" href="#id13" role="doc-backlink"><span class="section-number">16.3.5. </span>Debugging with PyCharm on Ubuntu with a compiled QGIS</a><a class="headerlink" href="#debugging-with-pycharm-on-ubuntu-with-a-compiled-qgis" title="Link to this heading"></a></h2>
<p>PyCharm is an IDE for Python developed by JetBrains. There is a free version
called Community Edition and a paid one called Professional. You can download
PyCharm on the website: <a class="reference external" href="https://www.jetbrains.com/pycharm/download">https://www.jetbrains.com/pycharm/download</a></p>
<p>We are assuming that you have compiled QGIS on Ubuntu with the given
build directory <code class="file docutils literal notranslate"><span class="pre">~/dev/qgis/build/master</span></code>. It’s not compulsory to have
a self compiled QGIS, but only this has been tested. Paths must be adapted.</p>
<ol class="arabic simple">
<li><p>In PyCharm, in your <span class="guilabel">Project Properties</span>, <span class="guilabel">Project Interpreter</span>,
we are going to create a Python Virtual environment called <code class="docutils literal notranslate"><span class="pre">QGIS</span></code>.</p></li>
<li><p>Click the small gear and then <span class="guilabel">Add</span>.</p></li>
<li><p>Select <span class="guilabel">Virtualenv environment</span>.</p></li>
<li><p>Select a generic location for all your Python projects such as
<code class="file docutils literal notranslate"><span class="pre">~/dev/qgis/venv</span></code> because we will use this Python interpreter for all our plugins.</p></li>
<li><p>Choose a Python 3 base interpreter available on your system and check
the next two options <span class="guilabel">Inherit global site-packages</span>
and <span class="guilabel">Make available to all projects</span>.</p></li>
</ol>
<figure class="align-center">
<a class="reference internal image-reference" href="../../../_images/pycharm-add-venv.png"><img alt="../../../_images/pycharm-add-venv.png" src="../../../_images/pycharm-add-venv.png" style="width: 40em;" /></a>
</figure>
<ol class="arabic simple">
<li><p>Click <span class="guilabel">OK</span>, come back on the small gear and click <span class="guilabel">Show all</span>.</p></li>
<li><p>In the new window, select your new interpreter <code class="docutils literal notranslate"><span class="pre">QGIS</span></code> and click the last icon in
the vertical menu <span class="guilabel">Show paths for the selected interpreter.</span></p></li>
<li><p>Finally, add the following absolute path to the list
<code class="file docutils literal notranslate"><span class="pre">~/dev/qgis/build/master/output/python</span></code>.</p></li>
</ol>
<figure class="align-center">
<a class="reference internal image-reference" href="../../../_images/pycharm-adding-path.png"><img alt="../../../_images/pycharm-adding-path.png" src="../../../_images/pycharm-adding-path.png" style="width: 40em;" /></a>
</figure>
<ol class="arabic simple">
<li><p>Restart PyCharm and you can start using this new Python virtual environment
for all your plugins.</p></li>
</ol>
<p>PyCharm will be aware of the QGIS API and also of the PyQt API if you use Qt
provided by QGIS like <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">qgis.PyQt.QtCore</span> <span class="pre">import</span> <span class="pre">QDir</span></code>.
The autocompletion should work and PyCharm can inspect your code.</p>
<p>In the professional version of PyCharm, remote debugging is working well.
For the Community edition, remote debugging is not available. You can only have
access to a local debugger, meaning that the code must run <em>inside</em> PyCharm
(as script or unittest), not in QGIS itself. For Python code running <em>in</em> QGIS,
you might use the <em>First Aid</em> plugin mentioned above.</p>
</section>
<section id="debugging-using-pdb">
<h2><a class="toc-backref" href="#id14" role="doc-backlink"><span class="section-number">16.3.6. </span>Debugging using PDB</a><a class="headerlink" href="#debugging-using-pdb" title="Link to this heading"></a></h2>
<p>If you do not use an IDE such as Eclipse or PyCharm, you can debug using PDB,
following these steps.</p>
<ol class="arabic">
<li><p>First add this code in the spot where you would like to debug</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use pdb for debugging</span>
<span class="kn">import</span> <span class="nn">pdb</span>
<span class="c1"># also import pyqtRemoveInputHook</span>
<span class="kn">from</span> <span class="nn">qgis.PyQt.QtCore</span> <span class="kn">import</span> <span class="n">pyqtRemoveInputHook</span>
<span class="c1"># These lines allow you to set a breakpoint in the app</span>
<span class="n">pyqtRemoveInputHook</span><span class="p">()</span>
<span class="n">pdb</span><span class="o">.</span><span class="n">set_trace</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p>Then run QGIS from the command line.</p>
<p>On Linux do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>./Qgis
</pre></div>
</div>
<p>On macOS do:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>/Applications/Qgis.app/Contents/MacOS/Qgis
</pre></div>
</div>
</li>
<li><p>And when the application hits your breakpoint you can type in the console!</p></li>
</ol>
<dl class="simple" id="index-1">
<dt><strong>TODO:</strong></dt><dd><p>Add testing information</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="snippets.html" class="btn btn-neutral float-left" title="16.2. Code Snippets" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="releasing.html" class="btn btn-neutral float-right" title="16.4. Releasing your plugin" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">Last updated on 2024 May 30, 01:27 +0900.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/en/docs/pyqgis_developer_cookbook/plugins/ide_debugging.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/pyqgis_developer_cookbook/plugins/ide_debugging.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#en/f160aaf5e572c848c70009a2d5e53af7" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/en" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>