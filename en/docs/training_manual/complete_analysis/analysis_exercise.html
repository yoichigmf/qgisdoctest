<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>8.4. Lesson: Supplementary Exercise &mdash; QGIS Documentation  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/qgis_docs.css?v=5415a924" />
      <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="../../../_static/qgis_logo.ico"/>
    <link rel="canonical" href="https://docs.qgis.org/latest/en/docs/training_manual/complete_analysis/analysis_exercise.html"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../_static/copybutton.js?v=f281be69"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="9. Module: Plugins" href="../qgis_plugins/index.html" />
    <link rel="prev" title="8.3. Assignment" href="assignment.html" />
  <meta name="description" content="QGIS 3.34 documentation: 8.4. Lesson: Supplementary Exercise">
</head>

<body class="wy-body-for-nav">

  <nav class="release_status_topbar">
  </nav>

   

 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
   

          
          
          <a href="../../index.html" class="icon icon-home">
            QGIS Documentation
              <img src="../../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.34
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
   <a href= "../../../genindex.html">Index</a>
 
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For Users</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../user_manual/index.html">QGIS Desktop User Guide/Manual (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server_manual/index.html">QGIS Server Guide/Manual (QGIS 3.34)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Training Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../foreword/index.html">1. Course Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic_map/index.html">2. Module: Creating and Exploring a Basic Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_classification/index.html">3. Module: Classifying Vector Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../map_composer/index.html">4. Module: Laying out the Maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../create_vector_data/index.html">5. Module: Creating Vector Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vector_analysis/index.html">6. Module: Vector Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rasters/index.html">7. Module: Rasters</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">8. Module: Completing the Analysis</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="raster_to_vector.html">8.1. Lesson: Raster to Vector Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="analysis_combination.html">8.2. Lesson: Combining the Analyses</a></li>
<li class="toctree-l3"><a class="reference internal" href="assignment.html">8.3. Assignment</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">8.4. Lesson: Supplementary Exercise</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#problem-statement">8.4.1. Problem Statement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#solution-outline">8.4.2. Solution Outline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#follow-along-setting-up-the-map">8.4.3. Follow Along: Setting up the Map</a></li>
<li class="toctree-l4"><a class="reference internal" href="#loading-data-into-the-map">8.4.4. Loading Data into the Map</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-the-layer-order">8.4.5. Changing the layer order</a></li>
<li class="toctree-l4"><a class="reference internal" href="#find-the-correct-districts">8.4.6. Find the Correct Districts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clip-the-rasters">8.4.7. Clip the Rasters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-the-symbology-of-vector-layers">8.4.8. Changing the symbology of vector layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-the-symbology-of-raster-layers">8.4.9. Changing the symbology of raster layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#clean-up-the-map">8.4.10. Clean up the map</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-the-hillshade">8.4.11. Create the hillshade</a></li>
<li class="toctree-l4"><a class="reference internal" href="#slope">8.4.12. Slope</a></li>
<li class="toctree-l4"><a class="reference internal" href="#try-yourself-aspect">8.4.13. Try Yourself: Aspect</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reclassifying-rasters">8.4.14. Reclassifying rasters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#combining-rasters">8.4.15. Combining rasters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#finding-rural-areas">8.4.16. Finding rural areas</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-a-negative-buffer">8.4.17. Creating a negative buffer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vectorizing-the-raster">8.4.18. Vectorizing the raster</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fixing-geometry">8.4.19. Fixing geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="#determining-the-intersection-of-vectors">8.4.20. Determining the Intersection of vectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calculating-the-area-for-each-polygon">8.4.21. Calculating the area for each polygon</a></li>
<li class="toctree-l4"><a class="reference internal" href="#selecting-areas-of-a-given-size">8.4.22. Selecting areas of a given size</a></li>
<li class="toctree-l4"><a class="reference internal" href="#digitize-the-university-of-cape-town">8.4.23. Digitize the University of Cape Town</a></li>
<li class="toctree-l4"><a class="reference internal" href="#find-the-locations-that-are-closest-to-the-university-of-cape-town">8.4.24. Find the locations that are closest to the University of Cape Town</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../qgis_plugins/index.html">9. Module: Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../online_resources/index.html">10. Module: Online Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qgis_server/index.html">11. Module: QGIS Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grass/index.html">12. Module: GRASS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../assessment/index.html">13. Module: Assessment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../forestry/index.html">14. Module: Forestry Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database_concepts/index.html">15. Module: Database Concepts with PostgreSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spatial_databases/index.html">16. Module: Spatial Database Concepts with PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing/index.html">17. The QGIS processing guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../databases/index.html">18. Module: Using Spatial Databases in QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/contribute.html">19. Appendix: Contributing To This Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendix/preparing_data.html">20. Preparing Exercise Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../gentle_gis_introduction/index.html">A Gentle Introduction to GIS</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Writers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation_guidelines/index.html">Documentation Guidelines</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../pyqgis_developer_cookbook/index.html">PyQGIS Cookbook (QGIS 3.34)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developers_guide/index.html">Developers Guide</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">QGIS Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">QGIS Training Manual</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">8. </span>Module: Completing the Analysis</a></li>
      <li class="breadcrumb-item active"><span class="section-number">8.4. </span>Lesson: Supplementary Exercise</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/qgis/QGIS-Documentation/blob/master/docs/training_manual/complete_analysis/analysis_exercise.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="assignment.html" class="btn btn-neutral float-left" title="8.3. Assignment" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../qgis_plugins/index.html" class="btn btn-neutral float-right" title="9. Module: Plugins" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <blockquote>
<div></div></blockquote>
<section id="lesson-supplementary-exercise">
<h1><span class="section-number">8.4. </span>Lesson: Supplementary Exercise<a class="headerlink" href="#lesson-supplementary-exercise" title="Link to this heading"></a></h1>
<p>In this lesson, you will be guided through a complete GIS analysis in
QGIS.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Lesson developed by Linfiniti Consulting (South Africa) and
Siddique Motala (Cape Peninsula University of Technology)</p>
</div>
<section id="problem-statement">
<h2><span class="section-number">8.4.1. </span>Problem Statement<a class="headerlink" href="#problem-statement" title="Link to this heading"></a></h2>
<p>You are tasked with finding areas in and around the Cape Peninsula
that are suitable habitats for a rare fynbos plant species.
The extent of your area of investigation covers Cape Town and the Cape
Peninsula between Melkbosstrand in the north and Strand in the south.
Botanists have provided you with the following preferences exhibited
by the species in question:</p>
<ul class="simple">
<li><p>It grows on east facing slopes</p></li>
<li><p>It grows on slopes with a gradient between 15% and 60%</p></li>
<li><p>It grows in areas that have a total annual rainfall of &gt; 1000 mm</p></li>
<li><p>It will only be found at least 250 m away from any human settlement</p></li>
<li><p>The area of vegetation in which it occurs should be at least 6000 ㎡
in area</p></li>
</ul>
<p>As a student at the University, you have agreed to search for the
plant in four different suitable areas of land.
You want those four suitable areas to be the ones that are closest to
the University of Cape Town where you live.
Use your GIS skills to determine where you should go to look.</p>
</section>
<section id="solution-outline">
<h2><span class="section-number">8.4.2. </span>Solution Outline<a class="headerlink" href="#solution-outline" title="Link to this heading"></a></h2>
<p>The data for this exercise can be found in the
<code class="file docutils literal notranslate"><span class="pre">exercise_data/more_analysis</span></code> folder.</p>
<p>You are going to find the four suitable areas that are closest to the
University of Cape Town.</p>
<p>The solution will involve:</p>
<ol class="arabic simple">
<li><p>Analyzing a DEM raster layer to find the east facing slopes and the
slopes with the correct gradients</p></li>
<li><p>Analyzing a rainfall raster layer to find the areas with the
correct amount of rainfall</p></li>
<li><p>Analyzing a zoning vector layer to find areas that are away from
human settlement and are of the correct size</p></li>
</ol>
</section>
<section id="follow-along-setting-up-the-map">
<h2><span class="section-number">8.4.3. </span>Follow Along: Setting up the Map<a class="headerlink" href="#follow-along-setting-up-the-map" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Click on the <a class="reference internal" href="../../../_images/mIconProjectionEnabled.png"><img alt="projectionEnabled" src="../../../_images/mIconProjectionEnabled.png" style="width: 1.5em;" /></a> <sup>Current CRS</sup> button in the
lower right corner of the screen.
Under the <span class="guilabel">CRS</span> tab of the dialog that appears, use the
“Filter” tool to search for “33S”.
Select the entry <span class="guilabel">WGS 84 / UTM zone 33S</span> (with EPSG code
<code class="docutils literal notranslate"><span class="pre">32733</span></code>).</p></li>
<li><p>Click <span class="guilabel">OK</span></p>
<figure class="align-center" id="id1">
<img alt="../../../_images/crs.png" src="../../../_images/crs.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.3 </span><span class="caption-text">Setting up the CRS</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
<li><p>Save the project file by clicking on the <a class="reference internal" href="../../../_images/mActionFileSave.png"><img alt="fileSave" src="../../../_images/mActionFileSave.png" style="width: 1.5em;" /></a>
<sup>Save Project</sup> toolbar button, or use the
<span class="menuselection">Project ► Save As…</span> menu item.</p>
<p>Save it in a new directory called <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code>, that you
should create somewhere on your computer.
You will save whatever layers you create in this directory as well.
Save the project as <code class="file docutils literal notranslate"><span class="pre">your_name_fynbos.qgs</span></code>.</p>
</li>
</ol>
</section>
<section id="loading-data-into-the-map">
<h2><span class="section-number">8.4.4. </span>Loading Data into the Map<a class="headerlink" href="#loading-data-into-the-map" title="Link to this heading"></a></h2>
<p>In order to process the data, you will need to load the necessary
layers (street names, zones, rainfall, DEM, districts) into the map
canvas.</p>
<section id="for-vectors">
<h3>For vectors…<a class="headerlink" href="#for-vectors" title="Link to this heading"></a></h3>
<ol class="arabic">
<li><p>Click on the <a class="reference internal" href="../../../_images/mActionDataSourceManager.png"><img alt="dataSourceManager" src="../../../_images/mActionDataSourceManager.png" style="width: 1.5em;" /></a> <sup>Open Data Source Manager</sup>
button in the <em>Data Source Manager Toolbar</em>, and enable the
<a class="reference internal" href="../../../_images/mActionAddOgrLayer.png"><img alt="addOgrLayer" src="../../../_images/mActionAddOgrLayer.png" style="width: 1.5em;" /></a> <span class="guilabel">Vector</span> tab in the dialog that appears, or
use the <span class="menuselection">Layer ► Add Layer ►</span> <a class="reference internal" href="../../../_images/mActionAddOgrLayer.png"><img alt="addOgrLayer" src="../../../_images/mActionAddOgrLayer.png" style="width: 1.5em;" /></a>
<span class="menuselection">Add Vector Layer…</span> menu item</p></li>
<li><p>Ensure that <a class="reference internal" href="../../../_images/radiobuttonon.png"><img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" style="width: 1.5em;" /></a> <span class="guilabel">File</span> is selected</p></li>
<li><p>Click on the <span class="guilabel">…</span> button to browse for
vector dataset(s)</p></li>
<li><p>In the dialog that appears, open the
<code class="file docutils literal notranslate"><span class="pre">exercise_data/more_analysis/Streets</span></code> directory</p></li>
<li><p>Select the file <code class="file docutils literal notranslate"><span class="pre">Street_Names_UTM33S.shp</span></code></p></li>
<li><p>Click <span class="guilabel">Open</span>.</p>
<p>The dialog closes and shows the original dialog, with the file
path specified in the text field next to
<span class="guilabel">Vector dataset(s)</span>.
This allows you to ensure that the correct file is selected.
It is also possible to enter the file path in this field manually,
should you wish to do so.</p>
</li>
<li><p>Click <span class="guilabel">Add</span>.
The vector layer will be loaded into your map.
Its color is automatically assigned.
You will change it later.</p></li>
<li><p>Rename the layer to <code class="docutils literal notranslate"><span class="pre">Streets</span></code></p>
<ol class="arabic simple">
<li><p>Right-click on it in the <span class="guilabel">Layers</span> panel (by default,
the pane along the left-hand side of the screen)</p></li>
<li><p>Click <span class="guilabel">Rename</span> in the dialog that appears and rename
it, pressing the <kbd class="kbd docutils literal notranslate">Enter</kbd> key when done</p></li>
</ol>
</li>
<li><p>Repeat the vector adding process, but this time select the
<code class="file docutils literal notranslate"><span class="pre">Generalised_Zoning_Dissolve_UTM33S.shp</span></code> file in the
<code class="file docutils literal notranslate"><span class="pre">Zoning</span></code> directory.</p></li>
<li><p>Rename it to <code class="docutils literal notranslate"><span class="pre">Zoning</span></code>.</p></li>
<li><p>Load also the vector layer
<code class="file docutils literal notranslate"><span class="pre">admin_boundaries/Western_Cape_UTM33S.shp</span></code> into your map.</p></li>
<li><p>Rename it to <code class="docutils literal notranslate"><span class="pre">Districts</span></code>.</p></li>
</ol>
</section>
<section id="for-rasters">
<h3>For rasters…<a class="headerlink" href="#for-rasters" title="Link to this heading"></a></h3>
<ol class="arabic simple">
<li><p>Click on the <a class="reference internal" href="../../../_images/mActionDataSourceManager.png"><img alt="dataSourceManager" src="../../../_images/mActionDataSourceManager.png" style="width: 1.5em;" /></a> <sup>Open Data Source Manager</sup>
button and enable the <a class="reference internal" href="../../../_images/mActionAddRasterLayer.png"><img alt="addRasterLayer" src="../../../_images/mActionAddRasterLayer.png" style="width: 1.5em;" /></a> <span class="guilabel">Raster</span> tab in
the dialog that appears, or use the
<span class="menuselection">Layer ► Add Layer ►</span> <a class="reference internal" href="../../../_images/mActionAddRasterLayer.png"><img alt="addRasterLayer" src="../../../_images/mActionAddRasterLayer.png" style="width: 1.5em;" /></a>
<span class="menuselection">Add Raster Layer…</span> menu item</p></li>
<li><p>Ensure that <a class="reference internal" href="../../../_images/radiobuttonon.png"><img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" style="width: 1.5em;" /></a> <span class="guilabel">File</span> is selected</p></li>
<li><p>Navigate to the appropriate file, select it, and click
<span class="guilabel">Open</span></p></li>
<li><p>Do this for each of the following two raster files,
<code class="file docutils literal notranslate"><span class="pre">DEM/SRTM.tif</span></code> and <code class="file docutils literal notranslate"><span class="pre">rainfall/reprojected/rainfall.tif</span></code></p></li>
<li><p>Rename the SRTM raster to <code class="docutils literal notranslate"><span class="pre">DEM</span></code> and the rainfall raster to
<code class="docutils literal notranslate"><span class="pre">Rainfall</span></code> (with an initial capital)</p></li>
</ol>
</section>
</section>
<section id="changing-the-layer-order">
<h2><span class="section-number">8.4.5. </span>Changing the layer order<a class="headerlink" href="#changing-the-layer-order" title="Link to this heading"></a></h2>
<p>Click and drag layers up and down in the <span class="guilabel">Layers</span> panel to
change the order they appear in on the map so that you can see as many
of the layers as possible.</p>
<p>Now that all the data is loaded and properly visible, the analysis
can begin.
It is best if the clipping operation is done first. This is so that no
processing power is wasted on computing values in areas that are not
going to be used anyway.</p>
</section>
<section id="find-the-correct-districts">
<h2><span class="section-number">8.4.6. </span>Find the Correct Districts<a class="headerlink" href="#find-the-correct-districts" title="Link to this heading"></a></h2>
<p>Due to the aforementioned area of investigation, we need to limit our
districts to the following ones:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Bellville</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Cape</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Goodwood</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Kuils</span> <span class="pre">River</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Mitchells</span> <span class="pre">Plain</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Simon</span> <span class="pre">Town</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Wynberg</span></code></p></li>
</ul>
<ol class="arabic">
<li><p>Right-click on the <code class="docutils literal notranslate"><span class="pre">Districts</span></code> layer in the
<span class="guilabel">Layers</span> panel.</p></li>
<li><p>In the menu that appears,  select the <span class="guilabel">Filter…</span> menu
item.
The <span class="guilabel">Query Builder</span> dialog appears.</p></li>
<li><p>You will now build a query to select only the candidate districts:</p>
<ol class="arabic">
<li><p>In the <span class="guilabel">Fields</span> list, double-click on the
<code class="docutils literal notranslate"><span class="pre">NAME_2</span></code> field to make it appear in the
<span class="guilabel">SQL where clause</span> text field below</p></li>
<li><p>Click the <span class="guilabel">IN</span> button to append it to the SQL query</p></li>
<li><p>Open the brackets</p></li>
<li><p>Click the <span class="guilabel">All</span> button below the (currently empty)
<span class="guilabel">Values</span> list.</p>
<p>After a short delay, this will populate the <span class="guilabel">Values</span>
list with the values of the selected field (<code class="docutils literal notranslate"><span class="pre">NAME_2</span></code>).</p>
</li>
<li><p>Double-click the value <code class="docutils literal notranslate"><span class="pre">Bellville</span></code> in the
<span class="guilabel">Values</span> list to append it to the SQL query.</p></li>
<li><p>Add a comma and double-click to add <code class="docutils literal notranslate"><span class="pre">Cape</span></code> district</p></li>
<li><p>Repeat the previous step for the remaining districts</p></li>
<li><p>Close the brackets</p></li>
</ol>
<figure class="align-center" id="id2">
<img alt="../../../_images/query_builder.png" src="../../../_images/query_builder.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.4 </span><span class="caption-text">Query builder</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
<div class="legend">
<p>The final query should be (the order of the districts in the brackets
does not matter):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;NAME_2&quot;</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;Bellville&#39;</span><span class="p">,</span> <span class="s1">&#39;Cape&#39;</span><span class="p">,</span> <span class="s1">&#39;Goodwood&#39;</span><span class="p">,</span> <span class="s1">&#39;Kuils River&#39;</span><span class="p">,</span>
             <span class="s1">&#39;Mitchells Plain&#39;</span><span class="p">,</span> <span class="s1">&#39;Simon Town&#39;</span><span class="p">,</span> <span class="s1">&#39;Wynberg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also use the <code class="docutils literal notranslate"><span class="pre">OR</span></code> operator; the query would look
like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;NAME_2&quot;</span> <span class="o">=</span> <span class="s1">&#39;Bellville&#39;</span> <span class="n">OR</span> <span class="s2">&quot;NAME_2&quot;</span> <span class="o">=</span> <span class="s1">&#39;Cape&#39;</span> <span class="n">OR</span>
<span class="s2">&quot;NAME_2&quot;</span> <span class="o">=</span> <span class="s1">&#39;Goodwood&#39;</span> <span class="n">OR</span> <span class="s2">&quot;NAME_2&quot;</span> <span class="o">=</span> <span class="s1">&#39;Kuils River&#39;</span> <span class="n">OR</span>
<span class="s2">&quot;NAME_2&quot;</span> <span class="o">=</span> <span class="s1">&#39;Mitchells Plain&#39;</span> <span class="n">OR</span> <span class="s2">&quot;NAME_2&quot;</span> <span class="o">=</span> <span class="s1">&#39;Simon Town&#39;</span> <span class="n">OR</span>
<span class="s2">&quot;NAME_2&quot;</span> <span class="o">=</span> <span class="s1">&#39;Wynberg&#39;</span>
</pre></div>
</div>
</div>
</div>
</figcaption>
</figure>
<ol class="arabic">
<li><p>Click <span class="guilabel">OK</span> twice.</p>
<p>The districts shown in your map are now limited to those in the
list above.</p>
</li>
</ol>
</li>
</ol>
</section>
<section id="clip-the-rasters">
<h2><span class="section-number">8.4.7. </span>Clip the Rasters<a class="headerlink" href="#clip-the-rasters" title="Link to this heading"></a></h2>
<p>Now that you have an area of interest, you can clip the rasters to
this area.</p>
<ol class="arabic">
<li><p>Open the clipping dialog by selecting the menu item
<span class="menuselection">Raster ► Extraction ► Clip Raster by Mask Layer…</span></p></li>
<li><p>In the <span class="guilabel">Input layer</span> dropdown list, select the <code class="docutils literal notranslate"><span class="pre">DEM</span></code>
layer</p></li>
<li><p>In the <span class="guilabel">Mask layer</span> dropdown list, select the
<code class="docutils literal notranslate"><span class="pre">Districts</span></code> layer</p></li>
<li><p>Scroll down and specify an output location in the
<span class="guilabel">Clipped (mask)</span> text field by clicking the
<span class="guilabel">…</span> button and choosing <span class="guilabel">Save to File…</span></p>
<ol class="arabic simple">
<li><p>Navigate to the <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory</p></li>
<li><p>Enter a file name - <code class="docutils literal notranslate"><span class="pre">DEM_clipped.tif</span></code></p></li>
<li><p>Save</p></li>
</ol>
</li>
<li><p>Make sure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Open output file after running algorithm</span> is checked</p></li>
<li><p>Click <span class="guilabel">Run</span></p>
<p>After the clipping operation has completed, leave the
<span class="guilabel">Clip Raster by Mask Layer</span> dialog open, to be able to reuse
the clipping area</p>
</li>
<li><p>Select the <code class="docutils literal notranslate"><span class="pre">Rainfall</span></code> raster layer in the <span class="guilabel">Input layer</span>
dropdown list and save your output as <code class="file docutils literal notranslate"><span class="pre">Rainfall_clipped.tif</span></code></p></li>
<li><p>Do not change any other options.
Leave everything the same and click <span class="guilabel">Run</span>.</p></li>
<li><p>After the second clipping operation has completed, you may close
the <span class="guilabel">Clip Raster by Mask Layer</span> dialog</p></li>
<li><p>Save the map</p>
<figure class="align-center" id="id3">
<img alt="../../../_images/clipped_r_filtered_v_reordered_l.png" src="../../../_images/clipped_r_filtered_v_reordered_l.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.5 </span><span class="caption-text">Map view with filtered vector, clipped raster and reordered layers</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
<section id="align-the-rasters">
<h3>Align the rasters<a class="headerlink" href="#align-the-rasters" title="Link to this heading"></a></h3>
<p>For our analysis we need the rasters to have the same CRS and they
have to be aligned.</p>
<p>First we change the resolution of our rainfall data to 30 meters
(pixel size):</p>
<ol class="arabic">
<li><p>In the <span class="guilabel">Layers</span> panel, ensure that
<code class="docutils literal notranslate"><span class="pre">Rainfall_clipped</span></code> is the active layer (i.e., it is highlighted by
having been clicked on)</p></li>
<li><p>Click on the <span class="menuselection">Raster ► Projections ► Warp (Reproject)…</span>
menu item to open the <span class="guilabel">Warp (Reproject)</span> dialog</p></li>
<li><p>Under <span class="guilabel">Resampling method to use</span>, select <span class="guilabel">Bilinear (2x2 kernel)</span>
from the drop down menu</p></li>
<li><p>Set <span class="guilabel">Output file resolution in target georeferenced units</span> to <code class="docutils literal notranslate"><span class="pre">30</span></code></p></li>
<li><p>Scroll down to <span class="guilabel">Reprojected</span> and save the output in your
<code class="file docutils literal notranslate"><span class="pre">rainfall/reprojected</span></code> directory as <code class="file docutils literal notranslate"><span class="pre">Rainfall30.tif</span></code>.</p></li>
<li><p>Make sure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Open output file after running algorithm</span> is checked</p>
<figure class="align-center" id="id4">
<img alt="../../../_images/wrap_rainfall.png" src="../../../_images/wrap_rainfall.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.6 </span><span class="caption-text">Warp (Reproject) Rainfall_clipped</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
<p>Then we align the DEM:</p>
<ol class="arabic simple">
<li><p>In the <span class="guilabel">Layers</span> panel, ensure that
<code class="docutils literal notranslate"><span class="pre">DEM_clipped</span></code> is the active layer (i.e., it is highlighted by
having been clicked on)</p></li>
<li><p>Click on the <span class="menuselection">Raster ► Projections ► Warp (Reproject)…</span>
menu item to open the <span class="guilabel">Warp (Reproject)</span> dialog</p></li>
<li><p>Under <span class="guilabel">Target CRS</span>, select <span class="guilabel">Project CRS: EPSG:32733 - WGS 84 / UTM zone 33S</span> from the drop down menu</p></li>
<li><p>Under <span class="guilabel">Resampling method to use</span>, select <span class="guilabel">Bilinear (2x2 kernel)</span>
from the drop down menu</p></li>
<li><p>Set <span class="guilabel">Output file resolution in target georeferenced units</span> to <code class="docutils literal notranslate"><span class="pre">30</span></code></p></li>
<li><p>Scroll down to <span class="guilabel">Georeferenced extents of output file to be created</span>. Use the button to the right of the text box to select <span class="menuselection">Calculate from Layer ► Rainfall30</span>.</p></li>
<li><p>Scroll down to <span class="guilabel">Reprojected</span> and save the output in your
<code class="file docutils literal notranslate"><span class="pre">DEM/reprojected</span></code> directory as <code class="file docutils literal notranslate"><span class="pre">DEM30.tif</span></code>.</p></li>
<li><p>Make sure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Open output file after running algorithm</span> is checked</p></li>
</ol>
<p>In order to properly see what’s going on, the symbology for the
layers needs to be changed.</p>
</section>
</section>
<section id="changing-the-symbology-of-vector-layers">
<h2><span class="section-number">8.4.8. </span>Changing the symbology of vector layers<a class="headerlink" href="#changing-the-symbology-of-vector-layers" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>In the <span class="guilabel">Layers</span> panel, right-click on the
<span class="guilabel">Streets</span> layer</p></li>
<li><p>Select <span class="guilabel">Properties</span> from the menu that appears</p></li>
<li><p>Switch to the <span class="guilabel">Symbology</span> tab in the dialog that appears</p></li>
<li><p>Click on the <span class="guilabel">Line</span> entry in the top widget</p></li>
<li><p>Select a symbol in the list below or set a new one (color,
transparency, …)</p></li>
<li><p>Click <span class="guilabel">OK</span> to close the <span class="guilabel">Layer Properties</span>
dialog.
This will change the rendering of the <span class="guilabel">Streets</span> layer.</p></li>
<li><p>Follow a similar process for the <span class="guilabel">Zoning</span> layer and
choose an appropriate color for it</p></li>
</ol>
</section>
<section id="changing-the-symbology-of-raster-layers">
<span id="changing-raster-symbology"></span><h2><span class="section-number">8.4.9. </span>Changing the symbology of raster layers<a class="headerlink" href="#changing-the-symbology-of-raster-layers" title="Link to this heading"></a></h2>
<p>Raster layer symbology is somewhat different.</p>
<ol class="arabic">
<li><p>Open the <span class="guilabel">Properties</span> dialog for the
<span class="guilabel">Rainfall30</span> raster layer</p></li>
<li><p>Switch to the <span class="guilabel">Symbology</span> tab.
You’ll notice that this dialog is very different from the version
used for vector layers.</p></li>
<li><p>Expand <span class="guilabel">Min/Max Value Settings</span></p></li>
<li><p>Ensure that the button <span class="guilabel">Mean +/- standard deviation</span> is
selected</p></li>
<li><p>Make sure that the value in the associated box is <code class="docutils literal notranslate"><span class="pre">2.00</span></code></p></li>
<li><p>For <span class="guilabel">Contrast enhancement</span>, make sure it says
<span class="guilabel">Stretch to MinMax</span></p></li>
<li><p>For <span class="guilabel">Color gradient</span>, change it to
<span class="guilabel">White to Black</span></p></li>
<li><p>Click <span class="guilabel">OK</span></p>
<figure class="align-center" id="id5">
<img alt="../../../_images/raster_symbology.png" src="../../../_images/raster_symbology.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.7 </span><span class="caption-text">Raster symbology</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The <code class="docutils literal notranslate"><span class="pre">Rainfall30</span></code> raster, if visible, should change colors,
allowing you to see different brightness values for each pixel</p>
</li>
<li><p>Repeat this process for the <code class="docutils literal notranslate"><span class="pre">DEM30</span></code> layer, but set the standard
deviations used for stretching to <code class="docutils literal notranslate"><span class="pre">4.00</span></code></p></li>
</ol>
</section>
<section id="clean-up-the-map">
<h2><span class="section-number">8.4.10. </span>Clean up the map<a class="headerlink" href="#clean-up-the-map" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Remove the original <code class="docutils literal notranslate"><span class="pre">Rainfall</span></code> and <code class="docutils literal notranslate"><span class="pre">DEM</span></code> layers, as well as
<code class="docutils literal notranslate"><span class="pre">Rainfall_clipped</span></code> and <code class="docutils literal notranslate"><span class="pre">DEM_clipped</span></code> from the
<span class="guilabel">Layers</span> panel:</p>
<ul>
<li><p>Right-click on these layers and select <span class="guilabel">Remove</span>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will not remove the data from your storage device,
it will merely take it out of your map.</p>
</div>
</li>
</ul>
</li>
<li><p>Save the map</p></li>
<li><p>You can now hide the vector layers by unchecking the box next to
them in the <span class="guilabel">Layers</span> panel.
This will make the map render faster and will save you some time.</p></li>
</ol>
</section>
<section id="create-the-hillshade">
<h2><span class="section-number">8.4.11. </span>Create the hillshade<a class="headerlink" href="#create-the-hillshade" title="Link to this heading"></a></h2>
<p>In order to create the hillshade, you will need to use an algorithm
that was written for this purpose.</p>
<ol class="arabic">
<li><p>In the <span class="guilabel">Layers</span> panel, ensure that
<code class="docutils literal notranslate"><span class="pre">DEM30</span></code> is the active layer (i.e., it is highlighted by
having been clicked on)</p></li>
<li><p>Click on the <span class="menuselection">Raster ► Analysis ► Hillshade…</span>
menu item to open the <span class="guilabel">Hillshade</span> dialog</p></li>
<li><p>Scroll down to <span class="guilabel">Hillshade</span> and save the output in your
<code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory as <code class="file docutils literal notranslate"><span class="pre">hillshade.tif</span></code></p></li>
<li><p>Make sure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Open output file after running algorithm</span> is checked</p></li>
<li><p>Click <span class="guilabel">Run</span></p></li>
<li><p>Wait for it to finish processing.</p>
<figure class="align-center" id="id6">
<img alt="../../../_images/hillshade.png" src="../../../_images/hillshade.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.8 </span><span class="caption-text">Raster analysis Hillshade</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
<p>The new <code class="docutils literal notranslate"><span class="pre">hillshade</span></code> layer has appeared in the
<span class="guilabel">Layers</span> panel.</p>
<ol class="arabic simple">
<li><p>Right-click on the <code class="docutils literal notranslate"><span class="pre">hillshade</span></code> layer in the
<span class="guilabel">Layers</span> panel and bring up the <span class="guilabel">Properties</span>
dialog</p></li>
<li><p>Click on the <span class="guilabel">Transparency</span> tab and set the
<span class="guilabel">Global Opacity</span> slider to <code class="docutils literal notranslate"><span class="pre">20%</span></code></p></li>
<li><p>Click <span class="guilabel">OK</span></p></li>
<li><p>Note the effect when the transparent hillshade is superimposed over
the clipped DEM.
You may have to change the order of your layers, or click off the
<code class="docutils literal notranslate"><span class="pre">Rainfall30</span></code> layer in order to see the effect.</p></li>
</ol>
</section>
<section id="slope">
<h2><span class="section-number">8.4.12. </span>Slope<a class="headerlink" href="#slope" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Click on the <span class="menuselection">Raster ► Analysis ► Slope…</span>
menu item to open the <span class="guilabel">Slope</span> algorithm dialog</p></li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">DEM30</span></code> as <span class="guilabel">Input layer</span></p></li>
<li><p>Check <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Slope expressed as percent instead of degrees</span>.
Slope can be expressed in different units (percent or degrees).
Our criteria suggest that the plant of interest grows on slopes with
a gradient between 15% and 60%.
So we need to make sure our slope data is expressed as a percent.</p></li>
<li><p>Specify an appropriate file name and location for your output.</p></li>
<li><p>Make sure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Open output file after running algorithm</span> is checked</p></li>
<li><p>Click <span class="guilabel">Run</span></p>
<figure class="align-center" id="id7">
<img alt="../../../_images/slope.png" src="../../../_images/slope.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.9 </span><span class="caption-text">Raster analysis Slope</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
<p>The slope image has been calculated and added to the map.
As usual, it is rendered in grayscale.
Change the symbology to a more colorful one:</p>
<ol class="arabic simple">
<li><p>Open the layer <span class="guilabel">Properties</span> dialog (as usual, via the
right-click menu of the layer)</p></li>
<li><p>Click on the <span class="guilabel">Symbology</span> tab</p></li>
<li><p>Where it says <span class="guilabel">Singleband gray</span> (in the
<span class="guilabel">Render type</span> dropdown menu), change it to
<span class="guilabel">Singleband pseudocolor</span></p></li>
<li><p>Choose <span class="guilabel">Mean +/- standard deviation x</span> for
<span class="guilabel">Min / Max Value Settings</span> with a value of <code class="docutils literal notranslate"><span class="pre">2.0</span></code></p></li>
<li><p>Select a suitable <span class="guilabel">Color ramp</span></p></li>
<li><p>Click <span class="guilabel">Run</span></p></li>
</ol>
</section>
<section id="try-yourself-aspect">
<h2><span class="section-number">8.4.13. </span>Try Yourself: Aspect<a class="headerlink" href="#try-yourself-aspect" title="Link to this heading"></a></h2>
<p>Use the same approach as for calculating the slope, choosing
<span class="guilabel">Aspect…</span> in the
<span class="menuselection">Raster ► Analysis</span> menu.</p>
<p>Remember to save the project periodically.</p>
</section>
<section id="reclassifying-rasters">
<h2><span class="section-number">8.4.14. </span>Reclassifying rasters<a class="headerlink" href="#reclassifying-rasters" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Choose <span class="menuselection">Raster ► Raster calculator…</span></p></li>
<li><p>Specify your <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory as the location for the
<span class="guilabel">Output layer</span> (click on the <span class="guilabel">…</span> button),
and save it as <code class="file docutils literal notranslate"><span class="pre">slope15_60.tif</span></code></p></li>
<li><p>Ensure that the
<span class="guilabel">Open output file after running algorithm</span> box is
selected.</p>
<p>In the <span class="guilabel">Raster bands</span> list on the left, you will see all
the raster layers in your <span class="guilabel">Layers</span> panel.
If your Slope layer is called <span class="guilabel">slope</span>, it will be listed
as <code class="docutils literal notranslate"><span class="pre">slope&#64;1</span></code>.
Indicating band 1 of the slope raster.</p>
</li>
<li><p>The slope needs to be between <code class="docutils literal notranslate"><span class="pre">15</span></code> and <code class="docutils literal notranslate"><span class="pre">60</span></code> degrees.</p>
<p>Using the list items and buttons in the interface, build the
following expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">slope</span><span class="o">@</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">15</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">slope</span><span class="o">@</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Set the <span class="guilabel">Output layer</span> field to an appropriate location
and file name.</p></li>
<li><p>Click <span class="guilabel">Run</span>.</p>
<figure class="align-center" id="id8">
<img alt="../../../_images/raster_calculator_slope.png" src="../../../_images/raster_calculator_slope.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.10 </span><span class="caption-text">Raster calculator Slope</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
<p>Now find the correct aspect (east-facing: between <code class="docutils literal notranslate"><span class="pre">45</span></code> and <code class="docutils literal notranslate"><span class="pre">135</span></code>
degrees) using the same approach.</p>
<ol class="arabic">
<li><p>Build the following expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">aspect</span><span class="o">@</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">45</span><span class="p">)</span> <span class="n">AND</span> <span class="p">(</span><span class="n">aspect</span><span class="o">@</span><span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">135</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>You will know it worked when all of the east-facing slopes are white
in the resulting raster (it’s almost as if they are being lit by the
morning sunlight).</p>
<p>Find the correct rainfall (greater than <code class="docutils literal notranslate"><span class="pre">1000</span></code> mm) the same way.
Use the following expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Rainfall30</span><span class="o">@</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">1000</span>
</pre></div>
</div>
<p>Now that you have all three criteria each in separate rasters, you
need to combine them to see which areas satisfy all the criteria.
To do so, the rasters will be multiplied with each other.
When this happens, all overlapping pixels with a value of <code class="docutils literal notranslate"><span class="pre">1</span></code> will
retain the value of <code class="docutils literal notranslate"><span class="pre">1</span></code> (i.e. the location meets the criteria), but
if a pixel in any of the three rasters has the value of <code class="docutils literal notranslate"><span class="pre">0</span></code> (i.e.
the location does not meet the criteria), then it will be <code class="docutils literal notranslate"><span class="pre">0</span></code> in the
result.
In this way, the result will contain only the overlapping areas that
meet all of the appropriate criteria.</p>
</section>
<section id="combining-rasters">
<h2><span class="section-number">8.4.15. </span>Combining rasters<a class="headerlink" href="#combining-rasters" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Open the <em>Raster Calculator</em>
(<span class="menuselection">Raster ► Raster Calculator…</span>)</p></li>
<li><p>Build the following expression (with the appropriate names for your
layers):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">aspect45_135</span><span class="p">]</span> <span class="o">*</span> <span class="p">[</span><span class="n">slope15_60</span><span class="p">]</span> <span class="o">*</span> <span class="p">[</span><span class="n">rainfall_1000</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><p>Set the output location to the <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory</p></li>
<li><p>Name the output raster <code class="file docutils literal notranslate"><span class="pre">aspect_slope_rainfall.tif</span></code></p></li>
<li><p>Ensure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Open output file after running algorithm</span> is checked</p></li>
<li><p>Click <span class="guilabel">Run</span></p></li>
</ol>
<p>The new raster now properly displays the areas where all three criteria
are satisfied.</p>
<p>Save the project.</p>
<figure class="align-center" id="id9">
<img alt="../../../_images/aspect_slope_rainfall.png" src="../../../_images/aspect_slope_rainfall.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.11 </span><span class="caption-text">Map view where all three criteria are satisfied</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The next criterion that needs to be satisfied is that the area must be
<code class="docutils literal notranslate"><span class="pre">250</span></code> m away from urban areas.
We will satisfy this requirement by ensuring that the areas we compute
are inside rural areas, and are <code class="docutils literal notranslate"><span class="pre">250</span></code> m or more from the edge of the area.
Hence, we need to find all rural areas first.</p>
</section>
<section id="finding-rural-areas">
<h2><span class="section-number">8.4.16. </span>Finding rural areas<a class="headerlink" href="#finding-rural-areas" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Hide all layers in the <span class="guilabel">Layers</span> panel</p></li>
<li><p>Unhide the <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> vector layer</p></li>
<li><p>Right-click on it and bring up the <span class="guilabel">Attribute Table</span> dialog.
Note the many different ways that the land is zoned here.
We want to isolate the rural areas.
Close the Attribute table.</p></li>
<li><p>Right-click on the <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> layer and select <span class="guilabel">Filter…</span> to
bring up the <span class="guilabel">Query Builder</span> dialog</p></li>
<li><p>Build the following query:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Gen_Zoning&quot;</span> <span class="o">=</span> <span class="s1">&#39;Rural&#39;</span>
</pre></div>
</div>
<p>See the earlier instructions if you get stuck.</p>
</li>
<li><p>Click <span class="guilabel">OK</span> to close the <span class="guilabel">Query Builder</span> dialog.
The query should return one feature.</p>
<figure class="align-center">
<img alt="../../../_images/query_builder_zoning.png" src="../../../_images/query_builder_zoning.png" />
</figure>
<p>Query builder Zoning</p>
</li>
</ol>
<p>You should see the rural polygons from the <code class="docutils literal notranslate"><span class="pre">Zoning</span></code> layer.
You will need to save these.</p>
<ol class="arabic simple">
<li><p>In the right-click menu for <code class="docutils literal notranslate"><span class="pre">Zoning</span></code>, select
<span class="menuselection">Export ► Save Features As…</span>.</p></li>
<li><p>Save your layer under the <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory</p></li>
<li><p>Name the output file <code class="file docutils literal notranslate"><span class="pre">rural.shp</span></code></p></li>
<li><p>Click <span class="guilabel">OK</span></p></li>
<li><p>Save the project</p></li>
</ol>
<p>Now you need to exclude the areas that are within <code class="docutils literal notranslate"><span class="pre">250m</span></code> from the
edge of the rural areas.
Do this by creating a negative buffer, as explained below.</p>
</section>
<section id="creating-a-negative-buffer">
<h2><span class="section-number">8.4.17. </span>Creating a negative buffer<a class="headerlink" href="#creating-a-negative-buffer" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Click the menu item
<span class="menuselection">Vector ► Geoprocessing Tools ► Buffer…</span></p></li>
<li><p>In the dialog that appears, select the <code class="docutils literal notranslate"><span class="pre">rural</span></code> layer as
your input vector layer (<span class="guilabel">Selected features only</span> should
not be checked)</p></li>
<li><p>Set <span class="guilabel">Distance</span> to <code class="docutils literal notranslate"><span class="pre">-250</span></code>.
The negative value means that the buffer will be an internal
buffer.
Make sure that the units are meters in the dropdown menu.</p></li>
<li><p>Check <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <span class="guilabel">Dissolve result</span></p></li>
<li><p>In <span class="guilabel">Buffered</span>, place the output file in the
<code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory, and name it <code class="file docutils literal notranslate"><span class="pre">rural_buffer.shp</span></code></p></li>
<li><p>Click <span class="guilabel">Save</span></p></li>
<li><p>Click <span class="guilabel">Run</span> and wait for the processing to complete</p></li>
<li><p>Close the <span class="guilabel">Buffer</span> dialog.</p>
<p>Make sure that your buffer worked correctly by noting how the
<code class="docutils literal notranslate"><span class="pre">rural_buffer</span></code> layer is different from the
<code class="docutils literal notranslate"><span class="pre">rural</span></code> layer.
You may need to change the drawing order in order to observe the
difference.</p>
</li>
<li><p>Remove the <code class="docutils literal notranslate"><span class="pre">rural</span></code> layer</p></li>
<li><p>Save the project</p>
<figure class="align-center" id="id10">
<img alt="../../../_images/rural_buffer.png" src="../../../_images/rural_buffer.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.12 </span><span class="caption-text">Map view with rural buffer</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
<p>Now you need to combine your <code class="docutils literal notranslate"><span class="pre">rural_buffer</span></code> vector layer with the
<code class="docutils literal notranslate"><span class="pre">aspect_slope_rainfall</span></code> raster.
To combine them, we will need to change the data format of one of the
layers. In this case, you will vectorize the raster, since vector
layers are more convenient when we want to calculate areas.</p>
</section>
<section id="vectorizing-the-raster">
<h2><span class="section-number">8.4.18. </span>Vectorizing the raster<a class="headerlink" href="#vectorizing-the-raster" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Click on the menu item
<span class="menuselection">Raster ► Conversion ► Polygonize (Raster to  Vector)…</span></p></li>
<li><p>Select the <code class="file docutils literal notranslate"><span class="pre">aspect_slope_rainfall</span></code> raster  as
<span class="guilabel">Input layer</span></p></li>
<li><p>Set <span class="guilabel">Name of the field to create</span> to <code class="docutils literal notranslate"><span class="pre">suitable</span></code> (the
default field name is <code class="docutils literal notranslate"><span class="pre">DN</span></code> - Digital number data)</p></li>
<li><p>Save the output.
Under <span class="guilabel">Vectorized</span>, select <span class="guilabel">Save file as</span>.
Set the location to <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> and name the file
<code class="file docutils literal notranslate"><span class="pre">aspect_slope_rainfall_all.shp</span></code>.</p></li>
<li><p>Ensure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Open output file after running algorithm</span> is checked</p></li>
<li><p>Click <span class="guilabel">Run</span></p></li>
<li><p>Close the dialog when processing is complete</p>
<figure class="align-center" id="id11">
<img alt="../../../_images/vectorized.png" src="../../../_images/vectorized.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.13 </span><span class="caption-text">Raster to Vector</span><a class="headerlink" href="#id11" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
<p>All areas of the raster have been vectorized, so you need to select
only the areas that have a value of <code class="docutils literal notranslate"><span class="pre">1</span></code> in the <code class="docutils literal notranslate"><span class="pre">suitable</span></code> field.
(Digital Number.</p>
<ol class="arabic">
<li><p>Open the <span class="guilabel">Query Builder</span> dialog (right-click -
<span class="guilabel">Filter…</span>) for the new vector layer</p></li>
<li><p>Build this query:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;suitable&quot;</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</li>
<li><p>Click <span class="guilabel">OK</span></p></li>
<li><p>After you are sure the query is complete (and only the areas that
meet all three criteria, i.e. with a value of <code class="docutils literal notranslate"><span class="pre">1</span></code> are visible),
create a new vector file from the results, using the
<span class="menuselection">Export ► Save Features As…</span> in the layer’s
right-click menu</p></li>
<li><p>Save the file in the <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory</p></li>
<li><p>Name the file <code class="file docutils literal notranslate"><span class="pre">aspect_slope_rainfall_1.shp</span></code></p></li>
<li><p>Remove the <code class="docutils literal notranslate"><span class="pre">aspect_slope_rainfall_all</span></code> layer from your
map</p></li>
<li><p>Save your project</p></li>
</ol>
<p>When we use an algorithm to vectorize a raster, sometimes the
algorithm yields what is called “Invalid geometries”, i.e. there are
empty polygons, or polygons with mistakes in them, that will be
difficult to analyze in the future.
So, we need to use the “Fix Geometry” tool.</p>
</section>
<section id="fixing-geometry">
<h2><span class="section-number">8.4.19. </span>Fixing geometry<a class="headerlink" href="#fixing-geometry" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>In the <span class="guilabel">Processing Toolbox</span>, search for “Fix geometries”,
and <span class="guilabel">Execute…</span> it</p></li>
<li><p>For the <span class="guilabel">Input layer</span>, select <code class="docutils literal notranslate"><span class="pre">aspect_slope_rainfall_1</span></code></p></li>
<li><p>Under <span class="guilabel">Fixed geometries</span>, select
<span class="guilabel">Save file as</span>, and save the output to <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code>
and name the file <code class="file docutils literal notranslate"><span class="pre">fixed_aspect_slope_rainfall.shp</span></code>.</p></li>
<li><p>Ensure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Open output file after running algorithm</span> is checked</p></li>
<li><p>Click <span class="guilabel">Run</span></p></li>
<li><p>Close the dialog when processing is complete</p></li>
</ol>
<p>Now that you have vectorized the raster, and fixed the resulting
geometry, you can combine the aspect, slope, and rainfall criteria
with the distance from human settlement criteria by finding the
intersection of the <code class="docutils literal notranslate"><span class="pre">fixed_aspect_slope_rainfall</span></code> layer and the
<code class="docutils literal notranslate"><span class="pre">rural_buffer</span></code> layer.</p>
</section>
<section id="determining-the-intersection-of-vectors">
<h2><span class="section-number">8.4.20. </span>Determining the Intersection of vectors<a class="headerlink" href="#determining-the-intersection-of-vectors" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Click the menu item
<span class="menuselection">Vector ► Geoprocessing Tools ►
Intersection…</span></p></li>
<li><p>In the dialog that appears, select the <code class="docutils literal notranslate"><span class="pre">rural_buffer</span></code> layer as
<span class="guilabel">Input layer</span></p></li>
<li><p>For the <span class="guilabel">Overlay layer</span>, select the
<code class="docutils literal notranslate"><span class="pre">fixed_aspect_slope_rainfall</span></code> layer</p></li>
<li><p>In <span class="guilabel">Intersection</span>, place the output file in the
<code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory</p></li>
<li><p>Name the output file <code class="file docutils literal notranslate"><span class="pre">rural_aspect_slope_rainfall.shp</span></code></p></li>
<li><p>Click <span class="guilabel">Save</span></p></li>
<li><p>Click <span class="guilabel">Run</span> and wait for the processing to complete</p></li>
<li><p>Close the <span class="guilabel">Intersection</span> dialog.</p>
<p>Make sure that your intersection worked correctly by noting that
only the overlapping areas remain.</p>
</li>
<li><p>Save the project</p></li>
</ol>
<p>The next criteria on the list is that the area must be greater than
<code class="docutils literal notranslate"><span class="pre">6000</span></code> ㎡.
You will now calculate the polygon areas in order to identify the
areas that are the appropriate size for this project.</p>
</section>
<section id="calculating-the-area-for-each-polygon">
<h2><span class="section-number">8.4.21. </span>Calculating the area for each polygon<a class="headerlink" href="#calculating-the-area-for-each-polygon" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Open the new vector layer’s right-click menu</p></li>
<li><p>Select <span class="guilabel">Open attribute table</span></p></li>
<li><p>Click the <a class="reference internal" href="../../../_images/mActionToggleEditing.png"><img alt="toggleEditing" src="../../../_images/mActionToggleEditing.png" style="width: 1.5em;" /></a> <sup>Toggle editing</sup> button in the top
left corner of the table, or press <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd>+<kbd class="kbd docutils literal notranslate">e</kbd></kbd></p></li>
<li><p>Click the <a class="reference internal" href="../../../_images/mActionCalculateField.png"><img alt="calculateField" src="../../../_images/mActionCalculateField.png" style="width: 1.5em;" /></a> <sup>Open field calculator</sup> button in
the toolbar along the top of the table, or press <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Ctrl</kbd>+<kbd class="kbd docutils literal notranslate">i</kbd></kbd></p></li>
<li><p>In the dialog that appears, make sure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Create new field</span> is checked, and set the
<span class="guilabel">Output field name</span> to <code class="docutils literal notranslate"><span class="pre">area</span></code>
The output field type should be a decimal number (real).
Set <span class="guilabel">Precision</span> to <code class="docutils literal notranslate"><span class="pre">1</span></code> (one decimal).</p></li>
<li><p>In the <span class="guilabel">Expression</span> area, type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$area
</pre></div>
</div>
<p>This means that the field calculator will calculate the area of
each polygon in the vector layer and will then populate a new
integer column (called <code class="docutils literal notranslate"><span class="pre">area</span></code>) with the computed value.</p>
<figure class="align-center" id="id12">
<img alt="../../../_images/field_calculator_area.png" src="../../../_images/field_calculator_area.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.14 </span><span class="caption-text">Field Calculator</span><a class="headerlink" href="#id12" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
<li><p>Click <span class="guilabel">OK</span></p></li>
<li><p>Do the same thing for another new field called <code class="docutils literal notranslate"><span class="pre">id</span></code>.
In <span class="guilabel">Field calculator expression</span>, type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$id
</pre></div>
</div>
<p>This ensures that each polygon has a unique ID for identification
purposes.</p>
</li>
<li><p>Click <a class="reference internal" href="../../../_images/mActionToggleEditing.png"><img alt="toggleEditing" src="../../../_images/mActionToggleEditing.png" style="width: 1.5em;" /></a> <sup>Toggle editing</sup> again, and save your
edits if prompted to do so</p>
<figure class="align-center" id="id13">
<img alt="../../../_images/attribute_table.png" src="../../../_images/attribute_table.png" />
<figcaption>
<p><span class="caption-number">Fig. 8.15 </span><span class="caption-text">Attribute table with area and id columns</span><a class="headerlink" href="#id13" title="Link to this image"></a></p>
</figcaption>
</figure>
</li>
</ol>
</section>
<section id="selecting-areas-of-a-given-size">
<h2><span class="section-number">8.4.22. </span>Selecting areas of a given size<a class="headerlink" href="#selecting-areas-of-a-given-size" title="Link to this heading"></a></h2>
<p>Now that the areas are known:</p>
<ol class="arabic">
<li><p>Build a query (as usual) to select only the polygons that are
larger than <code class="docutils literal notranslate"><span class="pre">6000</span></code> ㎡.
The query is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;area&quot;</span> <span class="o">&gt;</span> <span class="mi">6000</span>
</pre></div>
</div>
</li>
<li><p>Save the selection in the <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory as a new
vector layer called <code class="file docutils literal notranslate"><span class="pre">suitable_areas.shp</span></code>.</p></li>
</ol>
<p>You now have the suitable areas that meet all of the habitat criteria
for the rare fynbos plant, from which you will pick the four areas
that are nearest to the University of Cape Town.</p>
</section>
<section id="digitize-the-university-of-cape-town">
<h2><span class="section-number">8.4.23. </span>Digitize the University of Cape Town<a class="headerlink" href="#digitize-the-university-of-cape-town" title="Link to this heading"></a></h2>
<ol class="arabic">
<li><p>Create a new vector layer in the <code class="file docutils literal notranslate"><span class="pre">Rasterprac</span></code> directory as
before, but this time, use <span class="guilabel">Point</span> as
<span class="guilabel">Geometry type</span> and name it <code class="file docutils literal notranslate"><span class="pre">university.shp</span></code></p></li>
<li><p>Ensure that it is in the correct CRS
(<code class="docutils literal notranslate"><span class="pre">Project</span> <span class="pre">CRS:EPSG:32733</span> <span class="pre">-</span> <span class="pre">WGS</span> <span class="pre">84</span> <span class="pre">/</span> <span class="pre">UTM</span> <span class="pre">zone</span> <span class="pre">33S</span></code>)</p></li>
<li><p>Finish creating the new layer (click <span class="guilabel">OK</span>)</p></li>
<li><p>Hide all layers except the new <code class="docutils literal notranslate"><span class="pre">university</span></code> layer and the
<code class="docutils literal notranslate"><span class="pre">Streets</span></code> layer.</p></li>
<li><p>Add a background map (OSM):</p>
<ol class="arabic simple">
<li><p>Go to the <span class="guilabel">Browser</span> panel and navigate to
<span class="menuselection">XYZ Tiles ► OpenStreetMap</span></p></li>
<li><p>Drag and drop the <code class="docutils literal notranslate"><span class="pre">OpenStreetMap</span></code> entry to the bottom of the
<span class="guilabel">Layers</span> panel</p></li>
</ol>
<p>Using your internet browser, look up the location of the University
of Cape Town.
Given Cape Town’s unique topography, the university is in a very
recognizable location.
Before you return to QGIS, take note of where the university is
located, and what is nearby.</p>
</li>
<li><p>Ensure that the <code class="docutils literal notranslate"><span class="pre">Streets</span></code> layer clicked on, and that the
<code class="docutils literal notranslate"><span class="pre">university</span></code> layer is highlighted in the
<span class="guilabel">Layers</span> panel</p></li>
<li><p>Navigate to the <span class="menuselection">View ► Toolbars</span> menu item and
ensure that <span class="guilabel">Digitizing</span> is selected.
You should then see a toolbar icon with a pencil on it
(<a class="reference internal" href="../../../_images/mActionToggleEditing.png"><img alt="toggleEditing" src="../../../_images/mActionToggleEditing.png" style="width: 1.5em;" /></a> <sup>Toggle editing</sup>).
This is the <em>Toggle Editing</em> button.</p></li>
<li><p>Click the <span class="guilabel">Toggle editing</span> button to enter <em>edit mode</em>.
This allows you to edit a vector layer</p></li>
<li><p>Click the <a class="reference internal" href="../../../_images/mActionCapturePoint.png"><img alt="capturePoint" src="../../../_images/mActionCapturePoint.png" style="width: 1.5em;" /></a> <sup>Add Point Feature</sup> button, which
should be nearby the <a class="reference internal" href="../../../_images/mActionToggleEditing.png"><img alt="toggleEditing" src="../../../_images/mActionToggleEditing.png" style="width: 1.5em;" /></a> <sup>Toggle editing</sup> button</p></li>
<li><p>With the <span class="guilabel">Add feature</span> tool activated, left-click on
your best estimate of the location of the University of Cape Town</p></li>
<li><p>Supply an arbitrary integer when asked for the <code class="docutils literal notranslate"><span class="pre">id</span></code></p></li>
<li><p>Click <span class="guilabel">OK</span></p></li>
<li><p>Click the <a class="reference internal" href="../../../_images/mActionSaveEdits.png"><img alt="saveEdits" src="../../../_images/mActionSaveEdits.png" style="width: 1.5em;" /></a> <sup>Save Layer Edits</sup> button</p></li>
<li><p>Click the <span class="guilabel">Toggle editing</span> button to stop your editing
session</p></li>
<li><p>Save the project</p></li>
</ol>
</section>
<section id="find-the-locations-that-are-closest-to-the-university-of-cape-town">
<h2><span class="section-number">8.4.24. </span>Find the locations that are closest to the University of Cape Town<a class="headerlink" href="#find-the-locations-that-are-closest-to-the-university-of-cape-town" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>Go to the <em>Processing Toolbox</em>, locate the
<em>Join Attributes by Nearest</em> algorithm
(<span class="menuselection">Vector general ► Join Attributes by Nearest</span>)
and execute it</p></li>
<li><p><span class="guilabel">Input layer</span> should be <code class="docutils literal notranslate"><span class="pre">university</span></code>, and
<span class="guilabel">Input layer 2</span> <code class="docutils literal notranslate"><span class="pre">suitable_areas</span></code></p></li>
<li><p>Set an appropriate output location and name
(<span class="guilabel">Joined layer</span>)</p></li>
<li><p>Set the <span class="guilabel">Maximum nearest neighbors</span> to <code class="docutils literal notranslate"><span class="pre">4</span></code></p></li>
<li><p>Ensure that <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<span class="guilabel">Open output file after running algorithm</span> is checked</p></li>
<li><p>Leave the rest of the parameters with their default values</p></li>
<li><p>Click <span class="guilabel">Run</span></p></li>
</ol>
<p>The resulting point layer will contain four features - they will
all have the location of the university and its attributes, and in
addition, the attributes of the nearby suitable areas (including the
<code class="docutils literal notranslate"><span class="pre">id</span></code>), and the distance to that location.</p>
<ol class="arabic simple">
<li><p>Open the attribute table of the result of the join</p></li>
<li><p>Note the <code class="docutils literal notranslate"><span class="pre">id</span></code> of the four nearest suitable areas, and
then close the attribute table</p></li>
<li><p>Open the attribute table of the <code class="docutils literal notranslate"><span class="pre">suitable_areas</span></code> layer</p></li>
<li><p>Build a query to select the four suitable areas closest to the
university (selecting them using the <code class="docutils literal notranslate"><span class="pre">id</span></code> field)</p></li>
</ol>
<p>This is the final answer to the research question.</p>
<p>For your submission, create a fully labeled layout that includes the
semi-transparent hillshade layer over an appealing raster of your
choice (such as the DEM or the slope raster,
for example).
Also include the university and the <code class="docutils literal notranslate"><span class="pre">suitable_areas</span></code> layer, with
the four suitable areas that are closest to the university
highlighted.
Follow all the best practices for cartography in creating your output
map.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="assignment.html" class="btn btn-neutral float-left" title="8.3. Assignment" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../qgis_plugins/index.html" class="btn btn-neutral float-right" title="9. Module: Plugins" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2002-now, QGIS project.
      <span class="lastupdated">Last updated on 2024 May 30, 01:27 +0900.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <!-- Transifex follows a particular logic to build target pages:
Expected French translation link for https://docs.qgis.org/3.28/en/docs/user_manual/print_composer/overview_composer.html
would return https://app.transifex.com/qgis/qgis-documentation/translate/#fr/aa6d8bc653526d38b295ca94bf8eee5e
with the md5 value of "github#qgis/QGIS-Documentation#release_3.28#locale/en/LC_MESSAGES/docs/user_manual/print_composer/overview_composer.po"-->
<!--Make sure that mismatching language codes between Transifex and Sphinx are converted-->


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-info-circle"> QGIS Documentation </span>
      v: 3.34
      <span class="fa fa-caret-down"></span>
    </span>

    <div class="rst-other-versions">
      <dl>
        <dt>Languages</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/training_manual/complete_analysis/analysis_exercise.html">en</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/cs/docs/training_manual/complete_analysis/analysis_exercise.html">cs</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/de/docs/training_manual/complete_analysis/analysis_exercise.html">de</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/es/docs/training_manual/complete_analysis/analysis_exercise.html">es</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/fr/docs/training_manual/complete_analysis/analysis_exercise.html">fr</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/hu/docs/training_manual/complete_analysis/analysis_exercise.html">hu</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/it/docs/training_manual/complete_analysis/analysis_exercise.html">it</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ja/docs/training_manual/complete_analysis/analysis_exercise.html">ja</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ko/docs/training_manual/complete_analysis/analysis_exercise.html">ko</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/lt/docs/training_manual/complete_analysis/analysis_exercise.html">lt</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/nl/docs/training_manual/complete_analysis/analysis_exercise.html">nl</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_BR/docs/training_manual/complete_analysis/analysis_exercise.html">pt_BR</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/pt_PT/docs/training_manual/complete_analysis/analysis_exercise.html">pt_PT</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ro/docs/training_manual/complete_analysis/analysis_exercise.html">ro</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/ru/docs/training_manual/complete_analysis/analysis_exercise.html">ru</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zh-Hans/docs/training_manual/complete_analysis/analysis_exercise.html">zh-Hans</a></dd>
        
      </dl>

      <dl>
        <dt>Versions</dt>
        
          <dd><a href="https://docs.qgis.org/testing/en/docs/training_manual/complete_analysis/analysis_exercise.html">testing</a></dd>
        
          <dd><a href="https://docs.qgis.org/latest/en/docs/training_manual/complete_analysis/analysis_exercise.html">latest</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/en/docs/training_manual/complete_analysis/analysis_exercise.html">3.34</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.28/en/docs/training_manual/complete_analysis/analysis_exercise.html">3.28</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.22/en/docs/training_manual/complete_analysis/analysis_exercise.html">3.22</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.16/en/docs/training_manual/complete_analysis/analysis_exercise.html">3.16</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.10/en/docs/training_manual/complete_analysis/analysis_exercise.html">3.10</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.4/en/docs/training_manual/complete_analysis/analysis_exercise.html">3.4</a></dd>
        
          <dd><a href="https://docs.qgis.org/2.18/en/docs/training_manual/complete_analysis/analysis_exercise.html">2.18</a></dd>
        
      </dl>

       
       <dl>
        <dt>Downloads</dt>
        
          <dd><a href="https://docs.qgis.org/3.34/pdf">PDF</a></dd>
        
          <dd><a href="https://docs.qgis.org/3.34/zip">HTML</a></dd>
        
      </dl>
      

      
       
      <dl>
        <dt>Contribute to Docs</dt>
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/edit/master/docs/training_manual/complete_analysis/analysis_exercise.rst" target="_blank" rel="noopener noreferrer">Edit on GitHub</a>
          </dd>
          
          
          <dd>
            <a href="https://app.transifex.com/qgis/qgis-documentation/translate/#en/40a62bf231ed612292c6be8923db6dba" target="_blank" rel="noopener noreferrer">Translate Page</a>
          </dd>
          
          <dd>
            <a href="https://github.com/qgis/QGIS-Documentation/issues" target="_blank" rel="noopener noreferrer">Report Issue</a>
          </dd>
      </dl>
      

      <dl>
        <dt>On QGIS Project</dt>
          <dd>
            <a href="https://qgis.org/en" target="_blank" rel="noopener noreferrer">Home</a>
          </dd>
          <dd>
            <a href="https://qgis.org/api/3.34" target="_blank" rel="noopener noreferrer">C++ API</a>
          </dd>
          <dd>
            <a href="https://qgis.org/pyqgis/3.34" target="_blank" rel="noopener noreferrer">PyQGIS API</a>
          </dd>
          <dd>
            <a href="https://github.com/qgis/QGIS/tree/release-3_34" target="_blank" rel="noopener noreferrer">Source</a>
          </dd>
      </dl>

    </div>
  </div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>